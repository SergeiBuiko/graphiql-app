"use strict";(self.webpackChunkreact_scratch_sample=self.webpackChunkreact_scratch_sample||[]).push([[536],{7536:(e,t,r)=>{r.d(t,{cI:()=>oe});var s=r(7294),a=e=>"checkbox"===e.type,i=e=>e instanceof Date,n=e=>null==e;const o=e=>"object"==typeof e;var u=e=>!n(e)&&!Array.isArray(e)&&o(e)&&!i(e),l="undefined"!=typeof window&&void 0!==window.HTMLElement&&"undefined"!=typeof document;function c(e){let t;const r=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else{if(l&&(e instanceof Blob||e instanceof FileList)||!r&&!u(e))return e;if(t=r?[]:{},Array.isArray(e)||(e=>{const t=e.constructor&&e.constructor.prototype;return u(t)&&t.hasOwnProperty("isPrototypeOf")})(e))for(const r in e)t[r]=c(e[r]);else t=e}return t}var d=e=>Array.isArray(e)?e.filter(Boolean):[],f=e=>void 0===e,y=(e,t,r)=>{if(!t||!u(e))return r;const s=d(t.split(/[,[\].]+?/)).reduce(((e,t)=>n(e)?e:e[t]),e);return f(s)||s===e?f(e[t])?r:e[t]:s};const m="onChange",h="onSubmit",v="all",g="pattern",p="required";s.createContext(null);var b=e=>u(e)&&!Object.keys(e).length,_=e=>Array.isArray(e)?e:[e];var V=e=>"string"==typeof e,A=e=>/^\w*$/.test(e),w=e=>d(e.replace(/["|']|\]/g,"").split(/\.|\[/));function F(e,t,r){let s=-1;const a=A(t)?[t]:w(t),i=a.length,n=i-1;for(;++s<i;){const t=a[s];let i=r;if(s!==n){const r=e[t];i=u(r)||Array.isArray(r)?r:isNaN(+a[s+1])?{}:[]}e[t]=i,e=e[t]}return e}var x=(e,t,r,s,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[s]:a||!0}}:{};const S=(e,t,r)=>{for(const s of r||Object.keys(e)){const r=y(e,s);if(r){const{_f:e,...s}=r;if(e&&t(e.name)){if(e.ref.focus){e.ref.focus();break}if(e.refs&&e.refs[0].focus){e.refs[0].focus();break}}else u(s)&&S(s,t)}}};var k=e=>({isOnSubmit:!e||e===h,isOnBlur:"onBlur"===e,isOnChange:e===m,isOnAll:e===v,isOnTouch:"onTouched"===e}),D=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some((t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length))))),O=(e,t,r)=>{const s=d(y(e,r));return F(s,"root",t[r]),F(e,r,s),e},C=e=>"boolean"==typeof e,E=e=>"file"===e.type,T=e=>"function"==typeof e,L=e=>{if(!l)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},j=e=>V(e),N=e=>"radio"===e.type,U=e=>e instanceof RegExp;const B={value:!1,isValid:!1},M={value:!0,isValid:!0};var q=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter((e=>e&&e.checked&&!e.disabled)).map((e=>e.value));return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!f(e[0].attributes.value)?f(e[0].value)||""===e[0].value?M:{value:e[0].value,isValid:!0}:M:B}return B};const I={isValid:!1,value:null};var P=e=>Array.isArray(e)?e.reduce(((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e),I):I;function $(e,t,r="validate"){if(j(e)||Array.isArray(e)&&e.every(j)||C(e)&&!e)return{type:r,message:j(e)?e:"",ref:t}}var H=e=>u(e)&&!U(e)?e:{value:e,message:""},R=async(e,t,r,s,i)=>{const{ref:o,refs:l,required:c,maxLength:d,minLength:m,min:h,max:v,pattern:_,validate:A,name:w,valueAsNumber:F,mount:S,disabled:k}=e._f,D=y(t,w);if(!S||k)return{};const O=l?l[0]:o,B=e=>{s&&O.reportValidity&&(O.setCustomValidity(C(e)?"":e||""),O.reportValidity())},M={},I=N(o),R=a(o),W=I||R,z=(F||E(o))&&f(o.value)&&f(D)||L(o)&&""===o.value||""===D||Array.isArray(D)&&!D.length,G=x.bind(null,w,r,M),J=(e,t,r,s="maxLength",a="minLength")=>{const i=e?t:r;M[w]={type:e?s:a,message:i,ref:o,...G(e?s:a,i)}};if(i?!Array.isArray(D)||!D.length:c&&(!W&&(z||n(D))||C(D)&&!D||R&&!q(l).isValid||I&&!P(l).isValid)){const{value:e,message:t}=j(c)?{value:!!c,message:c}:H(c);if(e&&(M[w]={type:p,message:t,ref:O,...G(p,t)},!r))return B(t),M}if(!(z||n(h)&&n(v))){let e,t;const s=H(v),a=H(h);if(n(D)||isNaN(D)){const r=o.valueAsDate||new Date(D),i=e=>new Date((new Date).toDateString()+" "+e),n="time"==o.type,u="week"==o.type;V(s.value)&&D&&(e=n?i(D)>i(s.value):u?D>s.value:r>new Date(s.value)),V(a.value)&&D&&(t=n?i(D)<i(a.value):u?D<a.value:r<new Date(a.value))}else{const r=o.valueAsNumber||(D?+D:D);n(s.value)||(e=r>s.value),n(a.value)||(t=r<a.value)}if((e||t)&&(J(!!e,s.message,a.message,"max","min"),!r))return B(M[w].message),M}if((d||m)&&!z&&(V(D)||i&&Array.isArray(D))){const e=H(d),t=H(m),s=!n(e.value)&&D.length>+e.value,a=!n(t.value)&&D.length<+t.value;if((s||a)&&(J(s,e.message,t.message),!r))return B(M[w].message),M}if(_&&!z&&V(D)){const{value:e,message:t}=H(_);if(U(e)&&!D.match(e)&&(M[w]={type:g,message:t,ref:o,...G(g,t)},!r))return B(t),M}if(A)if(T(A)){const e=$(await A(D,t),O);if(e&&(M[w]={...e,...G("validate",e.message)},!r))return B(e.message),M}else if(u(A)){let e={};for(const s in A){if(!b(e)&&!r)break;const a=$(await A[s](D,t),O,s);a&&(e={...a,...G(s,a.message)},B(a.message),r&&(M[w]=e))}if(!b(e)&&(M[w]={ref:O,...e},!r))return M}return B(!0),M};function W(e,t){const r=Array.isArray(t)?t:A(t)?[t]:w(t),s=1===r.length?e:function(e,t){const r=t.slice(0,-1).length;let s=0;for(;s<r;)e=f(e)?s++:e[t[s++]];return e}(e,r),a=r.length-1,i=r[a];return s&&delete s[i],0!==a&&(u(s)&&b(s)||Array.isArray(s)&&function(e){for(const t in e)if(!f(e[t]))return!1;return!0}(s))&&W(e,r.slice(0,-1)),e}function z(){let e=[];return{get observers(){return e},next:t=>{for(const r of e)r.next&&r.next(t)},subscribe:t=>(e.push(t),{unsubscribe:()=>{e=e.filter((e=>e!==t))}}),unsubscribe:()=>{e=[]}}}var G=e=>n(e)||!o(e);function J(e,t){if(G(e)||G(t))return e===t;if(i(e)&&i(t))return e.getTime()===t.getTime();const r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(const a of r){const r=e[a];if(!s.includes(a))return!1;if("ref"!==a){const e=t[a];if(i(r)&&i(e)||u(r)&&u(e)||Array.isArray(r)&&Array.isArray(e)?!J(r,e):r!==e)return!1}}return!0}var K=e=>"select-multiple"===e.type,Q=e=>L(e)&&e.isConnected,X=e=>{for(const t in e)if(T(e[t]))return!0;return!1};function Y(e,t={}){const r=Array.isArray(e);if(u(e)||r)for(const r in e)Array.isArray(e[r])||u(e[r])&&!X(e[r])?(t[r]=Array.isArray(e[r])?[]:{},Y(e[r],t[r])):n(e[r])||(t[r]=!0);return t}function Z(e,t,r){const s=Array.isArray(e);if(u(e)||s)for(const s in e)Array.isArray(e[s])||u(e[s])&&!X(e[s])?f(t)||G(r[s])?r[s]=Array.isArray(e[s])?Y(e[s],[]):{...Y(e[s])}:Z(e[s],n(t)?{}:t[s],r[s]):r[s]=!J(e[s],t[s]);return r}var ee=(e,t)=>Z(e,t,Y(t)),te=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:s})=>f(e)?e:t?""===e?NaN:e?+e:e:r&&V(e)?new Date(e):s?s(e):e;function re(e){const t=e.ref;if(!(e.refs?e.refs.every((e=>e.disabled)):t.disabled))return E(t)?t.files:N(t)?P(e.refs).value:K(t)?[...t.selectedOptions].map((({value:e})=>e)):a(t)?q(e.refs).value:te(f(t.value)?e.ref.value:t.value,e)}var se=e=>f(e)?e:U(e)?e.source:u(e)?U(e.value)?e.value.source:e.value:e;function ae(e,t,r){const s=y(e,r);if(s||A(r))return{error:s,name:r};const a=r.split(".");for(;a.length;){const s=a.join("."),i=y(t,s),n=y(e,s);if(i&&!Array.isArray(i)&&r!==s)return{name:r};if(n&&n.type)return{name:s,error:n};a.pop()}return{name:r}}const ie={mode:h,reValidateMode:m,shouldFocusError:!0};function ne(e={},t){let r,s={...ie,...e},o={submitCount:0,isDirty:!1,isLoading:T(s.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},m={},h=(u(s.defaultValues)||u(s.values))&&c(s.defaultValues||s.values)||{},g=s.shouldUnregister?{}:c(h),p={action:!1,mount:!1,watch:!1},A={mount:new Set,unMount:new Set,array:new Set,watch:new Set},w=0;const x={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},j={values:z(),array:z(),state:z()},U=e.resetOptions&&e.resetOptions.keepDirtyValues,B=k(s.mode),M=k(s.reValidateMode),q=s.criteriaMode===v,I=async e=>{if(x.isValid||e){const e=s.resolver?b((await X()).errors):await Y(m,!0);e!==o.isValid&&j.state.next({isValid:e})}},P=e=>x.isValidating&&j.state.next({isValidating:e}),$=(e,t,r,s)=>{const a=y(m,e);if(a){const i=y(g,e,f(r)?y(h,e):r);f(i)||s&&s.defaultChecked||t?F(g,e,t?i:re(a._f)):oe(e,i),p.mount&&I()}},H=(e,t,r,s,a)=>{let i=!1,n=!1;const u={name:e};if(!r||s){x.isDirty&&(n=o.isDirty,o.isDirty=u.isDirty=Z(),i=n!==u.isDirty);const r=J(y(h,e),t);n=y(o.dirtyFields,e),r?W(o.dirtyFields,e):F(o.dirtyFields,e,!0),u.dirtyFields=o.dirtyFields,i=i||x.dirtyFields&&n!==!r}if(r){const t=y(o.touchedFields,e);t||(F(o.touchedFields,e,r),u.touchedFields=o.touchedFields,i=i||x.touchedFields&&t!==r)}return i&&a&&j.state.next(u),i?u:{}},X=async e=>s.resolver(g,s.context,((e,t,r,s)=>{const a={};for(const r of e){const e=y(t,r);e&&F(a,r,e._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:s}})(e||A.mount,m,s.criteriaMode,s.shouldUseNativeValidation)),Y=async(e,t,r={valid:!0})=>{for(const a in e){const i=e[a];if(i){const{_f:e,...a}=i;if(e){const a=A.array.has(e.name),n=await R(i,g,q,s.shouldUseNativeValidation&&!t,a);if(n[e.name]&&(r.valid=!1,t))break;!t&&(y(n,e.name)?a?O(o.errors,n,e.name):F(o.errors,e.name,n[e.name]):W(o.errors,e.name))}a&&await Y(a,t,r)}}return r.valid},Z=(e,t)=>(e&&t&&F(g,e,t),!J(fe(),h)),ne=(e,t,r)=>((e,t,r,s,a)=>V(e)?(s&&t.watch.add(e),y(r,e,a)):Array.isArray(e)?e.map((e=>(s&&t.watch.add(e),y(r,e)))):(s&&(t.watchAll=!0),r))(e,A,{...p.mount?g:f(t)?h:V(e)?{[e]:t}:t},r,t),oe=(e,t,r={})=>{const s=y(m,e);let i=t;if(s){const r=s._f;r&&(!r.disabled&&F(g,e,te(t,r)),i=L(r.ref)&&n(t)?"":t,K(r.ref)?[...r.ref.options].forEach((e=>e.selected=i.includes(e.value))):r.refs?a(r.ref)?r.refs.length>1?r.refs.forEach((e=>(!e.defaultChecked||!e.disabled)&&(e.checked=Array.isArray(i)?!!i.find((t=>t===e.value)):i===e.value))):r.refs[0]&&(r.refs[0].checked=!!i):r.refs.forEach((e=>e.checked=e.value===i)):E(r.ref)?r.ref.value="":(r.ref.value=i,r.ref.type||j.values.next({name:e,values:{...g}})))}(r.shouldDirty||r.shouldTouch)&&H(e,i,r.shouldTouch,r.shouldDirty,!0),r.shouldValidate&&de(e)},ue=(e,t,r)=>{for(const s in t){const a=t[s],n=`${e}.${s}`,o=y(m,n);!A.array.has(e)&&G(a)&&(!o||o._f)||i(a)?oe(n,a,r):ue(n,a,r)}},le=(e,r,s={})=>{const a=y(m,e),i=A.array.has(e),u=c(r);F(g,e,u),i?(j.array.next({name:e,values:{...g}}),(x.isDirty||x.dirtyFields)&&s.shouldDirty&&j.state.next({name:e,dirtyFields:ee(h,g),isDirty:Z(e,u)})):!a||a._f||n(u)?oe(e,u,s):ue(e,u,s),D(e,A)&&j.state.next({...o}),j.values.next({name:e,values:{...g}}),!p.mount&&t()},ce=async t=>{const i=t.target;let n=i.name,l=!0;const c=y(m,n);if(c){let f,h;const v=i.type?re(c._f):(e=>u(e)&&e.target?a(e.target)?e.target.checked:e.target.value:e)(t),p="blur"===t.type||"focusout"===t.type,_=!((d=c._f).mount&&(d.required||d.min||d.max||d.maxLength||d.minLength||d.pattern||d.validate)||s.resolver||y(o.errors,n)||c._f.deps)||((e,t,r,s,a)=>!a.isOnAll&&(!r&&a.isOnTouch?!(t||e):(r?s.isOnBlur:a.isOnBlur)?!e:!(r?s.isOnChange:a.isOnChange)||e))(p,y(o.touchedFields,n),o.isSubmitted,M,B),V=D(n,A,p);F(g,n,v),p?(c._f.onBlur&&c._f.onBlur(t),r&&r(0)):c._f.onChange&&c._f.onChange(t);const S=H(n,v,p,!1),k=!b(S)||V;if(!p&&j.values.next({name:n,type:t.type,values:{...g}}),_)return x.isValid&&I(),k&&j.state.next({name:n,...V?{}:S});if(!p&&V&&j.state.next({...o}),P(!0),s.resolver){const{errors:e}=await X([n]),t=ae(o.errors,m,n),r=ae(e,m,t.name||n);f=r.error,n=r.name,h=b(e)}else f=(await R(c,g,q,s.shouldUseNativeValidation))[n],l=isNaN(v)||v===y(g,n,v),l&&(f?h=!1:x.isValid&&(h=await Y(m,!0)));l&&(c._f.deps&&de(c._f.deps),((t,s,a,i)=>{const n=y(o.errors,t),u=x.isValid&&C(s)&&o.isValid!==s;var l;if(e.delayError&&a?(l=()=>((e,t)=>{F(o.errors,e,t),j.state.next({errors:o.errors})})(t,a),r=e=>{clearTimeout(w),w=setTimeout(l,e)},r(e.delayError)):(clearTimeout(w),r=null,a?F(o.errors,t,a):W(o.errors,t)),(a?!J(n,a):n)||!b(i)||u){const e={...i,...u&&C(s)?{isValid:s}:{},errors:o.errors,name:t};o={...o,...e},j.state.next(e)}P(!1)})(n,h,f,S))}var d},de=async(e,t={})=>{let r,a;const i=_(e);if(P(!0),s.resolver){const t=await(async e=>{const{errors:t}=await X();if(e)for(const r of e){const e=y(t,r);e?F(o.errors,r,e):W(o.errors,r)}else o.errors=t;return t})(f(e)?e:i);r=b(t),a=e?!i.some((e=>y(t,e))):r}else e?(a=(await Promise.all(i.map((async e=>{const t=y(m,e);return await Y(t&&t._f?{[e]:t}:t)})))).every(Boolean),(a||o.isValid)&&I()):a=r=await Y(m);return j.state.next({...!V(e)||x.isValid&&r!==o.isValid?{}:{name:e},...s.resolver||!e?{isValid:r}:{},errors:o.errors,isValidating:!1}),t.shouldFocus&&!a&&S(m,(e=>e&&y(o.errors,e)),e?i:A.mount),a},fe=e=>{const t={...h,...p.mount?g:{}};return f(e)?t:V(e)?y(t,e):e.map((e=>y(t,e)))},ye=(e,t)=>({invalid:!!y((t||o).errors,e),isDirty:!!y((t||o).dirtyFields,e),isTouched:!!y((t||o).touchedFields,e),error:y((t||o).errors,e)}),me=(e,t={})=>{for(const r of e?_(e):A.mount)A.mount.delete(r),A.array.delete(r),t.keepValue||(W(m,r),W(g,r)),!t.keepError&&W(o.errors,r),!t.keepDirty&&W(o.dirtyFields,r),!t.keepTouched&&W(o.touchedFields,r),!s.shouldUnregister&&!t.keepDefaultValue&&W(h,r);j.values.next({values:{...g}}),j.state.next({...o,...t.keepDirty?{isDirty:Z()}:{}}),!t.keepIsValid&&I()},he=(e,t={})=>{let r=y(m,e);const i=C(t.disabled);return F(m,e,{...r||{},_f:{...r&&r._f?r._f:{ref:{name:e}},name:e,mount:!0,...t}}),A.mount.add(e),r?i&&F(g,e,t.disabled?void 0:y(g,e,re(r._f))):$(e,!0,t.value),{...i?{disabled:t.disabled}:{},...s.shouldUseNativeValidation?{required:!!t.required,min:se(t.min),max:se(t.max),minLength:se(t.minLength),maxLength:se(t.maxLength),pattern:se(t.pattern)}:{},name:e,onChange:ce,onBlur:ce,ref:i=>{if(i){he(e,t),r=y(m,e);const s=f(i.value)&&i.querySelectorAll&&i.querySelectorAll("input,select,textarea")[0]||i,n=(e=>N(e)||a(e))(s),o=r._f.refs||[];if(n?o.find((e=>e===s)):s===r._f.ref)return;F(m,e,{_f:{...r._f,...n?{refs:[...o.filter(Q),s,...Array.isArray(y(h,e))?[{}]:[]],ref:{type:s.type,name:e}}:{ref:s}}}),$(e,!1,void 0,s)}else r=y(m,e,{}),r._f&&(r._f.mount=!1),(s.shouldUnregister||t.shouldUnregister)&&(!((e,t)=>e.has((e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e)(t)))(A.array,e)||!p.action)&&A.unMount.add(e)}}},ve=()=>s.shouldFocusError&&S(m,(e=>e&&y(o.errors,e)),A.mount),ge=(r,s={})=>{const a=r||h,i=c(a),n=r&&!b(r)?i:h;if(s.keepDefaultValues||(h=a),!s.keepValues){if(s.keepDirtyValues||U)for(const e of A.mount)y(o.dirtyFields,e)?F(n,e,y(g,e)):le(e,y(n,e));else{if(l&&f(r))for(const e of A.mount){const t=y(m,e);if(t&&t._f){const e=Array.isArray(t._f.refs)?t._f.refs[0]:t._f.ref;if(L(e)){const t=e.closest("form");if(t){t.reset();break}}}}m={}}g=e.shouldUnregister?s.keepDefaultValues?c(h):{}:i,j.array.next({values:{...n}}),j.values.next({values:{...n}})}A={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!p.mount&&t(),p.mount=!x.isValid||!!s.keepIsValid,p.watch=!!e.shouldUnregister,j.state.next({submitCount:s.keepSubmitCount?o.submitCount:0,isDirty:s.keepDirty?o.isDirty:!(!s.keepDefaultValues||J(r,h)),isSubmitted:!!s.keepIsSubmitted&&o.isSubmitted,dirtyFields:s.keepDirtyValues?o.dirtyFields:s.keepDefaultValues&&r?ee(h,r):{},touchedFields:s.keepTouched?o.touchedFields:{},errors:s.keepErrors?o.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},pe=(e,t)=>ge(T(e)?e(g):e,t);return{control:{register:he,unregister:me,getFieldState:ye,_executeSchema:X,_getWatch:ne,_getDirty:Z,_updateValid:I,_removeUnmounted:()=>{for(const e of A.unMount){const t=y(m,e);t&&(t._f.refs?t._f.refs.every((e=>!Q(e))):!Q(t._f.ref))&&me(e)}A.unMount=new Set},_updateFieldArray:(e,t=[],r,s,a=!0,i=!0)=>{if(s&&r){if(p.action=!0,i&&Array.isArray(y(m,e))){const t=r(y(m,e),s.argA,s.argB);a&&F(m,e,t)}if(i&&Array.isArray(y(o.errors,e))){const t=r(y(o.errors,e),s.argA,s.argB);a&&F(o.errors,e,t),((e,t)=>{!d(y(e,t)).length&&W(e,t)})(o.errors,e)}if(x.touchedFields&&i&&Array.isArray(y(o.touchedFields,e))){const t=r(y(o.touchedFields,e),s.argA,s.argB);a&&F(o.touchedFields,e,t)}x.dirtyFields&&(o.dirtyFields=ee(h,g)),j.state.next({name:e,isDirty:Z(e,t),dirtyFields:o.dirtyFields,errors:o.errors,isValid:o.isValid})}else F(g,e,t)},_getFieldArray:t=>d(y(p.mount?g:h,t,e.shouldUnregister?y(h,t,[]):[])),_reset:ge,_resetDefaultValues:()=>T(s.defaultValues)&&s.defaultValues().then((e=>{pe(e,s.resetOptions),j.state.next({isLoading:!1})})),_updateFormState:e=>{o={...o,...e}},_subjects:j,_proxyFormState:x,get _fields(){return m},get _formValues(){return g},get _state(){return p},set _state(e){p=e},get _defaultValues(){return h},get _names(){return A},set _names(e){A=e},get _formState(){return o},set _formState(e){o=e},get _options(){return s},set _options(e){s={...s,...e}}},trigger:de,register:he,handleSubmit:(e,t)=>async r=>{r&&(r.preventDefault&&r.preventDefault(),r.persist&&r.persist());let a=c(g);if(j.state.next({isSubmitting:!0}),s.resolver){const{errors:e,values:t}=await X();o.errors=e,a=t}else await Y(m);W(o.errors,"root"),b(o.errors)?(j.state.next({errors:{}}),await e(a,r)):(t&&await t({...o.errors},r),ve(),setTimeout(ve)),j.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:b(o.errors),submitCount:o.submitCount+1,errors:o.errors})},watch:(e,t)=>T(e)?j.values.subscribe({next:r=>e(ne(void 0,t),r)}):ne(e,t,!0),setValue:le,getValues:fe,reset:pe,resetField:(e,t={})=>{y(m,e)&&(f(t.defaultValue)?le(e,y(h,e)):(le(e,t.defaultValue),F(h,e,t.defaultValue)),t.keepTouched||W(o.touchedFields,e),t.keepDirty||(W(o.dirtyFields,e),o.isDirty=t.defaultValue?Z(e,y(h,e)):Z()),t.keepError||(W(o.errors,e),x.isValid&&I()),j.state.next({...o}))},clearErrors:e=>{e&&_(e).forEach((e=>W(o.errors,e))),j.state.next({errors:e?o.errors:{}})},unregister:me,setError:(e,t,r)=>{const s=(y(m,e,{_f:{}})._f||{}).ref;F(o.errors,e,{...t,ref:s}),j.state.next({name:e,errors:o.errors,isValid:!1}),r&&r.shouldFocus&&s&&s.focus&&s.focus()},setFocus:(e,t={})=>{const r=y(m,e),s=r&&r._f;if(s){const e=s.refs?s.refs[0]:s.ref;e.focus&&(e.focus(),t.shouldSelect&&e.select())}},getFieldState:ye}}function oe(e={}){const t=s.useRef(),[r,a]=s.useState({isDirty:!1,isValidating:!1,isLoading:T(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:T(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...ne(e,(()=>a((e=>({...e}))))),formState:r});const i=t.current.control;return i._options=e,function(e){const t=s.useRef(e);t.current=e,s.useEffect((()=>{const r=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{r&&r.unsubscribe()}}),[e.disabled])}({subject:i._subjects.state,next:e=>{((e,t,r,s)=>{r(e);const{name:a,...i}=e;return b(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find((e=>t[e]===(!s||v)))})(e,i._proxyFormState,i._updateFormState,!0)&&a({...i._formState})}}),s.useEffect((()=>{e.values&&!J(e.values,i._defaultValues)?i._reset(e.values,i._options.resetOptions):i._resetDefaultValues()}),[e.values,i]),s.useEffect((()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()})),t.current.formState=((e,t,r,s=!0)=>{const a={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const a=i;return t._proxyFormState[a]!==v&&(t._proxyFormState[a]=!s||v),r&&(r[a]=!0),e[a]}});return a})(r,i),t.current}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFVM1csR0FFL0M2VyxJQUF3QkEsRUFBb0JFLElBQVEsR0FDN0MxRSxFQUFVMEUsRUFBSyxJQUlsQyxPQUFPbFgsQ0FBTSxFQThsRW9CbVgsQ0FBa0IzRSxFQUFXZ0MsR0FDdkQ4QixFQUFhRSxPQUN4QixDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVhY3Qtc2NyYXRjaC1zYW1wbGUvLi9ub2RlX21vZHVsZXMvcmVhY3QtaG9vay1mb3JtL2Rpc3QvaW5kZXguZXNtLm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG52YXIgaXNDaGVja0JveElucHV0ID0gKGVsZW1lbnQpID0+IGVsZW1lbnQudHlwZSA9PT0gJ2NoZWNrYm94JztcblxudmFyIGlzRGF0ZU9iamVjdCA9ICh2YWx1ZSkgPT4gdmFsdWUgaW5zdGFuY2VvZiBEYXRlO1xuXG52YXIgaXNOdWxsT3JVbmRlZmluZWQgPSAodmFsdWUpID0+IHZhbHVlID09IG51bGw7XG5cbmNvbnN0IGlzT2JqZWN0VHlwZSA9ICh2YWx1ZSkgPT4gdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JztcbnZhciBpc09iamVjdCA9ICh2YWx1ZSkgPT4gIWlzTnVsbE9yVW5kZWZpbmVkKHZhbHVlKSAmJlxuICAgICFBcnJheS5pc0FycmF5KHZhbHVlKSAmJlxuICAgIGlzT2JqZWN0VHlwZSh2YWx1ZSkgJiZcbiAgICAhaXNEYXRlT2JqZWN0KHZhbHVlKTtcblxudmFyIGdldEV2ZW50VmFsdWUgPSAoZXZlbnQpID0+IGlzT2JqZWN0KGV2ZW50KSAmJiBldmVudC50YXJnZXRcbiAgICA/IGlzQ2hlY2tCb3hJbnB1dChldmVudC50YXJnZXQpXG4gICAgICAgID8gZXZlbnQudGFyZ2V0LmNoZWNrZWRcbiAgICAgICAgOiBldmVudC50YXJnZXQudmFsdWVcbiAgICA6IGV2ZW50O1xuXG52YXIgZ2V0Tm9kZVBhcmVudE5hbWUgPSAobmFtZSkgPT4gbmFtZS5zdWJzdHJpbmcoMCwgbmFtZS5zZWFyY2goL1xcLlxcZCsoXFwufCQpLykpIHx8IG5hbWU7XG5cbnZhciBpc05hbWVJbkZpZWxkQXJyYXkgPSAobmFtZXMsIG5hbWUpID0+IG5hbWVzLmhhcyhnZXROb2RlUGFyZW50TmFtZShuYW1lKSk7XG5cbnZhciBpc1BsYWluT2JqZWN0ID0gKHRlbXBPYmplY3QpID0+IHtcbiAgICBjb25zdCBwcm90b3R5cGVDb3B5ID0gdGVtcE9iamVjdC5jb25zdHJ1Y3RvciAmJiB0ZW1wT2JqZWN0LmNvbnN0cnVjdG9yLnByb3RvdHlwZTtcbiAgICByZXR1cm4gKGlzT2JqZWN0KHByb3RvdHlwZUNvcHkpICYmIHByb3RvdHlwZUNvcHkuaGFzT3duUHJvcGVydHkoJ2lzUHJvdG90eXBlT2YnKSk7XG59O1xuXG52YXIgaXNXZWIgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJlxuICAgIHR5cGVvZiB3aW5kb3cuSFRNTEVsZW1lbnQgIT09ICd1bmRlZmluZWQnICYmXG4gICAgdHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJztcblxuZnVuY3Rpb24gY2xvbmVPYmplY3QoZGF0YSkge1xuICAgIGxldCBjb3B5O1xuICAgIGNvbnN0IGlzQXJyYXkgPSBBcnJheS5pc0FycmF5KGRhdGEpO1xuICAgIGlmIChkYXRhIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgICBjb3B5ID0gbmV3IERhdGUoZGF0YSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGRhdGEgaW5zdGFuY2VvZiBTZXQpIHtcbiAgICAgICAgY29weSA9IG5ldyBTZXQoZGF0YSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKCEoaXNXZWIgJiYgKGRhdGEgaW5zdGFuY2VvZiBCbG9iIHx8IGRhdGEgaW5zdGFuY2VvZiBGaWxlTGlzdCkpICYmXG4gICAgICAgIChpc0FycmF5IHx8IGlzT2JqZWN0KGRhdGEpKSkge1xuICAgICAgICBjb3B5ID0gaXNBcnJheSA/IFtdIDoge307XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShkYXRhKSAmJiAhaXNQbGFpbk9iamVjdChkYXRhKSkge1xuICAgICAgICAgICAgY29weSA9IGRhdGE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBkYXRhKSB7XG4gICAgICAgICAgICAgICAgY29weVtrZXldID0gY2xvbmVPYmplY3QoZGF0YVtrZXldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuICAgIHJldHVybiBjb3B5O1xufVxuXG52YXIgY29tcGFjdCA9ICh2YWx1ZSkgPT4gQXJyYXkuaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZS5maWx0ZXIoQm9vbGVhbikgOiBbXTtcblxudmFyIGlzVW5kZWZpbmVkID0gKHZhbCkgPT4gdmFsID09PSB1bmRlZmluZWQ7XG5cbnZhciBnZXQgPSAob2JqLCBwYXRoLCBkZWZhdWx0VmFsdWUpID0+IHtcbiAgICBpZiAoIXBhdGggfHwgIWlzT2JqZWN0KG9iaikpIHtcbiAgICAgICAgcmV0dXJuIGRlZmF1bHRWYWx1ZTtcbiAgICB9XG4gICAgY29uc3QgcmVzdWx0ID0gY29tcGFjdChwYXRoLnNwbGl0KC9bLFtcXF0uXSs/LykpLnJlZHVjZSgocmVzdWx0LCBrZXkpID0+IGlzTnVsbE9yVW5kZWZpbmVkKHJlc3VsdCkgPyByZXN1bHQgOiByZXN1bHRba2V5XSwgb2JqKTtcbiAgICByZXR1cm4gaXNVbmRlZmluZWQocmVzdWx0KSB8fCByZXN1bHQgPT09IG9ialxuICAgICAgICA/IGlzVW5kZWZpbmVkKG9ialtwYXRoXSlcbiAgICAgICAgICAgID8gZGVmYXVsdFZhbHVlXG4gICAgICAgICAgICA6IG9ialtwYXRoXVxuICAgICAgICA6IHJlc3VsdDtcbn07XG5cbmNvbnN0IEVWRU5UUyA9IHtcbiAgICBCTFVSOiAnYmx1cicsXG4gICAgRk9DVVNfT1VUOiAnZm9jdXNvdXQnLFxuICAgIENIQU5HRTogJ2NoYW5nZScsXG59O1xuY29uc3QgVkFMSURBVElPTl9NT0RFID0ge1xuICAgIG9uQmx1cjogJ29uQmx1cicsXG4gICAgb25DaGFuZ2U6ICdvbkNoYW5nZScsXG4gICAgb25TdWJtaXQ6ICdvblN1Ym1pdCcsXG4gICAgb25Ub3VjaGVkOiAnb25Ub3VjaGVkJyxcbiAgICBhbGw6ICdhbGwnLFxufTtcbmNvbnN0IElOUFVUX1ZBTElEQVRJT05fUlVMRVMgPSB7XG4gICAgbWF4OiAnbWF4JyxcbiAgICBtaW46ICdtaW4nLFxuICAgIG1heExlbmd0aDogJ21heExlbmd0aCcsXG4gICAgbWluTGVuZ3RoOiAnbWluTGVuZ3RoJyxcbiAgICBwYXR0ZXJuOiAncGF0dGVybicsXG4gICAgcmVxdWlyZWQ6ICdyZXF1aXJlZCcsXG4gICAgdmFsaWRhdGU6ICd2YWxpZGF0ZScsXG59O1xuXG5jb25zdCBIb29rRm9ybUNvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0KG51bGwpO1xuLyoqXG4gKiBUaGlzIGN1c3RvbSBob29rIGFsbG93cyB5b3UgdG8gYWNjZXNzIHRoZSBmb3JtIGNvbnRleHQuIHVzZUZvcm1Db250ZXh0IGlzIGludGVuZGVkIHRvIGJlIHVzZWQgaW4gZGVlcGx5IG5lc3RlZCBzdHJ1Y3R1cmVzLCB3aGVyZSBpdCB3b3VsZCBiZWNvbWUgaW5jb252ZW5pZW50IHRvIHBhc3MgdGhlIGNvbnRleHQgYXMgYSBwcm9wLiBUbyBiZSB1c2VkIHdpdGgge0BsaW5rIEZvcm1Qcm92aWRlcn0uXG4gKlxuICogQHJlbWFya3NcbiAqIFtBUEldKGh0dHBzOi8vcmVhY3QtaG9vay1mb3JtLmNvbS9hcGkvdXNlZm9ybWNvbnRleHQpIOKAoiBbRGVtb10oaHR0cHM6Ly9jb2Rlc2FuZGJveC5pby9zL3JlYWN0LWhvb2stZm9ybS12Ny1mb3JtLWNvbnRleHQteXR1ZGkpXG4gKlxuICogQHJldHVybnMgcmV0dXJuIGFsbCB1c2VGb3JtIG1ldGhvZHNcbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgdHN4XG4gKiBmdW5jdGlvbiBBcHAoKSB7XG4gKiAgIGNvbnN0IG1ldGhvZHMgPSB1c2VGb3JtKCk7XG4gKiAgIGNvbnN0IG9uU3VibWl0ID0gZGF0YSA9PiBjb25zb2xlLmxvZyhkYXRhKTtcbiAqXG4gKiAgIHJldHVybiAoXG4gKiAgICAgPEZvcm1Qcm92aWRlciB7Li4ubWV0aG9kc30gPlxuICogICAgICAgPGZvcm0gb25TdWJtaXQ9e21ldGhvZHMuaGFuZGxlU3VibWl0KG9uU3VibWl0KX0+XG4gKiAgICAgICAgIDxOZXN0ZWRJbnB1dCAvPlxuICogICAgICAgICA8aW5wdXQgdHlwZT1cInN1Ym1pdFwiIC8+XG4gKiAgICAgICA8L2Zvcm0+XG4gKiAgICAgPC9Gb3JtUHJvdmlkZXI+XG4gKiAgICk7XG4gKiB9XG4gKlxuICogIGZ1bmN0aW9uIE5lc3RlZElucHV0KCkge1xuICogICBjb25zdCB7IHJlZ2lzdGVyIH0gPSB1c2VGb3JtQ29udGV4dCgpOyAvLyByZXRyaWV2ZSBhbGwgaG9vayBtZXRob2RzXG4gKiAgIHJldHVybiA8aW5wdXQgey4uLnJlZ2lzdGVyKFwidGVzdFwiKX0gLz47XG4gKiB9XG4gKiBgYGBcbiAqL1xuY29uc3QgdXNlRm9ybUNvbnRleHQgPSAoKSA9PiBSZWFjdC51c2VDb250ZXh0KEhvb2tGb3JtQ29udGV4dCk7XG4vKipcbiAqIEEgcHJvdmlkZXIgY29tcG9uZW50IHRoYXQgcHJvcGFnYXRlcyB0aGUgYHVzZUZvcm1gIG1ldGhvZHMgdG8gYWxsIGNoaWxkcmVuIGNvbXBvbmVudHMgdmlhIFtSZWFjdCBDb250ZXh0XShodHRwczovL3JlYWN0anMub3JnL2RvY3MvY29udGV4dC5odG1sKSBBUEkuIFRvIGJlIHVzZWQgd2l0aCB7QGxpbmsgdXNlRm9ybUNvbnRleHR9LlxuICpcbiAqIEByZW1hcmtzXG4gKiBbQVBJXShodHRwczovL3JlYWN0LWhvb2stZm9ybS5jb20vYXBpL3VzZWZvcm1jb250ZXh0KSDigKIgW0RlbW9dKGh0dHBzOi8vY29kZXNhbmRib3guaW8vcy9yZWFjdC1ob29rLWZvcm0tdjctZm9ybS1jb250ZXh0LXl0dWRpKVxuICpcbiAqIEBwYXJhbSBwcm9wcyAtIGFsbCB1c2VGcm9tIG1ldGhvZHNcbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgdHN4XG4gKiBmdW5jdGlvbiBBcHAoKSB7XG4gKiAgIGNvbnN0IG1ldGhvZHMgPSB1c2VGb3JtKCk7XG4gKiAgIGNvbnN0IG9uU3VibWl0ID0gZGF0YSA9PiBjb25zb2xlLmxvZyhkYXRhKTtcbiAqXG4gKiAgIHJldHVybiAoXG4gKiAgICAgPEZvcm1Qcm92aWRlciB7Li4ubWV0aG9kc30gPlxuICogICAgICAgPGZvcm0gb25TdWJtaXQ9e21ldGhvZHMuaGFuZGxlU3VibWl0KG9uU3VibWl0KX0+XG4gKiAgICAgICAgIDxOZXN0ZWRJbnB1dCAvPlxuICogICAgICAgICA8aW5wdXQgdHlwZT1cInN1Ym1pdFwiIC8+XG4gKiAgICAgICA8L2Zvcm0+XG4gKiAgICAgPC9Gb3JtUHJvdmlkZXI+XG4gKiAgICk7XG4gKiB9XG4gKlxuICogIGZ1bmN0aW9uIE5lc3RlZElucHV0KCkge1xuICogICBjb25zdCB7IHJlZ2lzdGVyIH0gPSB1c2VGb3JtQ29udGV4dCgpOyAvLyByZXRyaWV2ZSBhbGwgaG9vayBtZXRob2RzXG4gKiAgIHJldHVybiA8aW5wdXQgey4uLnJlZ2lzdGVyKFwidGVzdFwiKX0gLz47XG4gKiB9XG4gKiBgYGBcbiAqL1xuY29uc3QgRm9ybVByb3ZpZGVyID0gKHByb3BzKSA9PiB7XG4gICAgY29uc3QgeyBjaGlsZHJlbiwgLi4uZGF0YSB9ID0gcHJvcHM7XG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KEhvb2tGb3JtQ29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZTogZGF0YSB9LCBjaGlsZHJlbikpO1xufTtcblxudmFyIGdldFByb3h5Rm9ybVN0YXRlID0gKGZvcm1TdGF0ZSwgY29udHJvbCwgbG9jYWxQcm94eUZvcm1TdGF0ZSwgaXNSb290ID0gdHJ1ZSkgPT4ge1xuICAgIGNvbnN0IHJlc3VsdCA9IHtcbiAgICAgICAgZGVmYXVsdFZhbHVlczogY29udHJvbC5fZGVmYXVsdFZhbHVlcyxcbiAgICB9O1xuICAgIGZvciAoY29uc3Qga2V5IGluIGZvcm1TdGF0ZSkge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocmVzdWx0LCBrZXksIHtcbiAgICAgICAgICAgIGdldDogKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IF9rZXkgPSBrZXk7XG4gICAgICAgICAgICAgICAgaWYgKGNvbnRyb2wuX3Byb3h5Rm9ybVN0YXRlW19rZXldICE9PSBWQUxJREFUSU9OX01PREUuYWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2wuX3Byb3h5Rm9ybVN0YXRlW19rZXldID0gIWlzUm9vdCB8fCBWQUxJREFUSU9OX01PREUuYWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsb2NhbFByb3h5Rm9ybVN0YXRlICYmIChsb2NhbFByb3h5Rm9ybVN0YXRlW19rZXldID0gdHJ1ZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZvcm1TdGF0ZVtfa2V5XTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufTtcblxudmFyIGlzRW1wdHlPYmplY3QgPSAodmFsdWUpID0+IGlzT2JqZWN0KHZhbHVlKSAmJiAhT2JqZWN0LmtleXModmFsdWUpLmxlbmd0aDtcblxudmFyIHNob3VsZFJlbmRlckZvcm1TdGF0ZSA9IChmb3JtU3RhdGVEYXRhLCBfcHJveHlGb3JtU3RhdGUsIHVwZGF0ZUZvcm1TdGF0ZSwgaXNSb290KSA9PiB7XG4gICAgdXBkYXRlRm9ybVN0YXRlKGZvcm1TdGF0ZURhdGEpO1xuICAgIGNvbnN0IHsgbmFtZSwgLi4uZm9ybVN0YXRlIH0gPSBmb3JtU3RhdGVEYXRhO1xuICAgIHJldHVybiAoaXNFbXB0eU9iamVjdChmb3JtU3RhdGUpIHx8XG4gICAgICAgIE9iamVjdC5rZXlzKGZvcm1TdGF0ZSkubGVuZ3RoID49IE9iamVjdC5rZXlzKF9wcm94eUZvcm1TdGF0ZSkubGVuZ3RoIHx8XG4gICAgICAgIE9iamVjdC5rZXlzKGZvcm1TdGF0ZSkuZmluZCgoa2V5KSA9PiBfcHJveHlGb3JtU3RhdGVba2V5XSA9PT1cbiAgICAgICAgICAgICghaXNSb290IHx8IFZBTElEQVRJT05fTU9ERS5hbGwpKSk7XG59O1xuXG52YXIgY29udmVydFRvQXJyYXlQYXlsb2FkID0gKHZhbHVlKSA9PiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZSA6IFt2YWx1ZV0pO1xuXG52YXIgc2hvdWxkU3Vic2NyaWJlQnlOYW1lID0gKG5hbWUsIHNpZ25hbE5hbWUsIGV4YWN0KSA9PiBleGFjdCAmJiBzaWduYWxOYW1lXG4gICAgPyBuYW1lID09PSBzaWduYWxOYW1lXG4gICAgOiAhbmFtZSB8fFxuICAgICAgICAhc2lnbmFsTmFtZSB8fFxuICAgICAgICBuYW1lID09PSBzaWduYWxOYW1lIHx8XG4gICAgICAgIGNvbnZlcnRUb0FycmF5UGF5bG9hZChuYW1lKS5zb21lKChjdXJyZW50TmFtZSkgPT4gY3VycmVudE5hbWUgJiZcbiAgICAgICAgICAgIChjdXJyZW50TmFtZS5zdGFydHNXaXRoKHNpZ25hbE5hbWUpIHx8XG4gICAgICAgICAgICAgICAgc2lnbmFsTmFtZS5zdGFydHNXaXRoKGN1cnJlbnROYW1lKSkpO1xuXG5mdW5jdGlvbiB1c2VTdWJzY3JpYmUocHJvcHMpIHtcbiAgICBjb25zdCBfcHJvcHMgPSBSZWFjdC51c2VSZWYocHJvcHMpO1xuICAgIF9wcm9wcy5jdXJyZW50ID0gcHJvcHM7XG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgY29uc3Qgc3Vic2NyaXB0aW9uID0gIXByb3BzLmRpc2FibGVkICYmXG4gICAgICAgICAgICBfcHJvcHMuY3VycmVudC5zdWJqZWN0ICYmXG4gICAgICAgICAgICBfcHJvcHMuY3VycmVudC5zdWJqZWN0LnN1YnNjcmliZSh7XG4gICAgICAgICAgICAgICAgbmV4dDogX3Byb3BzLmN1cnJlbnQubmV4dCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgc3Vic2NyaXB0aW9uICYmIHN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICB9O1xuICAgIH0sIFtwcm9wcy5kaXNhYmxlZF0pO1xufVxuXG4vKipcbiAqIFRoaXMgY3VzdG9tIGhvb2sgYWxsb3dzIHlvdSB0byBzdWJzY3JpYmUgdG8gZWFjaCBmb3JtIHN0YXRlLCBhbmQgaXNvbGF0ZSB0aGUgcmUtcmVuZGVyIGF0IHRoZSBjdXN0b20gaG9vayBsZXZlbC4gSXQgaGFzIGl0cyBzY29wZSBpbiB0ZXJtcyBvZiBmb3JtIHN0YXRlIHN1YnNjcmlwdGlvbiwgc28gaXQgd291bGQgbm90IGFmZmVjdCBvdGhlciB1c2VGb3JtU3RhdGUgYW5kIHVzZUZvcm0uIFVzaW5nIHRoaXMgaG9vayBjYW4gcmVkdWNlIHRoZSByZS1yZW5kZXIgaW1wYWN0IG9uIGxhcmdlIGFuZCBjb21wbGV4IGZvcm0gYXBwbGljYXRpb24uXG4gKlxuICogQHJlbWFya3NcbiAqIFtBUEldKGh0dHBzOi8vcmVhY3QtaG9vay1mb3JtLmNvbS9hcGkvdXNlZm9ybXN0YXRlKSDigKIgW0RlbW9dKGh0dHBzOi8vY29kZXNhbmRib3guaW8vcy91c2Vmb3Jtc3RhdGUtNzV4bHkpXG4gKlxuICogQHBhcmFtIHByb3BzIC0gaW5jbHVkZSBvcHRpb25zIG9uIHNwZWNpZnkgZmllbGRzIHRvIHN1YnNjcmliZS4ge0BsaW5rIFVzZUZvcm1TdGF0ZVJldHVybn1cbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgdHN4XG4gKiBmdW5jdGlvbiBBcHAoKSB7XG4gKiAgIGNvbnN0IHsgcmVnaXN0ZXIsIGhhbmRsZVN1Ym1pdCwgY29udHJvbCB9ID0gdXNlRm9ybSh7XG4gKiAgICAgZGVmYXVsdFZhbHVlczoge1xuICogICAgIGZpcnN0TmFtZTogXCJmaXJzdE5hbWVcIlxuICogICB9fSk7XG4gKiAgIGNvbnN0IHsgZGlydHlGaWVsZHMgfSA9IHVzZUZvcm1TdGF0ZSh7XG4gKiAgICAgY29udHJvbFxuICogICB9KTtcbiAqICAgY29uc3Qgb25TdWJtaXQgPSAoZGF0YSkgPT4gY29uc29sZS5sb2coZGF0YSk7XG4gKlxuICogICByZXR1cm4gKFxuICogICAgIDxmb3JtIG9uU3VibWl0PXtoYW5kbGVTdWJtaXQob25TdWJtaXQpfT5cbiAqICAgICAgIDxpbnB1dCB7Li4ucmVnaXN0ZXIoXCJmaXJzdE5hbWVcIil9IHBsYWNlaG9sZGVyPVwiRmlyc3QgTmFtZVwiIC8+XG4gKiAgICAgICB7ZGlydHlGaWVsZHMuZmlyc3ROYW1lICYmIDxwPkZpZWxkIGlzIGRpcnR5LjwvcD59XG4gKiAgICAgICA8aW5wdXQgdHlwZT1cInN1Ym1pdFwiIC8+XG4gKiAgICAgPC9mb3JtPlxuICogICApO1xuICogfVxuICogYGBgXG4gKi9cbmZ1bmN0aW9uIHVzZUZvcm1TdGF0ZShwcm9wcykge1xuICAgIGNvbnN0IG1ldGhvZHMgPSB1c2VGb3JtQ29udGV4dCgpO1xuICAgIGNvbnN0IHsgY29udHJvbCA9IG1ldGhvZHMuY29udHJvbCwgZGlzYWJsZWQsIG5hbWUsIGV4YWN0IH0gPSBwcm9wcyB8fCB7fTtcbiAgICBjb25zdCBbZm9ybVN0YXRlLCB1cGRhdGVGb3JtU3RhdGVdID0gUmVhY3QudXNlU3RhdGUoY29udHJvbC5fZm9ybVN0YXRlKTtcbiAgICBjb25zdCBfbW91bnRlZCA9IFJlYWN0LnVzZVJlZih0cnVlKTtcbiAgICBjb25zdCBfbG9jYWxQcm94eUZvcm1TdGF0ZSA9IFJlYWN0LnVzZVJlZih7XG4gICAgICAgIGlzRGlydHk6IGZhbHNlLFxuICAgICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuICAgICAgICBkaXJ0eUZpZWxkczogZmFsc2UsXG4gICAgICAgIHRvdWNoZWRGaWVsZHM6IGZhbHNlLFxuICAgICAgICBpc1ZhbGlkYXRpbmc6IGZhbHNlLFxuICAgICAgICBpc1ZhbGlkOiBmYWxzZSxcbiAgICAgICAgZXJyb3JzOiBmYWxzZSxcbiAgICB9KTtcbiAgICBjb25zdCBfbmFtZSA9IFJlYWN0LnVzZVJlZihuYW1lKTtcbiAgICBfbmFtZS5jdXJyZW50ID0gbmFtZTtcbiAgICB1c2VTdWJzY3JpYmUoe1xuICAgICAgICBkaXNhYmxlZCxcbiAgICAgICAgbmV4dDogKHZhbHVlKSA9PiBfbW91bnRlZC5jdXJyZW50ICYmXG4gICAgICAgICAgICBzaG91bGRTdWJzY3JpYmVCeU5hbWUoX25hbWUuY3VycmVudCwgdmFsdWUubmFtZSwgZXhhY3QpICYmXG4gICAgICAgICAgICBzaG91bGRSZW5kZXJGb3JtU3RhdGUodmFsdWUsIF9sb2NhbFByb3h5Rm9ybVN0YXRlLmN1cnJlbnQsIGNvbnRyb2wuX3VwZGF0ZUZvcm1TdGF0ZSkgJiZcbiAgICAgICAgICAgIHVwZGF0ZUZvcm1TdGF0ZSh7XG4gICAgICAgICAgICAgICAgLi4uY29udHJvbC5fZm9ybVN0YXRlLFxuICAgICAgICAgICAgICAgIC4uLnZhbHVlLFxuICAgICAgICAgICAgfSksXG4gICAgICAgIHN1YmplY3Q6IGNvbnRyb2wuX3N1YmplY3RzLnN0YXRlLFxuICAgIH0pO1xuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIF9tb3VudGVkLmN1cnJlbnQgPSB0cnVlO1xuICAgICAgICBfbG9jYWxQcm94eUZvcm1TdGF0ZS5jdXJyZW50LmlzVmFsaWQgJiYgY29udHJvbC5fdXBkYXRlVmFsaWQodHJ1ZSk7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBfbW91bnRlZC5jdXJyZW50ID0gZmFsc2U7XG4gICAgICAgIH07XG4gICAgfSwgW2NvbnRyb2xdKTtcbiAgICByZXR1cm4gZ2V0UHJveHlGb3JtU3RhdGUoZm9ybVN0YXRlLCBjb250cm9sLCBfbG9jYWxQcm94eUZvcm1TdGF0ZS5jdXJyZW50LCBmYWxzZSk7XG59XG5cbnZhciBpc1N0cmluZyA9ICh2YWx1ZSkgPT4gdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJztcblxudmFyIGdlbmVyYXRlV2F0Y2hPdXRwdXQgPSAobmFtZXMsIF9uYW1lcywgZm9ybVZhbHVlcywgaXNHbG9iYWwsIGRlZmF1bHRWYWx1ZSkgPT4ge1xuICAgIGlmIChpc1N0cmluZyhuYW1lcykpIHtcbiAgICAgICAgaXNHbG9iYWwgJiYgX25hbWVzLndhdGNoLmFkZChuYW1lcyk7XG4gICAgICAgIHJldHVybiBnZXQoZm9ybVZhbHVlcywgbmFtZXMsIGRlZmF1bHRWYWx1ZSk7XG4gICAgfVxuICAgIGlmIChBcnJheS5pc0FycmF5KG5hbWVzKSkge1xuICAgICAgICByZXR1cm4gbmFtZXMubWFwKChmaWVsZE5hbWUpID0+IChpc0dsb2JhbCAmJiBfbmFtZXMud2F0Y2guYWRkKGZpZWxkTmFtZSksIGdldChmb3JtVmFsdWVzLCBmaWVsZE5hbWUpKSk7XG4gICAgfVxuICAgIGlzR2xvYmFsICYmIChfbmFtZXMud2F0Y2hBbGwgPSB0cnVlKTtcbiAgICByZXR1cm4gZm9ybVZhbHVlcztcbn07XG5cbi8qKlxuICogQ3VzdG9tIGhvb2sgdG8gc3Vic2NyaWJlIHRvIGZpZWxkIGNoYW5nZSBhbmQgaXNvbGF0ZSByZS1yZW5kZXJpbmcgYXQgdGhlIGNvbXBvbmVudCBsZXZlbC5cbiAqXG4gKiBAcmVtYXJrc1xuICpcbiAqIFtBUEldKGh0dHBzOi8vcmVhY3QtaG9vay1mb3JtLmNvbS9hcGkvdXNld2F0Y2gpIOKAoiBbRGVtb10oaHR0cHM6Ly9jb2Rlc2FuZGJveC5pby9zL3JlYWN0LWhvb2stZm9ybS12Ny10cy11c2V3YXRjaC1oOWk1ZSlcbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgdHN4XG4gKiBjb25zdCB7IHdhdGNoIH0gPSB1c2VGb3JtKCk7XG4gKiBjb25zdCB2YWx1ZXMgPSB1c2VXYXRjaCh7XG4gKiAgIG5hbWU6IFwiZmllbGROYW1lXCJcbiAqICAgY29udHJvbCxcbiAqIH0pXG4gKiBgYGBcbiAqL1xuZnVuY3Rpb24gdXNlV2F0Y2gocHJvcHMpIHtcbiAgICBjb25zdCBtZXRob2RzID0gdXNlRm9ybUNvbnRleHQoKTtcbiAgICBjb25zdCB7IGNvbnRyb2wgPSBtZXRob2RzLmNvbnRyb2wsIG5hbWUsIGRlZmF1bHRWYWx1ZSwgZGlzYWJsZWQsIGV4YWN0LCB9ID0gcHJvcHMgfHwge307XG4gICAgY29uc3QgX25hbWUgPSBSZWFjdC51c2VSZWYobmFtZSk7XG4gICAgX25hbWUuY3VycmVudCA9IG5hbWU7XG4gICAgdXNlU3Vic2NyaWJlKHtcbiAgICAgICAgZGlzYWJsZWQsXG4gICAgICAgIHN1YmplY3Q6IGNvbnRyb2wuX3N1YmplY3RzLnZhbHVlcyxcbiAgICAgICAgbmV4dDogKGZvcm1TdGF0ZSkgPT4ge1xuICAgICAgICAgICAgaWYgKHNob3VsZFN1YnNjcmliZUJ5TmFtZShfbmFtZS5jdXJyZW50LCBmb3JtU3RhdGUubmFtZSwgZXhhY3QpKSB7XG4gICAgICAgICAgICAgICAgdXBkYXRlVmFsdWUoY2xvbmVPYmplY3QoZ2VuZXJhdGVXYXRjaE91dHB1dChfbmFtZS5jdXJyZW50LCBjb250cm9sLl9uYW1lcywgZm9ybVN0YXRlLnZhbHVlcyB8fCBjb250cm9sLl9mb3JtVmFsdWVzLCBmYWxzZSwgZGVmYXVsdFZhbHVlKSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgIH0pO1xuICAgIGNvbnN0IFt2YWx1ZSwgdXBkYXRlVmFsdWVdID0gUmVhY3QudXNlU3RhdGUoY29udHJvbC5fZ2V0V2F0Y2gobmFtZSwgZGVmYXVsdFZhbHVlKSk7XG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IGNvbnRyb2wuX3JlbW92ZVVubW91bnRlZCgpKTtcbiAgICByZXR1cm4gdmFsdWU7XG59XG5cbnZhciBpc0tleSA9ICh2YWx1ZSkgPT4gL15cXHcqJC8udGVzdCh2YWx1ZSk7XG5cbnZhciBzdHJpbmdUb1BhdGggPSAoaW5wdXQpID0+IGNvbXBhY3QoaW5wdXQucmVwbGFjZSgvW1wifCddfFxcXS9nLCAnJykuc3BsaXQoL1xcLnxcXFsvKSk7XG5cbmZ1bmN0aW9uIHNldChvYmplY3QsIHBhdGgsIHZhbHVlKSB7XG4gICAgbGV0IGluZGV4ID0gLTE7XG4gICAgY29uc3QgdGVtcFBhdGggPSBpc0tleShwYXRoKSA/IFtwYXRoXSA6IHN0cmluZ1RvUGF0aChwYXRoKTtcbiAgICBjb25zdCBsZW5ndGggPSB0ZW1wUGF0aC5sZW5ndGg7XG4gICAgY29uc3QgbGFzdEluZGV4ID0gbGVuZ3RoIC0gMTtcbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICBjb25zdCBrZXkgPSB0ZW1wUGF0aFtpbmRleF07XG4gICAgICAgIGxldCBuZXdWYWx1ZSA9IHZhbHVlO1xuICAgICAgICBpZiAoaW5kZXggIT09IGxhc3RJbmRleCkge1xuICAgICAgICAgICAgY29uc3Qgb2JqVmFsdWUgPSBvYmplY3Rba2V5XTtcbiAgICAgICAgICAgIG5ld1ZhbHVlID1cbiAgICAgICAgICAgICAgICBpc09iamVjdChvYmpWYWx1ZSkgfHwgQXJyYXkuaXNBcnJheShvYmpWYWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgPyBvYmpWYWx1ZVxuICAgICAgICAgICAgICAgICAgICA6ICFpc05hTigrdGVtcFBhdGhbaW5kZXggKyAxXSlcbiAgICAgICAgICAgICAgICAgICAgICAgID8gW11cbiAgICAgICAgICAgICAgICAgICAgICAgIDoge307XG4gICAgICAgIH1cbiAgICAgICAgb2JqZWN0W2tleV0gPSBuZXdWYWx1ZTtcbiAgICAgICAgb2JqZWN0ID0gb2JqZWN0W2tleV07XG4gICAgfVxuICAgIHJldHVybiBvYmplY3Q7XG59XG5cbi8qKlxuICogQ3VzdG9tIGhvb2sgdG8gd29yayB3aXRoIGNvbnRyb2xsZWQgY29tcG9uZW50LCB0aGlzIGZ1bmN0aW9uIHByb3ZpZGUgeW91IHdpdGggYm90aCBmb3JtIGFuZCBmaWVsZCBsZXZlbCBzdGF0ZS4gUmUtcmVuZGVyIGlzIGlzb2xhdGVkIGF0IHRoZSBob29rIGxldmVsLlxuICpcbiAqIEByZW1hcmtzXG4gKiBbQVBJXShodHRwczovL3JlYWN0LWhvb2stZm9ybS5jb20vYXBpL3VzZWNvbnRyb2xsZXIpIOKAoiBbRGVtb10oaHR0cHM6Ly9jb2Rlc2FuZGJveC5pby9zL3VzZWNvbnRyb2xsZXItMG84cHgpXG4gKlxuICogQHBhcmFtIHByb3BzIC0gdGhlIHBhdGggbmFtZSB0byB0aGUgZm9ybSBmaWVsZCB2YWx1ZSwgYW5kIHZhbGlkYXRpb24gcnVsZXMuXG4gKlxuICogQHJldHVybnMgZmllbGQgcHJvcGVydGllcywgZmllbGQgYW5kIGZvcm0gc3RhdGUuIHtAbGluayBVc2VDb250cm9sbGVyUmV0dXJufVxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGB0c3hcbiAqIGZ1bmN0aW9uIElucHV0KHByb3BzKSB7XG4gKiAgIGNvbnN0IHsgZmllbGQsIGZpZWxkU3RhdGUsIGZvcm1TdGF0ZSB9ID0gdXNlQ29udHJvbGxlcihwcm9wcyk7XG4gKiAgIHJldHVybiAoXG4gKiAgICAgPGRpdj5cbiAqICAgICAgIDxpbnB1dCB7Li4uZmllbGR9IHBsYWNlaG9sZGVyPXtwcm9wcy5uYW1lfSAvPlxuICogICAgICAgPHA+e2ZpZWxkU3RhdGUuaXNUb3VjaGVkICYmIFwiVG91Y2hlZFwifTwvcD5cbiAqICAgICAgIDxwPntmb3JtU3RhdGUuaXNTdWJtaXR0ZWQgPyBcInN1Ym1pdHRlZFwiIDogXCJcIn08L3A+XG4gKiAgICAgPC9kaXY+XG4gKiAgICk7XG4gKiB9XG4gKiBgYGBcbiAqL1xuZnVuY3Rpb24gdXNlQ29udHJvbGxlcihwcm9wcykge1xuICAgIGNvbnN0IG1ldGhvZHMgPSB1c2VGb3JtQ29udGV4dCgpO1xuICAgIGNvbnN0IHsgbmFtZSwgY29udHJvbCA9IG1ldGhvZHMuY29udHJvbCwgc2hvdWxkVW5yZWdpc3RlciB9ID0gcHJvcHM7XG4gICAgY29uc3QgaXNBcnJheUZpZWxkID0gaXNOYW1lSW5GaWVsZEFycmF5KGNvbnRyb2wuX25hbWVzLmFycmF5LCBuYW1lKTtcbiAgICBjb25zdCB2YWx1ZSA9IHVzZVdhdGNoKHtcbiAgICAgICAgY29udHJvbCxcbiAgICAgICAgbmFtZSxcbiAgICAgICAgZGVmYXVsdFZhbHVlOiBnZXQoY29udHJvbC5fZm9ybVZhbHVlcywgbmFtZSwgZ2V0KGNvbnRyb2wuX2RlZmF1bHRWYWx1ZXMsIG5hbWUsIHByb3BzLmRlZmF1bHRWYWx1ZSkpLFxuICAgICAgICBleGFjdDogdHJ1ZSxcbiAgICB9KTtcbiAgICBjb25zdCBmb3JtU3RhdGUgPSB1c2VGb3JtU3RhdGUoe1xuICAgICAgICBjb250cm9sLFxuICAgICAgICBuYW1lLFxuICAgIH0pO1xuICAgIGNvbnN0IF9yZWdpc3RlclByb3BzID0gUmVhY3QudXNlUmVmKGNvbnRyb2wucmVnaXN0ZXIobmFtZSwge1xuICAgICAgICAuLi5wcm9wcy5ydWxlcyxcbiAgICAgICAgdmFsdWUsXG4gICAgfSkpO1xuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGNvbnN0IF9zaG91bGRVbnJlZ2lzdGVyRmllbGQgPSBjb250cm9sLl9vcHRpb25zLnNob3VsZFVucmVnaXN0ZXIgfHwgc2hvdWxkVW5yZWdpc3RlcjtcbiAgICAgICAgY29uc3QgdXBkYXRlTW91bnRlZCA9IChuYW1lLCB2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZmllbGQgPSBnZXQoY29udHJvbC5fZmllbGRzLCBuYW1lKTtcbiAgICAgICAgICAgIGlmIChmaWVsZCkge1xuICAgICAgICAgICAgICAgIGZpZWxkLl9mLm1vdW50ID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHVwZGF0ZU1vdW50ZWQobmFtZSwgdHJ1ZSk7XG4gICAgICAgIGlmIChfc2hvdWxkVW5yZWdpc3RlckZpZWxkKSB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGNsb25lT2JqZWN0KGdldChjb250cm9sLl9vcHRpb25zLmRlZmF1bHRWYWx1ZXMsIG5hbWUpKTtcbiAgICAgICAgICAgIHNldChjb250cm9sLl9kZWZhdWx0VmFsdWVzLCBuYW1lLCB2YWx1ZSk7XG4gICAgICAgICAgICBpZiAoaXNVbmRlZmluZWQoZ2V0KGNvbnRyb2wuX2Zvcm1WYWx1ZXMsIG5hbWUpKSkge1xuICAgICAgICAgICAgICAgIHNldChjb250cm9sLl9mb3JtVmFsdWVzLCBuYW1lLCB2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIChpc0FycmF5RmllbGRcbiAgICAgICAgICAgICAgICA/IF9zaG91bGRVbnJlZ2lzdGVyRmllbGQgJiYgIWNvbnRyb2wuX3N0YXRlLmFjdGlvblxuICAgICAgICAgICAgICAgIDogX3Nob3VsZFVucmVnaXN0ZXJGaWVsZClcbiAgICAgICAgICAgICAgICA/IGNvbnRyb2wudW5yZWdpc3RlcihuYW1lKVxuICAgICAgICAgICAgICAgIDogdXBkYXRlTW91bnRlZChuYW1lLCBmYWxzZSk7XG4gICAgICAgIH07XG4gICAgfSwgW25hbWUsIGNvbnRyb2wsIGlzQXJyYXlGaWVsZCwgc2hvdWxkVW5yZWdpc3Rlcl0pO1xuICAgIHJldHVybiB7XG4gICAgICAgIGZpZWxkOiB7XG4gICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICBvbkNoYW5nZTogUmVhY3QudXNlQ2FsbGJhY2soKGV2ZW50KSA9PiBfcmVnaXN0ZXJQcm9wcy5jdXJyZW50Lm9uQ2hhbmdlKHtcbiAgICAgICAgICAgICAgICB0YXJnZXQ6IHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGdldEV2ZW50VmFsdWUoZXZlbnQpLFxuICAgICAgICAgICAgICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdHlwZTogRVZFTlRTLkNIQU5HRSxcbiAgICAgICAgICAgIH0pLCBbbmFtZV0pLFxuICAgICAgICAgICAgb25CbHVyOiBSZWFjdC51c2VDYWxsYmFjaygoKSA9PiBfcmVnaXN0ZXJQcm9wcy5jdXJyZW50Lm9uQmx1cih7XG4gICAgICAgICAgICAgICAgdGFyZ2V0OiB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBnZXQoY29udHJvbC5fZm9ybVZhbHVlcywgbmFtZSksXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB0eXBlOiBFVkVOVFMuQkxVUixcbiAgICAgICAgICAgIH0pLCBbbmFtZSwgY29udHJvbF0pLFxuICAgICAgICAgICAgcmVmOiAoZWxtKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgZmllbGQgPSBnZXQoY29udHJvbC5fZmllbGRzLCBuYW1lKTtcbiAgICAgICAgICAgICAgICBpZiAoZmllbGQgJiYgZWxtKSB7XG4gICAgICAgICAgICAgICAgICAgIGZpZWxkLl9mLnJlZiA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvY3VzOiAoKSA9PiBlbG0uZm9jdXMoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdDogKCkgPT4gZWxtLnNlbGVjdCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0Q3VzdG9tVmFsaWRpdHk6IChtZXNzYWdlKSA9PiBlbG0uc2V0Q3VzdG9tVmFsaWRpdHkobWVzc2FnZSksXG4gICAgICAgICAgICAgICAgICAgICAgICByZXBvcnRWYWxpZGl0eTogKCkgPT4gZWxtLnJlcG9ydFZhbGlkaXR5KCksXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgZm9ybVN0YXRlLFxuICAgICAgICBmaWVsZFN0YXRlOiBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh7fSwge1xuICAgICAgICAgICAgaW52YWxpZDoge1xuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgZ2V0OiAoKSA9PiAhIWdldChmb3JtU3RhdGUuZXJyb3JzLCBuYW1lKSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpc0RpcnR5OiB7XG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBnZXQ6ICgpID0+ICEhZ2V0KGZvcm1TdGF0ZS5kaXJ0eUZpZWxkcywgbmFtZSksXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaXNUb3VjaGVkOiB7XG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBnZXQ6ICgpID0+ICEhZ2V0KGZvcm1TdGF0ZS50b3VjaGVkRmllbGRzLCBuYW1lKSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlcnJvcjoge1xuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgZ2V0OiAoKSA9PiBnZXQoZm9ybVN0YXRlLmVycm9ycywgbmFtZSksXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KSxcbiAgICB9O1xufVxuXG4vKipcbiAqIENvbXBvbmVudCBiYXNlZCBvbiBgdXNlQ29udHJvbGxlcmAgaG9vayB0byB3b3JrIHdpdGggY29udHJvbGxlZCBjb21wb25lbnQuXG4gKlxuICogQHJlbWFya3NcbiAqIFtBUEldKGh0dHBzOi8vcmVhY3QtaG9vay1mb3JtLmNvbS9hcGkvdXNlY29udHJvbGxlci9jb250cm9sbGVyKSDigKIgW0RlbW9dKGh0dHBzOi8vY29kZXNhbmRib3guaW8vcy9yZWFjdC1ob29rLWZvcm0tdjYtY29udHJvbGxlci10cy1qd3l6dykg4oCiIFtWaWRlb10oaHR0cHM6Ly93d3cueW91dHViZS5jb20vd2F0Y2g/dj1OMlVOa19VQ1Z5QSlcbiAqXG4gKiBAcGFyYW0gcHJvcHMgLSB0aGUgcGF0aCBuYW1lIHRvIHRoZSBmb3JtIGZpZWxkIHZhbHVlLCBhbmQgdmFsaWRhdGlvbiBydWxlcy5cbiAqXG4gKiBAcmV0dXJucyBwcm92aWRlIGZpZWxkIGhhbmRsZXIgZnVuY3Rpb25zLCBmaWVsZCBhbmQgZm9ybSBzdGF0ZS5cbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgdHN4XG4gKiBmdW5jdGlvbiBBcHAoKSB7XG4gKiAgIGNvbnN0IHsgY29udHJvbCB9ID0gdXNlRm9ybTxGb3JtVmFsdWVzPih7XG4gKiAgICAgZGVmYXVsdFZhbHVlczoge1xuICogICAgICAgdGVzdDogXCJcIlxuICogICAgIH1cbiAqICAgfSk7XG4gKlxuICogICByZXR1cm4gKFxuICogICAgIDxmb3JtPlxuICogICAgICAgPENvbnRyb2xsZXJcbiAqICAgICAgICAgY29udHJvbD17Y29udHJvbH1cbiAqICAgICAgICAgbmFtZT1cInRlc3RcIlxuICogICAgICAgICByZW5kZXI9eyh7IGZpZWxkOiB7IG9uQ2hhbmdlLCBvbkJsdXIsIHZhbHVlLCByZWYgfSwgZm9ybVN0YXRlLCBmaWVsZFN0YXRlIH0pID0+IChcbiAqICAgICAgICAgICA8PlxuICogICAgICAgICAgICAgPGlucHV0XG4gKiAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtvbkNoYW5nZX0gLy8gc2VuZCB2YWx1ZSB0byBob29rIGZvcm1cbiAqICAgICAgICAgICAgICAgb25CbHVyPXtvbkJsdXJ9IC8vIG5vdGlmeSB3aGVuIGlucHV0IGlzIHRvdWNoZWRcbiAqICAgICAgICAgICAgICAgdmFsdWU9e3ZhbHVlfSAvLyByZXR1cm4gdXBkYXRlZCB2YWx1ZVxuICogICAgICAgICAgICAgICByZWY9e3JlZn0gLy8gc2V0IHJlZiBmb3IgZm9jdXMgbWFuYWdlbWVudFxuICogICAgICAgICAgICAgLz5cbiAqICAgICAgICAgICAgIDxwPntmb3JtU3RhdGUuaXNTdWJtaXR0ZWQgPyBcInN1Ym1pdHRlZFwiIDogXCJcIn08L3A+XG4gKiAgICAgICAgICAgICA8cD57ZmllbGRTdGF0ZS5pc1RvdWNoZWQgPyBcInRvdWNoZWRcIiA6IFwiXCJ9PC9wPlxuICogICAgICAgICAgIDwvPlxuICogICAgICAgICApfVxuICogICAgICAgLz5cbiAqICAgICA8L2Zvcm0+XG4gKiAgICk7XG4gKiB9XG4gKiBgYGBcbiAqL1xuY29uc3QgQ29udHJvbGxlciA9IChwcm9wcykgPT4gcHJvcHMucmVuZGVyKHVzZUNvbnRyb2xsZXIocHJvcHMpKTtcblxudmFyIGFwcGVuZEVycm9ycyA9IChuYW1lLCB2YWxpZGF0ZUFsbEZpZWxkQ3JpdGVyaWEsIGVycm9ycywgdHlwZSwgbWVzc2FnZSkgPT4gdmFsaWRhdGVBbGxGaWVsZENyaXRlcmlhXG4gICAgPyB7XG4gICAgICAgIC4uLmVycm9yc1tuYW1lXSxcbiAgICAgICAgdHlwZXM6IHtcbiAgICAgICAgICAgIC4uLihlcnJvcnNbbmFtZV0gJiYgZXJyb3JzW25hbWVdLnR5cGVzID8gZXJyb3JzW25hbWVdLnR5cGVzIDoge30pLFxuICAgICAgICAgICAgW3R5cGVdOiBtZXNzYWdlIHx8IHRydWUsXG4gICAgICAgIH0sXG4gICAgfVxuICAgIDoge307XG5cbmNvbnN0IGZvY3VzRmllbGRCeSA9IChmaWVsZHMsIGNhbGxiYWNrLCBmaWVsZHNOYW1lcykgPT4ge1xuICAgIGZvciAoY29uc3Qga2V5IG9mIGZpZWxkc05hbWVzIHx8IE9iamVjdC5rZXlzKGZpZWxkcykpIHtcbiAgICAgICAgY29uc3QgZmllbGQgPSBnZXQoZmllbGRzLCBrZXkpO1xuICAgICAgICBpZiAoZmllbGQpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgX2YsIC4uLmN1cnJlbnRGaWVsZCB9ID0gZmllbGQ7XG4gICAgICAgICAgICBpZiAoX2YgJiYgY2FsbGJhY2soX2YubmFtZSkpIHtcbiAgICAgICAgICAgICAgICBpZiAoX2YucmVmLmZvY3VzKSB7XG4gICAgICAgICAgICAgICAgICAgIF9mLnJlZi5mb2N1cygpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoX2YucmVmcyAmJiBfZi5yZWZzWzBdLmZvY3VzKSB7XG4gICAgICAgICAgICAgICAgICAgIF9mLnJlZnNbMF0uZm9jdXMoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXNPYmplY3QoY3VycmVudEZpZWxkKSkge1xuICAgICAgICAgICAgICAgIGZvY3VzRmllbGRCeShjdXJyZW50RmllbGQsIGNhbGxiYWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn07XG5cbnZhciBnZW5lcmF0ZUlkID0gKCkgPT4ge1xuICAgIGNvbnN0IGQgPSB0eXBlb2YgcGVyZm9ybWFuY2UgPT09ICd1bmRlZmluZWQnID8gRGF0ZS5ub3coKSA6IHBlcmZvcm1hbmNlLm5vdygpICogMTAwMDtcbiAgICByZXR1cm4gJ3h4eHh4eHh4LXh4eHgtNHh4eC15eHh4LXh4eHh4eHh4eHh4eCcucmVwbGFjZSgvW3h5XS9nLCAoYykgPT4ge1xuICAgICAgICBjb25zdCByID0gKE1hdGgucmFuZG9tKCkgKiAxNiArIGQpICUgMTYgfCAwO1xuICAgICAgICByZXR1cm4gKGMgPT0gJ3gnID8gciA6IChyICYgMHgzKSB8IDB4OCkudG9TdHJpbmcoMTYpO1xuICAgIH0pO1xufTtcblxudmFyIGdldEZvY3VzRmllbGROYW1lID0gKG5hbWUsIGluZGV4LCBvcHRpb25zID0ge30pID0+IG9wdGlvbnMuc2hvdWxkRm9jdXMgfHwgaXNVbmRlZmluZWQob3B0aW9ucy5zaG91bGRGb2N1cylcbiAgICA/IG9wdGlvbnMuZm9jdXNOYW1lIHx8XG4gICAgICAgIGAke25hbWV9LiR7aXNVbmRlZmluZWQob3B0aW9ucy5mb2N1c0luZGV4KSA/IGluZGV4IDogb3B0aW9ucy5mb2N1c0luZGV4fS5gXG4gICAgOiAnJztcblxudmFyIGdldFZhbGlkYXRpb25Nb2RlcyA9IChtb2RlKSA9PiAoe1xuICAgIGlzT25TdWJtaXQ6ICFtb2RlIHx8IG1vZGUgPT09IFZBTElEQVRJT05fTU9ERS5vblN1Ym1pdCxcbiAgICBpc09uQmx1cjogbW9kZSA9PT0gVkFMSURBVElPTl9NT0RFLm9uQmx1cixcbiAgICBpc09uQ2hhbmdlOiBtb2RlID09PSBWQUxJREFUSU9OX01PREUub25DaGFuZ2UsXG4gICAgaXNPbkFsbDogbW9kZSA9PT0gVkFMSURBVElPTl9NT0RFLmFsbCxcbiAgICBpc09uVG91Y2g6IG1vZGUgPT09IFZBTElEQVRJT05fTU9ERS5vblRvdWNoZWQsXG59KTtcblxudmFyIGlzV2F0Y2hlZCA9IChuYW1lLCBfbmFtZXMsIGlzQmx1ckV2ZW50KSA9PiAhaXNCbHVyRXZlbnQgJiZcbiAgICAoX25hbWVzLndhdGNoQWxsIHx8XG4gICAgICAgIF9uYW1lcy53YXRjaC5oYXMobmFtZSkgfHxcbiAgICAgICAgWy4uLl9uYW1lcy53YXRjaF0uc29tZSgod2F0Y2hOYW1lKSA9PiBuYW1lLnN0YXJ0c1dpdGgod2F0Y2hOYW1lKSAmJlxuICAgICAgICAgICAgL15cXC5cXHcrLy50ZXN0KG5hbWUuc2xpY2Uod2F0Y2hOYW1lLmxlbmd0aCkpKSk7XG5cbnZhciB1cGRhdGVGaWVsZEFycmF5Um9vdEVycm9yID0gKGVycm9ycywgZXJyb3IsIG5hbWUpID0+IHtcbiAgICBjb25zdCBmaWVsZEFycmF5RXJyb3JzID0gY29tcGFjdChnZXQoZXJyb3JzLCBuYW1lKSk7XG4gICAgc2V0KGZpZWxkQXJyYXlFcnJvcnMsICdyb290JywgZXJyb3JbbmFtZV0pO1xuICAgIHNldChlcnJvcnMsIG5hbWUsIGZpZWxkQXJyYXlFcnJvcnMpO1xuICAgIHJldHVybiBlcnJvcnM7XG59O1xuXG52YXIgaXNCb29sZWFuID0gKHZhbHVlKSA9PiB0eXBlb2YgdmFsdWUgPT09ICdib29sZWFuJztcblxudmFyIGlzRmlsZUlucHV0ID0gKGVsZW1lbnQpID0+IGVsZW1lbnQudHlwZSA9PT0gJ2ZpbGUnO1xuXG52YXIgaXNGdW5jdGlvbiA9ICh2YWx1ZSkgPT4gdHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nO1xuXG52YXIgaXNIVE1MRWxlbWVudCA9ICh2YWx1ZSkgPT4ge1xuICAgIGlmICghaXNXZWIpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjb25zdCBvd25lciA9IHZhbHVlID8gdmFsdWUub3duZXJEb2N1bWVudCA6IDA7XG4gICAgcmV0dXJuICh2YWx1ZSBpbnN0YW5jZW9mXG4gICAgICAgIChvd25lciAmJiBvd25lci5kZWZhdWx0VmlldyA/IG93bmVyLmRlZmF1bHRWaWV3LkhUTUxFbGVtZW50IDogSFRNTEVsZW1lbnQpKTtcbn07XG5cbnZhciBpc01lc3NhZ2UgPSAodmFsdWUpID0+IGlzU3RyaW5nKHZhbHVlKTtcblxudmFyIGlzUmFkaW9JbnB1dCA9IChlbGVtZW50KSA9PiBlbGVtZW50LnR5cGUgPT09ICdyYWRpbyc7XG5cbnZhciBpc1JlZ2V4ID0gKHZhbHVlKSA9PiB2YWx1ZSBpbnN0YW5jZW9mIFJlZ0V4cDtcblxuY29uc3QgZGVmYXVsdFJlc3VsdCA9IHtcbiAgICB2YWx1ZTogZmFsc2UsXG4gICAgaXNWYWxpZDogZmFsc2UsXG59O1xuY29uc3QgdmFsaWRSZXN1bHQgPSB7IHZhbHVlOiB0cnVlLCBpc1ZhbGlkOiB0cnVlIH07XG52YXIgZ2V0Q2hlY2tib3hWYWx1ZSA9IChvcHRpb25zKSA9PiB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkob3B0aW9ucykpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgY29uc3QgdmFsdWVzID0gb3B0aW9uc1xuICAgICAgICAgICAgICAgIC5maWx0ZXIoKG9wdGlvbikgPT4gb3B0aW9uICYmIG9wdGlvbi5jaGVja2VkICYmICFvcHRpb24uZGlzYWJsZWQpXG4gICAgICAgICAgICAgICAgLm1hcCgob3B0aW9uKSA9PiBvcHRpb24udmFsdWUpO1xuICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IHZhbHVlcywgaXNWYWxpZDogISF2YWx1ZXMubGVuZ3RoIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9wdGlvbnNbMF0uY2hlY2tlZCAmJiAhb3B0aW9uc1swXS5kaXNhYmxlZFxuICAgICAgICAgICAgPyAvLyBAdHMtZXhwZWN0LWVycm9yIGV4cGVjdGVkIHRvIHdvcmsgaW4gdGhlIGJyb3dzZXJcbiAgICAgICAgICAgICAgICBvcHRpb25zWzBdLmF0dHJpYnV0ZXMgJiYgIWlzVW5kZWZpbmVkKG9wdGlvbnNbMF0uYXR0cmlidXRlcy52YWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgPyBpc1VuZGVmaW5lZChvcHRpb25zWzBdLnZhbHVlKSB8fCBvcHRpb25zWzBdLnZhbHVlID09PSAnJ1xuICAgICAgICAgICAgICAgICAgICAgICAgPyB2YWxpZFJlc3VsdFxuICAgICAgICAgICAgICAgICAgICAgICAgOiB7IHZhbHVlOiBvcHRpb25zWzBdLnZhbHVlLCBpc1ZhbGlkOiB0cnVlIH1cbiAgICAgICAgICAgICAgICAgICAgOiB2YWxpZFJlc3VsdFxuICAgICAgICAgICAgOiBkZWZhdWx0UmVzdWx0O1xuICAgIH1cbiAgICByZXR1cm4gZGVmYXVsdFJlc3VsdDtcbn07XG5cbmNvbnN0IGRlZmF1bHRSZXR1cm4gPSB7XG4gICAgaXNWYWxpZDogZmFsc2UsXG4gICAgdmFsdWU6IG51bGwsXG59O1xudmFyIGdldFJhZGlvVmFsdWUgPSAob3B0aW9ucykgPT4gQXJyYXkuaXNBcnJheShvcHRpb25zKVxuICAgID8gb3B0aW9ucy5yZWR1Y2UoKHByZXZpb3VzLCBvcHRpb24pID0+IG9wdGlvbiAmJiBvcHRpb24uY2hlY2tlZCAmJiAhb3B0aW9uLmRpc2FibGVkXG4gICAgICAgID8ge1xuICAgICAgICAgICAgaXNWYWxpZDogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBvcHRpb24udmFsdWUsXG4gICAgICAgIH1cbiAgICAgICAgOiBwcmV2aW91cywgZGVmYXVsdFJldHVybilcbiAgICA6IGRlZmF1bHRSZXR1cm47XG5cbmZ1bmN0aW9uIGdldFZhbGlkYXRlRXJyb3IocmVzdWx0LCByZWYsIHR5cGUgPSAndmFsaWRhdGUnKSB7XG4gICAgaWYgKGlzTWVzc2FnZShyZXN1bHQpIHx8XG4gICAgICAgIChBcnJheS5pc0FycmF5KHJlc3VsdCkgJiYgcmVzdWx0LmV2ZXJ5KGlzTWVzc2FnZSkpIHx8XG4gICAgICAgIChpc0Jvb2xlYW4ocmVzdWx0KSAmJiAhcmVzdWx0KSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGlzTWVzc2FnZShyZXN1bHQpID8gcmVzdWx0IDogJycsXG4gICAgICAgICAgICByZWYsXG4gICAgICAgIH07XG4gICAgfVxufVxuXG52YXIgZ2V0VmFsdWVBbmRNZXNzYWdlID0gKHZhbGlkYXRpb25EYXRhKSA9PiBpc09iamVjdCh2YWxpZGF0aW9uRGF0YSkgJiYgIWlzUmVnZXgodmFsaWRhdGlvbkRhdGEpXG4gICAgPyB2YWxpZGF0aW9uRGF0YVxuICAgIDoge1xuICAgICAgICB2YWx1ZTogdmFsaWRhdGlvbkRhdGEsXG4gICAgICAgIG1lc3NhZ2U6ICcnLFxuICAgIH07XG5cbnZhciB2YWxpZGF0ZUZpZWxkID0gYXN5bmMgKGZpZWxkLCBmb3JtVmFsdWVzLCB2YWxpZGF0ZUFsbEZpZWxkQ3JpdGVyaWEsIHNob3VsZFVzZU5hdGl2ZVZhbGlkYXRpb24sIGlzRmllbGRBcnJheSkgPT4ge1xuICAgIGNvbnN0IHsgcmVmLCByZWZzLCByZXF1aXJlZCwgbWF4TGVuZ3RoLCBtaW5MZW5ndGgsIG1pbiwgbWF4LCBwYXR0ZXJuLCB2YWxpZGF0ZSwgbmFtZSwgdmFsdWVBc051bWJlciwgbW91bnQsIGRpc2FibGVkLCB9ID0gZmllbGQuX2Y7XG4gICAgY29uc3QgaW5wdXRWYWx1ZSA9IGdldChmb3JtVmFsdWVzLCBuYW1lKTtcbiAgICBpZiAoIW1vdW50IHx8IGRpc2FibGVkKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gICAgY29uc3QgaW5wdXRSZWYgPSByZWZzID8gcmVmc1swXSA6IHJlZjtcbiAgICBjb25zdCBzZXRDdXN0b21WYWxpZGl0eSA9IChtZXNzYWdlKSA9PiB7XG4gICAgICAgIGlmIChzaG91bGRVc2VOYXRpdmVWYWxpZGF0aW9uICYmIGlucHV0UmVmLnJlcG9ydFZhbGlkaXR5KSB7XG4gICAgICAgICAgICBpbnB1dFJlZi5zZXRDdXN0b21WYWxpZGl0eShpc0Jvb2xlYW4obWVzc2FnZSkgPyAnJyA6IG1lc3NhZ2UgfHwgJycpO1xuICAgICAgICAgICAgaW5wdXRSZWYucmVwb3J0VmFsaWRpdHkoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgZXJyb3IgPSB7fTtcbiAgICBjb25zdCBpc1JhZGlvID0gaXNSYWRpb0lucHV0KHJlZik7XG4gICAgY29uc3QgaXNDaGVja0JveCA9IGlzQ2hlY2tCb3hJbnB1dChyZWYpO1xuICAgIGNvbnN0IGlzUmFkaW9PckNoZWNrYm94ID0gaXNSYWRpbyB8fCBpc0NoZWNrQm94O1xuICAgIGNvbnN0IGlzRW1wdHkgPSAoKHZhbHVlQXNOdW1iZXIgfHwgaXNGaWxlSW5wdXQocmVmKSkgJiZcbiAgICAgICAgaXNVbmRlZmluZWQocmVmLnZhbHVlKSAmJlxuICAgICAgICBpc1VuZGVmaW5lZChpbnB1dFZhbHVlKSkgfHxcbiAgICAgICAgKGlzSFRNTEVsZW1lbnQocmVmKSAmJiByZWYudmFsdWUgPT09ICcnKSB8fFxuICAgICAgICBpbnB1dFZhbHVlID09PSAnJyB8fFxuICAgICAgICAoQXJyYXkuaXNBcnJheShpbnB1dFZhbHVlKSAmJiAhaW5wdXRWYWx1ZS5sZW5ndGgpO1xuICAgIGNvbnN0IGFwcGVuZEVycm9yc0N1cnJ5ID0gYXBwZW5kRXJyb3JzLmJpbmQobnVsbCwgbmFtZSwgdmFsaWRhdGVBbGxGaWVsZENyaXRlcmlhLCBlcnJvcik7XG4gICAgY29uc3QgZ2V0TWluTWF4TWVzc2FnZSA9IChleGNlZWRNYXgsIG1heExlbmd0aE1lc3NhZ2UsIG1pbkxlbmd0aE1lc3NhZ2UsIG1heFR5cGUgPSBJTlBVVF9WQUxJREFUSU9OX1JVTEVTLm1heExlbmd0aCwgbWluVHlwZSA9IElOUFVUX1ZBTElEQVRJT05fUlVMRVMubWluTGVuZ3RoKSA9PiB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBleGNlZWRNYXggPyBtYXhMZW5ndGhNZXNzYWdlIDogbWluTGVuZ3RoTWVzc2FnZTtcbiAgICAgICAgZXJyb3JbbmFtZV0gPSB7XG4gICAgICAgICAgICB0eXBlOiBleGNlZWRNYXggPyBtYXhUeXBlIDogbWluVHlwZSxcbiAgICAgICAgICAgIG1lc3NhZ2UsXG4gICAgICAgICAgICByZWYsXG4gICAgICAgICAgICAuLi5hcHBlbmRFcnJvcnNDdXJyeShleGNlZWRNYXggPyBtYXhUeXBlIDogbWluVHlwZSwgbWVzc2FnZSksXG4gICAgICAgIH07XG4gICAgfTtcbiAgICBpZiAoaXNGaWVsZEFycmF5XG4gICAgICAgID8gIUFycmF5LmlzQXJyYXkoaW5wdXRWYWx1ZSkgfHwgIWlucHV0VmFsdWUubGVuZ3RoXG4gICAgICAgIDogcmVxdWlyZWQgJiZcbiAgICAgICAgICAgICgoIWlzUmFkaW9PckNoZWNrYm94ICYmIChpc0VtcHR5IHx8IGlzTnVsbE9yVW5kZWZpbmVkKGlucHV0VmFsdWUpKSkgfHxcbiAgICAgICAgICAgICAgICAoaXNCb29sZWFuKGlucHV0VmFsdWUpICYmICFpbnB1dFZhbHVlKSB8fFxuICAgICAgICAgICAgICAgIChpc0NoZWNrQm94ICYmICFnZXRDaGVja2JveFZhbHVlKHJlZnMpLmlzVmFsaWQpIHx8XG4gICAgICAgICAgICAgICAgKGlzUmFkaW8gJiYgIWdldFJhZGlvVmFsdWUocmVmcykuaXNWYWxpZCkpKSB7XG4gICAgICAgIGNvbnN0IHsgdmFsdWUsIG1lc3NhZ2UgfSA9IGlzTWVzc2FnZShyZXF1aXJlZClcbiAgICAgICAgICAgID8geyB2YWx1ZTogISFyZXF1aXJlZCwgbWVzc2FnZTogcmVxdWlyZWQgfVxuICAgICAgICAgICAgOiBnZXRWYWx1ZUFuZE1lc3NhZ2UocmVxdWlyZWQpO1xuICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgIGVycm9yW25hbWVdID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IElOUFVUX1ZBTElEQVRJT05fUlVMRVMucmVxdWlyZWQsXG4gICAgICAgICAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgICAgICAgICByZWY6IGlucHV0UmVmLFxuICAgICAgICAgICAgICAgIC4uLmFwcGVuZEVycm9yc0N1cnJ5KElOUFVUX1ZBTElEQVRJT05fUlVMRVMucmVxdWlyZWQsIG1lc3NhZ2UpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmICghdmFsaWRhdGVBbGxGaWVsZENyaXRlcmlhKSB7XG4gICAgICAgICAgICAgICAgc2V0Q3VzdG9tVmFsaWRpdHkobWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGlmICghaXNFbXB0eSAmJiAoIWlzTnVsbE9yVW5kZWZpbmVkKG1pbikgfHwgIWlzTnVsbE9yVW5kZWZpbmVkKG1heCkpKSB7XG4gICAgICAgIGxldCBleGNlZWRNYXg7XG4gICAgICAgIGxldCBleGNlZWRNaW47XG4gICAgICAgIGNvbnN0IG1heE91dHB1dCA9IGdldFZhbHVlQW5kTWVzc2FnZShtYXgpO1xuICAgICAgICBjb25zdCBtaW5PdXRwdXQgPSBnZXRWYWx1ZUFuZE1lc3NhZ2UobWluKTtcbiAgICAgICAgaWYgKCFpc051bGxPclVuZGVmaW5lZChpbnB1dFZhbHVlKSAmJiAhaXNOYU4oaW5wdXRWYWx1ZSkpIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlTnVtYmVyID0gcmVmLnZhbHVlQXNOdW1iZXIgfHxcbiAgICAgICAgICAgICAgICAoaW5wdXRWYWx1ZSA/ICtpbnB1dFZhbHVlIDogaW5wdXRWYWx1ZSk7XG4gICAgICAgICAgICBpZiAoIWlzTnVsbE9yVW5kZWZpbmVkKG1heE91dHB1dC52YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBleGNlZWRNYXggPSB2YWx1ZU51bWJlciA+IG1heE91dHB1dC52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghaXNOdWxsT3JVbmRlZmluZWQobWluT3V0cHV0LnZhbHVlKSkge1xuICAgICAgICAgICAgICAgIGV4Y2VlZE1pbiA9IHZhbHVlTnVtYmVyIDwgbWluT3V0cHV0LnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgdmFsdWVEYXRlID0gcmVmLnZhbHVlQXNEYXRlIHx8IG5ldyBEYXRlKGlucHV0VmFsdWUpO1xuICAgICAgICAgICAgY29uc3QgY29udmVydFRpbWVUb0RhdGUgPSAodGltZSkgPT4gbmV3IERhdGUobmV3IERhdGUoKS50b0RhdGVTdHJpbmcoKSArICcgJyArIHRpbWUpO1xuICAgICAgICAgICAgY29uc3QgaXNUaW1lID0gcmVmLnR5cGUgPT0gJ3RpbWUnO1xuICAgICAgICAgICAgY29uc3QgaXNXZWVrID0gcmVmLnR5cGUgPT0gJ3dlZWsnO1xuICAgICAgICAgICAgaWYgKGlzU3RyaW5nKG1heE91dHB1dC52YWx1ZSkgJiYgaW5wdXRWYWx1ZSkge1xuICAgICAgICAgICAgICAgIGV4Y2VlZE1heCA9IGlzVGltZVxuICAgICAgICAgICAgICAgICAgICA/IGNvbnZlcnRUaW1lVG9EYXRlKGlucHV0VmFsdWUpID4gY29udmVydFRpbWVUb0RhdGUobWF4T3V0cHV0LnZhbHVlKVxuICAgICAgICAgICAgICAgICAgICA6IGlzV2Vla1xuICAgICAgICAgICAgICAgICAgICAgICAgPyBpbnB1dFZhbHVlID4gbWF4T3V0cHV0LnZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICA6IHZhbHVlRGF0ZSA+IG5ldyBEYXRlKG1heE91dHB1dC52YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXNTdHJpbmcobWluT3V0cHV0LnZhbHVlKSAmJiBpbnB1dFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgZXhjZWVkTWluID0gaXNUaW1lXG4gICAgICAgICAgICAgICAgICAgID8gY29udmVydFRpbWVUb0RhdGUoaW5wdXRWYWx1ZSkgPCBjb252ZXJ0VGltZVRvRGF0ZShtaW5PdXRwdXQudmFsdWUpXG4gICAgICAgICAgICAgICAgICAgIDogaXNXZWVrXG4gICAgICAgICAgICAgICAgICAgICAgICA/IGlucHV0VmFsdWUgPCBtaW5PdXRwdXQudmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgIDogdmFsdWVEYXRlIDwgbmV3IERhdGUobWluT3V0cHV0LnZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZXhjZWVkTWF4IHx8IGV4Y2VlZE1pbikge1xuICAgICAgICAgICAgZ2V0TWluTWF4TWVzc2FnZSghIWV4Y2VlZE1heCwgbWF4T3V0cHV0Lm1lc3NhZ2UsIG1pbk91dHB1dC5tZXNzYWdlLCBJTlBVVF9WQUxJREFUSU9OX1JVTEVTLm1heCwgSU5QVVRfVkFMSURBVElPTl9SVUxFUy5taW4pO1xuICAgICAgICAgICAgaWYgKCF2YWxpZGF0ZUFsbEZpZWxkQ3JpdGVyaWEpIHtcbiAgICAgICAgICAgICAgICBzZXRDdXN0b21WYWxpZGl0eShlcnJvcltuYW1lXS5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZXJyb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKChtYXhMZW5ndGggfHwgbWluTGVuZ3RoKSAmJlxuICAgICAgICAhaXNFbXB0eSAmJlxuICAgICAgICAoaXNTdHJpbmcoaW5wdXRWYWx1ZSkgfHwgKGlzRmllbGRBcnJheSAmJiBBcnJheS5pc0FycmF5KGlucHV0VmFsdWUpKSkpIHtcbiAgICAgICAgY29uc3QgbWF4TGVuZ3RoT3V0cHV0ID0gZ2V0VmFsdWVBbmRNZXNzYWdlKG1heExlbmd0aCk7XG4gICAgICAgIGNvbnN0IG1pbkxlbmd0aE91dHB1dCA9IGdldFZhbHVlQW5kTWVzc2FnZShtaW5MZW5ndGgpO1xuICAgICAgICBjb25zdCBleGNlZWRNYXggPSAhaXNOdWxsT3JVbmRlZmluZWQobWF4TGVuZ3RoT3V0cHV0LnZhbHVlKSAmJlxuICAgICAgICAgICAgaW5wdXRWYWx1ZS5sZW5ndGggPiArbWF4TGVuZ3RoT3V0cHV0LnZhbHVlO1xuICAgICAgICBjb25zdCBleGNlZWRNaW4gPSAhaXNOdWxsT3JVbmRlZmluZWQobWluTGVuZ3RoT3V0cHV0LnZhbHVlKSAmJlxuICAgICAgICAgICAgaW5wdXRWYWx1ZS5sZW5ndGggPCArbWluTGVuZ3RoT3V0cHV0LnZhbHVlO1xuICAgICAgICBpZiAoZXhjZWVkTWF4IHx8IGV4Y2VlZE1pbikge1xuICAgICAgICAgICAgZ2V0TWluTWF4TWVzc2FnZShleGNlZWRNYXgsIG1heExlbmd0aE91dHB1dC5tZXNzYWdlLCBtaW5MZW5ndGhPdXRwdXQubWVzc2FnZSk7XG4gICAgICAgICAgICBpZiAoIXZhbGlkYXRlQWxsRmllbGRDcml0ZXJpYSkge1xuICAgICAgICAgICAgICAgIHNldEN1c3RvbVZhbGlkaXR5KGVycm9yW25hbWVdLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAocGF0dGVybiAmJiAhaXNFbXB0eSAmJiBpc1N0cmluZyhpbnB1dFZhbHVlKSkge1xuICAgICAgICBjb25zdCB7IHZhbHVlOiBwYXR0ZXJuVmFsdWUsIG1lc3NhZ2UgfSA9IGdldFZhbHVlQW5kTWVzc2FnZShwYXR0ZXJuKTtcbiAgICAgICAgaWYgKGlzUmVnZXgocGF0dGVyblZhbHVlKSAmJiAhaW5wdXRWYWx1ZS5tYXRjaChwYXR0ZXJuVmFsdWUpKSB7XG4gICAgICAgICAgICBlcnJvcltuYW1lXSA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiBJTlBVVF9WQUxJREFUSU9OX1JVTEVTLnBhdHRlcm4sXG4gICAgICAgICAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgICAgICAgICByZWYsXG4gICAgICAgICAgICAgICAgLi4uYXBwZW5kRXJyb3JzQ3VycnkoSU5QVVRfVkFMSURBVElPTl9SVUxFUy5wYXR0ZXJuLCBtZXNzYWdlKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAoIXZhbGlkYXRlQWxsRmllbGRDcml0ZXJpYSkge1xuICAgICAgICAgICAgICAgIHNldEN1c3RvbVZhbGlkaXR5KG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAodmFsaWRhdGUpIHtcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24odmFsaWRhdGUpKSB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB2YWxpZGF0ZShpbnB1dFZhbHVlLCBmb3JtVmFsdWVzKTtcbiAgICAgICAgICAgIGNvbnN0IHZhbGlkYXRlRXJyb3IgPSBnZXRWYWxpZGF0ZUVycm9yKHJlc3VsdCwgaW5wdXRSZWYpO1xuICAgICAgICAgICAgaWYgKHZhbGlkYXRlRXJyb3IpIHtcbiAgICAgICAgICAgICAgICBlcnJvcltuYW1lXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgLi4udmFsaWRhdGVFcnJvcixcbiAgICAgICAgICAgICAgICAgICAgLi4uYXBwZW5kRXJyb3JzQ3VycnkoSU5QVVRfVkFMSURBVElPTl9SVUxFUy52YWxpZGF0ZSwgdmFsaWRhdGVFcnJvci5tZXNzYWdlKSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGlmICghdmFsaWRhdGVBbGxGaWVsZENyaXRlcmlhKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldEN1c3RvbVZhbGlkaXR5KHZhbGlkYXRlRXJyb3IubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBlcnJvcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNPYmplY3QodmFsaWRhdGUpKSB7XG4gICAgICAgICAgICBsZXQgdmFsaWRhdGlvblJlc3VsdCA9IHt9O1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gdmFsaWRhdGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWlzRW1wdHlPYmplY3QodmFsaWRhdGlvblJlc3VsdCkgJiYgIXZhbGlkYXRlQWxsRmllbGRDcml0ZXJpYSkge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsaWRhdGVFcnJvciA9IGdldFZhbGlkYXRlRXJyb3IoYXdhaXQgdmFsaWRhdGVba2V5XShpbnB1dFZhbHVlLCBmb3JtVmFsdWVzKSwgaW5wdXRSZWYsIGtleSk7XG4gICAgICAgICAgICAgICAgaWYgKHZhbGlkYXRlRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvblJlc3VsdCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLnZhbGlkYXRlRXJyb3IsXG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5hcHBlbmRFcnJvcnNDdXJyeShrZXksIHZhbGlkYXRlRXJyb3IubWVzc2FnZSksXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIHNldEN1c3RvbVZhbGlkaXR5KHZhbGlkYXRlRXJyb3IubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWxpZGF0ZUFsbEZpZWxkQ3JpdGVyaWEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yW25hbWVdID0gdmFsaWRhdGlvblJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghaXNFbXB0eU9iamVjdCh2YWxpZGF0aW9uUmVzdWx0KSkge1xuICAgICAgICAgICAgICAgIGVycm9yW25hbWVdID0ge1xuICAgICAgICAgICAgICAgICAgICByZWY6IGlucHV0UmVmLFxuICAgICAgICAgICAgICAgICAgICAuLi52YWxpZGF0aW9uUmVzdWx0LFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgaWYgKCF2YWxpZGF0ZUFsbEZpZWxkQ3JpdGVyaWEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBzZXRDdXN0b21WYWxpZGl0eSh0cnVlKTtcbiAgICByZXR1cm4gZXJyb3I7XG59O1xuXG5mdW5jdGlvbiBhcHBlbmQoZGF0YSwgdmFsdWUpIHtcbiAgICByZXR1cm4gWy4uLmRhdGEsIC4uLmNvbnZlcnRUb0FycmF5UGF5bG9hZCh2YWx1ZSldO1xufVxuXG52YXIgZmlsbEVtcHR5QXJyYXkgPSAodmFsdWUpID0+IEFycmF5LmlzQXJyYXkodmFsdWUpID8gdmFsdWUubWFwKCgpID0+IHVuZGVmaW5lZCkgOiB1bmRlZmluZWQ7XG5cbmZ1bmN0aW9uIGluc2VydChkYXRhLCBpbmRleCwgdmFsdWUpIHtcbiAgICByZXR1cm4gW1xuICAgICAgICAuLi5kYXRhLnNsaWNlKDAsIGluZGV4KSxcbiAgICAgICAgLi4uY29udmVydFRvQXJyYXlQYXlsb2FkKHZhbHVlKSxcbiAgICAgICAgLi4uZGF0YS5zbGljZShpbmRleCksXG4gICAgXTtcbn1cblxudmFyIG1vdmVBcnJheUF0ID0gKGRhdGEsIGZyb20sIHRvKSA9PiB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGRhdGEpKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgaWYgKGlzVW5kZWZpbmVkKGRhdGFbdG9dKSkge1xuICAgICAgICBkYXRhW3RvXSA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgZGF0YS5zcGxpY2UodG8sIDAsIGRhdGEuc3BsaWNlKGZyb20sIDEpWzBdKTtcbiAgICByZXR1cm4gZGF0YTtcbn07XG5cbmZ1bmN0aW9uIHByZXBlbmQoZGF0YSwgdmFsdWUpIHtcbiAgICByZXR1cm4gWy4uLmNvbnZlcnRUb0FycmF5UGF5bG9hZCh2YWx1ZSksIC4uLmNvbnZlcnRUb0FycmF5UGF5bG9hZChkYXRhKV07XG59XG5cbmZ1bmN0aW9uIHJlbW92ZUF0SW5kZXhlcyhkYXRhLCBpbmRleGVzKSB7XG4gICAgbGV0IGkgPSAwO1xuICAgIGNvbnN0IHRlbXAgPSBbLi4uZGF0YV07XG4gICAgZm9yIChjb25zdCBpbmRleCBvZiBpbmRleGVzKSB7XG4gICAgICAgIHRlbXAuc3BsaWNlKGluZGV4IC0gaSwgMSk7XG4gICAgICAgIGkrKztcbiAgICB9XG4gICAgcmV0dXJuIGNvbXBhY3QodGVtcCkubGVuZ3RoID8gdGVtcCA6IFtdO1xufVxudmFyIHJlbW92ZUFycmF5QXQgPSAoZGF0YSwgaW5kZXgpID0+IGlzVW5kZWZpbmVkKGluZGV4KVxuICAgID8gW11cbiAgICA6IHJlbW92ZUF0SW5kZXhlcyhkYXRhLCBjb252ZXJ0VG9BcnJheVBheWxvYWQoaW5kZXgpLnNvcnQoKGEsIGIpID0+IGEgLSBiKSk7XG5cbnZhciBzd2FwQXJyYXlBdCA9IChkYXRhLCBpbmRleEEsIGluZGV4QikgPT4ge1xuICAgIGRhdGFbaW5kZXhBXSA9IFtkYXRhW2luZGV4Ql0sIChkYXRhW2luZGV4Ql0gPSBkYXRhW2luZGV4QV0pXVswXTtcbn07XG5cbmZ1bmN0aW9uIGJhc2VHZXQob2JqZWN0LCB1cGRhdGVQYXRoKSB7XG4gICAgY29uc3QgbGVuZ3RoID0gdXBkYXRlUGF0aC5zbGljZSgwLCAtMSkubGVuZ3RoO1xuICAgIGxldCBpbmRleCA9IDA7XG4gICAgd2hpbGUgKGluZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIG9iamVjdCA9IGlzVW5kZWZpbmVkKG9iamVjdCkgPyBpbmRleCsrIDogb2JqZWN0W3VwZGF0ZVBhdGhbaW5kZXgrK11dO1xuICAgIH1cbiAgICByZXR1cm4gb2JqZWN0O1xufVxuZnVuY3Rpb24gaXNFbXB0eUFycmF5KG9iaikge1xuICAgIGZvciAoY29uc3Qga2V5IGluIG9iaikge1xuICAgICAgICBpZiAoIWlzVW5kZWZpbmVkKG9ialtrZXldKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuZnVuY3Rpb24gdW5zZXQob2JqZWN0LCBwYXRoKSB7XG4gICAgY29uc3QgcGF0aHMgPSBBcnJheS5pc0FycmF5KHBhdGgpXG4gICAgICAgID8gcGF0aFxuICAgICAgICA6IGlzS2V5KHBhdGgpXG4gICAgICAgICAgICA/IFtwYXRoXVxuICAgICAgICAgICAgOiBzdHJpbmdUb1BhdGgocGF0aCk7XG4gICAgY29uc3QgY2hpbGRPYmplY3QgPSBwYXRocy5sZW5ndGggPT09IDEgPyBvYmplY3QgOiBiYXNlR2V0KG9iamVjdCwgcGF0aHMpO1xuICAgIGNvbnN0IGluZGV4ID0gcGF0aHMubGVuZ3RoIC0gMTtcbiAgICBjb25zdCBrZXkgPSBwYXRoc1tpbmRleF07XG4gICAgaWYgKGNoaWxkT2JqZWN0KSB7XG4gICAgICAgIGRlbGV0ZSBjaGlsZE9iamVjdFtrZXldO1xuICAgIH1cbiAgICBpZiAoaW5kZXggIT09IDAgJiZcbiAgICAgICAgKChpc09iamVjdChjaGlsZE9iamVjdCkgJiYgaXNFbXB0eU9iamVjdChjaGlsZE9iamVjdCkpIHx8XG4gICAgICAgICAgICAoQXJyYXkuaXNBcnJheShjaGlsZE9iamVjdCkgJiYgaXNFbXB0eUFycmF5KGNoaWxkT2JqZWN0KSkpKSB7XG4gICAgICAgIHVuc2V0KG9iamVjdCwgcGF0aHMuc2xpY2UoMCwgLTEpKTtcbiAgICB9XG4gICAgcmV0dXJuIG9iamVjdDtcbn1cblxudmFyIHVwZGF0ZUF0ID0gKGZpZWxkVmFsdWVzLCBpbmRleCwgdmFsdWUpID0+IHtcbiAgICBmaWVsZFZhbHVlc1tpbmRleF0gPSB2YWx1ZTtcbiAgICByZXR1cm4gZmllbGRWYWx1ZXM7XG59O1xuXG4vKipcbiAqIEEgY3VzdG9tIGhvb2sgdGhhdCBleHBvc2VzIGNvbnZlbmllbnQgbWV0aG9kcyB0byBwZXJmb3JtIG9wZXJhdGlvbnMgd2l0aCBhIGxpc3Qgb2YgZHluYW1pYyBpbnB1dHMgdGhhdCBuZWVkIHRvIGJlIGFwcGVuZGVkLCB1cGRhdGVkLCByZW1vdmVkIGV0Yy4g4oCiIFtEZW1vXShodHRwczovL2NvZGVzYW5kYm94LmlvL3MvcmVhY3QtaG9vay1mb3JtLXVzZWZpZWxkYXJyYXktc3N1Z24pIOKAoiBbVmlkZW9dKGh0dHBzOi8veW91dHUuYmUvNE1yYmZHU0ZZMkEpXG4gKlxuICogQHJlbWFya3NcbiAqIFtBUEldKGh0dHBzOi8vcmVhY3QtaG9vay1mb3JtLmNvbS9hcGkvdXNlZmllbGRhcnJheSkg4oCiIFtEZW1vXShodHRwczovL2NvZGVzYW5kYm94LmlvL3MvcmVhY3QtaG9vay1mb3JtLXVzZWZpZWxkYXJyYXktc3N1Z24pXG4gKlxuICogQHBhcmFtIHByb3BzIC0gdXNlRmllbGRBcnJheSBwcm9wc1xuICpcbiAqIEByZXR1cm5zIG1ldGhvZHMgLSBmdW5jdGlvbnMgdG8gbWFuaXB1bGF0ZSB3aXRoIHRoZSBGaWVsZCBBcnJheXMgKGR5bmFtaWMgaW5wdXRzKSB7QGxpbmsgVXNlRmllbGRBcnJheVJldHVybn1cbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgdHN4XG4gKiBmdW5jdGlvbiBBcHAoKSB7XG4gKiAgIGNvbnN0IHsgcmVnaXN0ZXIsIGNvbnRyb2wsIGhhbmRsZVN1Ym1pdCwgcmVzZXQsIHRyaWdnZXIsIHNldEVycm9yIH0gPSB1c2VGb3JtKHtcbiAqICAgICBkZWZhdWx0VmFsdWVzOiB7XG4gKiAgICAgICB0ZXN0OiBbXVxuICogICAgIH1cbiAqICAgfSk7XG4gKiAgIGNvbnN0IHsgZmllbGRzLCBhcHBlbmQgfSA9IHVzZUZpZWxkQXJyYXkoe1xuICogICAgIGNvbnRyb2wsXG4gKiAgICAgbmFtZTogXCJ0ZXN0XCJcbiAqICAgfSk7XG4gKlxuICogICByZXR1cm4gKFxuICogICAgIDxmb3JtIG9uU3VibWl0PXtoYW5kbGVTdWJtaXQoZGF0YSA9PiBjb25zb2xlLmxvZyhkYXRhKSl9PlxuICogICAgICAge2ZpZWxkcy5tYXAoKGl0ZW0sIGluZGV4KSA9PiAoXG4gKiAgICAgICAgICA8aW5wdXQga2V5PXtpdGVtLmlkfSB7Li4ucmVnaXN0ZXIoYHRlc3QuJHtpbmRleH0uZmlyc3ROYW1lYCl9ICAvPlxuICogICAgICAgKSl9XG4gKiAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBvbkNsaWNrPXsoKSA9PiBhcHBlbmQoeyBmaXJzdE5hbWU6IFwiYmlsbFwiIH0pfT5cbiAqICAgICAgICAgYXBwZW5kXG4gKiAgICAgICA8L2J1dHRvbj5cbiAqICAgICAgIDxpbnB1dCB0eXBlPVwic3VibWl0XCIgLz5cbiAqICAgICA8L2Zvcm0+XG4gKiAgICk7XG4gKiB9XG4gKiBgYGBcbiAqL1xuZnVuY3Rpb24gdXNlRmllbGRBcnJheShwcm9wcykge1xuICAgIGNvbnN0IG1ldGhvZHMgPSB1c2VGb3JtQ29udGV4dCgpO1xuICAgIGNvbnN0IHsgY29udHJvbCA9IG1ldGhvZHMuY29udHJvbCwgbmFtZSwga2V5TmFtZSA9ICdpZCcsIHNob3VsZFVucmVnaXN0ZXIsIH0gPSBwcm9wcztcbiAgICBjb25zdCBbZmllbGRzLCBzZXRGaWVsZHNdID0gUmVhY3QudXNlU3RhdGUoY29udHJvbC5fZ2V0RmllbGRBcnJheShuYW1lKSk7XG4gICAgY29uc3QgaWRzID0gUmVhY3QudXNlUmVmKGNvbnRyb2wuX2dldEZpZWxkQXJyYXkobmFtZSkubWFwKGdlbmVyYXRlSWQpKTtcbiAgICBjb25zdCBfZmllbGRJZHMgPSBSZWFjdC51c2VSZWYoZmllbGRzKTtcbiAgICBjb25zdCBfbmFtZSA9IFJlYWN0LnVzZVJlZihuYW1lKTtcbiAgICBjb25zdCBfYWN0aW9uZWQgPSBSZWFjdC51c2VSZWYoZmFsc2UpO1xuICAgIF9uYW1lLmN1cnJlbnQgPSBuYW1lO1xuICAgIF9maWVsZElkcy5jdXJyZW50ID0gZmllbGRzO1xuICAgIGNvbnRyb2wuX25hbWVzLmFycmF5LmFkZChuYW1lKTtcbiAgICBwcm9wcy5ydWxlcyAmJlxuICAgICAgICBjb250cm9sLnJlZ2lzdGVyKG5hbWUsIHByb3BzLnJ1bGVzKTtcbiAgICB1c2VTdWJzY3JpYmUoe1xuICAgICAgICBuZXh0OiAoeyB2YWx1ZXMsIG5hbWU6IGZpZWxkQXJyYXlOYW1lLCB9KSA9PiB7XG4gICAgICAgICAgICBpZiAoZmllbGRBcnJheU5hbWUgPT09IF9uYW1lLmN1cnJlbnQgfHwgIWZpZWxkQXJyYXlOYW1lKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZmllbGRWYWx1ZXMgPSBnZXQodmFsdWVzLCBfbmFtZS5jdXJyZW50KTtcbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShmaWVsZFZhbHVlcykpIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0RmllbGRzKGZpZWxkVmFsdWVzKTtcbiAgICAgICAgICAgICAgICAgICAgaWRzLmN1cnJlbnQgPSBmaWVsZFZhbHVlcy5tYXAoZ2VuZXJhdGVJZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBzdWJqZWN0OiBjb250cm9sLl9zdWJqZWN0cy5hcnJheSxcbiAgICB9KTtcbiAgICBjb25zdCB1cGRhdGVWYWx1ZXMgPSBSZWFjdC51c2VDYWxsYmFjaygodXBkYXRlZEZpZWxkQXJyYXlWYWx1ZXMpID0+IHtcbiAgICAgICAgX2FjdGlvbmVkLmN1cnJlbnQgPSB0cnVlO1xuICAgICAgICBjb250cm9sLl91cGRhdGVGaWVsZEFycmF5KG5hbWUsIHVwZGF0ZWRGaWVsZEFycmF5VmFsdWVzKTtcbiAgICB9LCBbY29udHJvbCwgbmFtZV0pO1xuICAgIGNvbnN0IGFwcGVuZCQxID0gKHZhbHVlLCBvcHRpb25zKSA9PiB7XG4gICAgICAgIGNvbnN0IGFwcGVuZFZhbHVlID0gY29udmVydFRvQXJyYXlQYXlsb2FkKGNsb25lT2JqZWN0KHZhbHVlKSk7XG4gICAgICAgIGNvbnN0IHVwZGF0ZWRGaWVsZEFycmF5VmFsdWVzID0gYXBwZW5kKGNvbnRyb2wuX2dldEZpZWxkQXJyYXkobmFtZSksIGFwcGVuZFZhbHVlKTtcbiAgICAgICAgY29udHJvbC5fbmFtZXMuZm9jdXMgPSBnZXRGb2N1c0ZpZWxkTmFtZShuYW1lLCB1cGRhdGVkRmllbGRBcnJheVZhbHVlcy5sZW5ndGggLSAxLCBvcHRpb25zKTtcbiAgICAgICAgaWRzLmN1cnJlbnQgPSBhcHBlbmQoaWRzLmN1cnJlbnQsIGFwcGVuZFZhbHVlLm1hcChnZW5lcmF0ZUlkKSk7XG4gICAgICAgIHVwZGF0ZVZhbHVlcyh1cGRhdGVkRmllbGRBcnJheVZhbHVlcyk7XG4gICAgICAgIHNldEZpZWxkcyh1cGRhdGVkRmllbGRBcnJheVZhbHVlcyk7XG4gICAgICAgIGNvbnRyb2wuX3VwZGF0ZUZpZWxkQXJyYXkobmFtZSwgdXBkYXRlZEZpZWxkQXJyYXlWYWx1ZXMsIGFwcGVuZCwge1xuICAgICAgICAgICAgYXJnQTogZmlsbEVtcHR5QXJyYXkodmFsdWUpLFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIGNvbnN0IHByZXBlbmQkMSA9ICh2YWx1ZSwgb3B0aW9ucykgPT4ge1xuICAgICAgICBjb25zdCBwcmVwZW5kVmFsdWUgPSBjb252ZXJ0VG9BcnJheVBheWxvYWQoY2xvbmVPYmplY3QodmFsdWUpKTtcbiAgICAgICAgY29uc3QgdXBkYXRlZEZpZWxkQXJyYXlWYWx1ZXMgPSBwcmVwZW5kKGNvbnRyb2wuX2dldEZpZWxkQXJyYXkobmFtZSksIHByZXBlbmRWYWx1ZSk7XG4gICAgICAgIGNvbnRyb2wuX25hbWVzLmZvY3VzID0gZ2V0Rm9jdXNGaWVsZE5hbWUobmFtZSwgMCwgb3B0aW9ucyk7XG4gICAgICAgIGlkcy5jdXJyZW50ID0gcHJlcGVuZChpZHMuY3VycmVudCwgcHJlcGVuZFZhbHVlLm1hcChnZW5lcmF0ZUlkKSk7XG4gICAgICAgIHVwZGF0ZVZhbHVlcyh1cGRhdGVkRmllbGRBcnJheVZhbHVlcyk7XG4gICAgICAgIHNldEZpZWxkcyh1cGRhdGVkRmllbGRBcnJheVZhbHVlcyk7XG4gICAgICAgIGNvbnRyb2wuX3VwZGF0ZUZpZWxkQXJyYXkobmFtZSwgdXBkYXRlZEZpZWxkQXJyYXlWYWx1ZXMsIHByZXBlbmQsIHtcbiAgICAgICAgICAgIGFyZ0E6IGZpbGxFbXB0eUFycmF5KHZhbHVlKSxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBjb25zdCByZW1vdmUgPSAoaW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgdXBkYXRlZEZpZWxkQXJyYXlWYWx1ZXMgPSByZW1vdmVBcnJheUF0KGNvbnRyb2wuX2dldEZpZWxkQXJyYXkobmFtZSksIGluZGV4KTtcbiAgICAgICAgaWRzLmN1cnJlbnQgPSByZW1vdmVBcnJheUF0KGlkcy5jdXJyZW50LCBpbmRleCk7XG4gICAgICAgIHVwZGF0ZVZhbHVlcyh1cGRhdGVkRmllbGRBcnJheVZhbHVlcyk7XG4gICAgICAgIHNldEZpZWxkcyh1cGRhdGVkRmllbGRBcnJheVZhbHVlcyk7XG4gICAgICAgIGNvbnRyb2wuX3VwZGF0ZUZpZWxkQXJyYXkobmFtZSwgdXBkYXRlZEZpZWxkQXJyYXlWYWx1ZXMsIHJlbW92ZUFycmF5QXQsIHtcbiAgICAgICAgICAgIGFyZ0E6IGluZGV4LFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIGNvbnN0IGluc2VydCQxID0gKGluZGV4LCB2YWx1ZSwgb3B0aW9ucykgPT4ge1xuICAgICAgICBjb25zdCBpbnNlcnRWYWx1ZSA9IGNvbnZlcnRUb0FycmF5UGF5bG9hZChjbG9uZU9iamVjdCh2YWx1ZSkpO1xuICAgICAgICBjb25zdCB1cGRhdGVkRmllbGRBcnJheVZhbHVlcyA9IGluc2VydChjb250cm9sLl9nZXRGaWVsZEFycmF5KG5hbWUpLCBpbmRleCwgaW5zZXJ0VmFsdWUpO1xuICAgICAgICBjb250cm9sLl9uYW1lcy5mb2N1cyA9IGdldEZvY3VzRmllbGROYW1lKG5hbWUsIGluZGV4LCBvcHRpb25zKTtcbiAgICAgICAgaWRzLmN1cnJlbnQgPSBpbnNlcnQoaWRzLmN1cnJlbnQsIGluZGV4LCBpbnNlcnRWYWx1ZS5tYXAoZ2VuZXJhdGVJZCkpO1xuICAgICAgICB1cGRhdGVWYWx1ZXModXBkYXRlZEZpZWxkQXJyYXlWYWx1ZXMpO1xuICAgICAgICBzZXRGaWVsZHModXBkYXRlZEZpZWxkQXJyYXlWYWx1ZXMpO1xuICAgICAgICBjb250cm9sLl91cGRhdGVGaWVsZEFycmF5KG5hbWUsIHVwZGF0ZWRGaWVsZEFycmF5VmFsdWVzLCBpbnNlcnQsIHtcbiAgICAgICAgICAgIGFyZ0E6IGluZGV4LFxuICAgICAgICAgICAgYXJnQjogZmlsbEVtcHR5QXJyYXkodmFsdWUpLFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIGNvbnN0IHN3YXAgPSAoaW5kZXhBLCBpbmRleEIpID0+IHtcbiAgICAgICAgY29uc3QgdXBkYXRlZEZpZWxkQXJyYXlWYWx1ZXMgPSBjb250cm9sLl9nZXRGaWVsZEFycmF5KG5hbWUpO1xuICAgICAgICBzd2FwQXJyYXlBdCh1cGRhdGVkRmllbGRBcnJheVZhbHVlcywgaW5kZXhBLCBpbmRleEIpO1xuICAgICAgICBzd2FwQXJyYXlBdChpZHMuY3VycmVudCwgaW5kZXhBLCBpbmRleEIpO1xuICAgICAgICB1cGRhdGVWYWx1ZXModXBkYXRlZEZpZWxkQXJyYXlWYWx1ZXMpO1xuICAgICAgICBzZXRGaWVsZHModXBkYXRlZEZpZWxkQXJyYXlWYWx1ZXMpO1xuICAgICAgICBjb250cm9sLl91cGRhdGVGaWVsZEFycmF5KG5hbWUsIHVwZGF0ZWRGaWVsZEFycmF5VmFsdWVzLCBzd2FwQXJyYXlBdCwge1xuICAgICAgICAgICAgYXJnQTogaW5kZXhBLFxuICAgICAgICAgICAgYXJnQjogaW5kZXhCLFxuICAgICAgICB9LCBmYWxzZSk7XG4gICAgfTtcbiAgICBjb25zdCBtb3ZlID0gKGZyb20sIHRvKSA9PiB7XG4gICAgICAgIGNvbnN0IHVwZGF0ZWRGaWVsZEFycmF5VmFsdWVzID0gY29udHJvbC5fZ2V0RmllbGRBcnJheShuYW1lKTtcbiAgICAgICAgbW92ZUFycmF5QXQodXBkYXRlZEZpZWxkQXJyYXlWYWx1ZXMsIGZyb20sIHRvKTtcbiAgICAgICAgbW92ZUFycmF5QXQoaWRzLmN1cnJlbnQsIGZyb20sIHRvKTtcbiAgICAgICAgdXBkYXRlVmFsdWVzKHVwZGF0ZWRGaWVsZEFycmF5VmFsdWVzKTtcbiAgICAgICAgc2V0RmllbGRzKHVwZGF0ZWRGaWVsZEFycmF5VmFsdWVzKTtcbiAgICAgICAgY29udHJvbC5fdXBkYXRlRmllbGRBcnJheShuYW1lLCB1cGRhdGVkRmllbGRBcnJheVZhbHVlcywgbW92ZUFycmF5QXQsIHtcbiAgICAgICAgICAgIGFyZ0E6IGZyb20sXG4gICAgICAgICAgICBhcmdCOiB0byxcbiAgICAgICAgfSwgZmFsc2UpO1xuICAgIH07XG4gICAgY29uc3QgdXBkYXRlID0gKGluZGV4LCB2YWx1ZSkgPT4ge1xuICAgICAgICBjb25zdCB1cGRhdGVWYWx1ZSA9IGNsb25lT2JqZWN0KHZhbHVlKTtcbiAgICAgICAgY29uc3QgdXBkYXRlZEZpZWxkQXJyYXlWYWx1ZXMgPSB1cGRhdGVBdChjb250cm9sLl9nZXRGaWVsZEFycmF5KG5hbWUpLCBpbmRleCwgdXBkYXRlVmFsdWUpO1xuICAgICAgICBpZHMuY3VycmVudCA9IFsuLi51cGRhdGVkRmllbGRBcnJheVZhbHVlc10ubWFwKChpdGVtLCBpKSA9PiAhaXRlbSB8fCBpID09PSBpbmRleCA/IGdlbmVyYXRlSWQoKSA6IGlkcy5jdXJyZW50W2ldKTtcbiAgICAgICAgdXBkYXRlVmFsdWVzKHVwZGF0ZWRGaWVsZEFycmF5VmFsdWVzKTtcbiAgICAgICAgc2V0RmllbGRzKFsuLi51cGRhdGVkRmllbGRBcnJheVZhbHVlc10pO1xuICAgICAgICBjb250cm9sLl91cGRhdGVGaWVsZEFycmF5KG5hbWUsIHVwZGF0ZWRGaWVsZEFycmF5VmFsdWVzLCB1cGRhdGVBdCwge1xuICAgICAgICAgICAgYXJnQTogaW5kZXgsXG4gICAgICAgICAgICBhcmdCOiB1cGRhdGVWYWx1ZSxcbiAgICAgICAgfSwgdHJ1ZSwgZmFsc2UpO1xuICAgIH07XG4gICAgY29uc3QgcmVwbGFjZSA9ICh2YWx1ZSkgPT4ge1xuICAgICAgICBjb25zdCB1cGRhdGVkRmllbGRBcnJheVZhbHVlcyA9IGNvbnZlcnRUb0FycmF5UGF5bG9hZChjbG9uZU9iamVjdCh2YWx1ZSkpO1xuICAgICAgICBpZHMuY3VycmVudCA9IHVwZGF0ZWRGaWVsZEFycmF5VmFsdWVzLm1hcChnZW5lcmF0ZUlkKTtcbiAgICAgICAgdXBkYXRlVmFsdWVzKFsuLi51cGRhdGVkRmllbGRBcnJheVZhbHVlc10pO1xuICAgICAgICBzZXRGaWVsZHMoWy4uLnVwZGF0ZWRGaWVsZEFycmF5VmFsdWVzXSk7XG4gICAgICAgIGNvbnRyb2wuX3VwZGF0ZUZpZWxkQXJyYXkobmFtZSwgWy4uLnVwZGF0ZWRGaWVsZEFycmF5VmFsdWVzXSwgKGRhdGEpID0+IGRhdGEsIHt9LCB0cnVlLCBmYWxzZSk7XG4gICAgfTtcbiAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBjb250cm9sLl9zdGF0ZS5hY3Rpb24gPSBmYWxzZTtcbiAgICAgICAgaXNXYXRjaGVkKG5hbWUsIGNvbnRyb2wuX25hbWVzKSAmJlxuICAgICAgICAgICAgY29udHJvbC5fc3ViamVjdHMuc3RhdGUubmV4dCh7XG4gICAgICAgICAgICAgICAgLi4uY29udHJvbC5fZm9ybVN0YXRlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIGlmIChfYWN0aW9uZWQuY3VycmVudCAmJlxuICAgICAgICAgICAgKCFnZXRWYWxpZGF0aW9uTW9kZXMoY29udHJvbC5fb3B0aW9ucy5tb2RlKS5pc09uU3VibWl0IHx8XG4gICAgICAgICAgICAgICAgY29udHJvbC5fZm9ybVN0YXRlLmlzU3VibWl0dGVkKSkge1xuICAgICAgICAgICAgaWYgKGNvbnRyb2wuX29wdGlvbnMucmVzb2x2ZXIpIHtcbiAgICAgICAgICAgICAgICBjb250cm9sLl9leGVjdXRlU2NoZW1hKFtuYW1lXSkudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yID0gZ2V0KHJlc3VsdC5lcnJvcnMsIG5hbWUpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBleGlzdGluZ0Vycm9yID0gZ2V0KGNvbnRyb2wuX2Zvcm1TdGF0ZS5lcnJvcnMsIG5hbWUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZXhpc3RpbmdFcnJvciA/ICFlcnJvciAmJiBleGlzdGluZ0Vycm9yLnR5cGUgOiBlcnJvciAmJiBlcnJvci50eXBlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gc2V0KGNvbnRyb2wuX2Zvcm1TdGF0ZS5lcnJvcnMsIG5hbWUsIGVycm9yKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogdW5zZXQoY29udHJvbC5fZm9ybVN0YXRlLmVycm9ycywgbmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sLl9zdWJqZWN0cy5zdGF0ZS5uZXh0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcnM6IGNvbnRyb2wuX2Zvcm1TdGF0ZS5lcnJvcnMsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZmllbGQgPSBnZXQoY29udHJvbC5fZmllbGRzLCBuYW1lKTtcbiAgICAgICAgICAgICAgICBpZiAoZmllbGQgJiYgZmllbGQuX2YpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGVGaWVsZChmaWVsZCwgY29udHJvbC5fZm9ybVZhbHVlcywgY29udHJvbC5fb3B0aW9ucy5jcml0ZXJpYU1vZGUgPT09IFZBTElEQVRJT05fTU9ERS5hbGwsIGNvbnRyb2wuX29wdGlvbnMuc2hvdWxkVXNlTmF0aXZlVmFsaWRhdGlvbiwgdHJ1ZSkudGhlbigoZXJyb3IpID0+ICFpc0VtcHR5T2JqZWN0KGVycm9yKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbC5fc3ViamVjdHMuc3RhdGUubmV4dCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JzOiB1cGRhdGVGaWVsZEFycmF5Um9vdEVycm9yKGNvbnRyb2wuX2Zvcm1TdGF0ZS5lcnJvcnMsIGVycm9yLCBuYW1lKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29udHJvbC5fc3ViamVjdHMudmFsdWVzLm5leHQoe1xuICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgIHZhbHVlczogeyAuLi5jb250cm9sLl9mb3JtVmFsdWVzIH0sXG4gICAgICAgIH0pO1xuICAgICAgICBjb250cm9sLl9uYW1lcy5mb2N1cyAmJlxuICAgICAgICAgICAgZm9jdXNGaWVsZEJ5KGNvbnRyb2wuX2ZpZWxkcywgKGtleSkgPT4gISFrZXkgJiYga2V5LnN0YXJ0c1dpdGgoY29udHJvbC5fbmFtZXMuZm9jdXMgfHwgJycpKTtcbiAgICAgICAgY29udHJvbC5fbmFtZXMuZm9jdXMgPSAnJztcbiAgICAgICAgY29udHJvbC5fdXBkYXRlVmFsaWQoKTtcbiAgICB9LCBbZmllbGRzLCBuYW1lLCBjb250cm9sXSk7XG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgIWdldChjb250cm9sLl9mb3JtVmFsdWVzLCBuYW1lKSAmJiBjb250cm9sLl91cGRhdGVGaWVsZEFycmF5KG5hbWUpO1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgKGNvbnRyb2wuX29wdGlvbnMuc2hvdWxkVW5yZWdpc3RlciB8fCBzaG91bGRVbnJlZ2lzdGVyKSAmJlxuICAgICAgICAgICAgICAgIGNvbnRyb2wudW5yZWdpc3RlcihuYW1lKTtcbiAgICAgICAgfTtcbiAgICB9LCBbbmFtZSwgY29udHJvbCwga2V5TmFtZSwgc2hvdWxkVW5yZWdpc3Rlcl0pO1xuICAgIHJldHVybiB7XG4gICAgICAgIHN3YXA6IFJlYWN0LnVzZUNhbGxiYWNrKHN3YXAsIFt1cGRhdGVWYWx1ZXMsIG5hbWUsIGNvbnRyb2xdKSxcbiAgICAgICAgbW92ZTogUmVhY3QudXNlQ2FsbGJhY2sobW92ZSwgW3VwZGF0ZVZhbHVlcywgbmFtZSwgY29udHJvbF0pLFxuICAgICAgICBwcmVwZW5kOiBSZWFjdC51c2VDYWxsYmFjayhwcmVwZW5kJDEsIFt1cGRhdGVWYWx1ZXMsIG5hbWUsIGNvbnRyb2xdKSxcbiAgICAgICAgYXBwZW5kOiBSZWFjdC51c2VDYWxsYmFjayhhcHBlbmQkMSwgW3VwZGF0ZVZhbHVlcywgbmFtZSwgY29udHJvbF0pLFxuICAgICAgICByZW1vdmU6IFJlYWN0LnVzZUNhbGxiYWNrKHJlbW92ZSwgW3VwZGF0ZVZhbHVlcywgbmFtZSwgY29udHJvbF0pLFxuICAgICAgICBpbnNlcnQ6IFJlYWN0LnVzZUNhbGxiYWNrKGluc2VydCQxLCBbdXBkYXRlVmFsdWVzLCBuYW1lLCBjb250cm9sXSksXG4gICAgICAgIHVwZGF0ZTogUmVhY3QudXNlQ2FsbGJhY2sodXBkYXRlLCBbdXBkYXRlVmFsdWVzLCBuYW1lLCBjb250cm9sXSksXG4gICAgICAgIHJlcGxhY2U6IFJlYWN0LnVzZUNhbGxiYWNrKHJlcGxhY2UsIFt1cGRhdGVWYWx1ZXMsIG5hbWUsIGNvbnRyb2xdKSxcbiAgICAgICAgZmllbGRzOiBSZWFjdC51c2VNZW1vKCgpID0+IGZpZWxkcy5tYXAoKGZpZWxkLCBpbmRleCkgPT4gKHtcbiAgICAgICAgICAgIC4uLmZpZWxkLFxuICAgICAgICAgICAgW2tleU5hbWVdOiBpZHMuY3VycmVudFtpbmRleF0gfHwgZ2VuZXJhdGVJZCgpLFxuICAgICAgICB9KSksIFtmaWVsZHMsIGtleU5hbWVdKSxcbiAgICB9O1xufVxuXG5mdW5jdGlvbiBjcmVhdGVTdWJqZWN0KCkge1xuICAgIGxldCBfb2JzZXJ2ZXJzID0gW107XG4gICAgY29uc3QgbmV4dCA9ICh2YWx1ZSkgPT4ge1xuICAgICAgICBmb3IgKGNvbnN0IG9ic2VydmVyIG9mIF9vYnNlcnZlcnMpIHtcbiAgICAgICAgICAgIG9ic2VydmVyLm5leHQgJiYgb2JzZXJ2ZXIubmV4dCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHN1YnNjcmliZSA9IChvYnNlcnZlcikgPT4ge1xuICAgICAgICBfb2JzZXJ2ZXJzLnB1c2gob2JzZXJ2ZXIpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdW5zdWJzY3JpYmU6ICgpID0+IHtcbiAgICAgICAgICAgICAgICBfb2JzZXJ2ZXJzID0gX29ic2VydmVycy5maWx0ZXIoKG8pID0+IG8gIT09IG9ic2VydmVyKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCB1bnN1YnNjcmliZSA9ICgpID0+IHtcbiAgICAgICAgX29ic2VydmVycyA9IFtdO1xuICAgIH07XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZ2V0IG9ic2VydmVycygpIHtcbiAgICAgICAgICAgIHJldHVybiBfb2JzZXJ2ZXJzO1xuICAgICAgICB9LFxuICAgICAgICBuZXh0LFxuICAgICAgICBzdWJzY3JpYmUsXG4gICAgICAgIHVuc3Vic2NyaWJlLFxuICAgIH07XG59XG5cbnZhciBpc1ByaW1pdGl2ZSA9ICh2YWx1ZSkgPT4gaXNOdWxsT3JVbmRlZmluZWQodmFsdWUpIHx8ICFpc09iamVjdFR5cGUodmFsdWUpO1xuXG5mdW5jdGlvbiBkZWVwRXF1YWwob2JqZWN0MSwgb2JqZWN0Mikge1xuICAgIGlmIChpc1ByaW1pdGl2ZShvYmplY3QxKSB8fCBpc1ByaW1pdGl2ZShvYmplY3QyKSkge1xuICAgICAgICByZXR1cm4gb2JqZWN0MSA9PT0gb2JqZWN0MjtcbiAgICB9XG4gICAgaWYgKGlzRGF0ZU9iamVjdChvYmplY3QxKSAmJiBpc0RhdGVPYmplY3Qob2JqZWN0MikpIHtcbiAgICAgICAgcmV0dXJuIG9iamVjdDEuZ2V0VGltZSgpID09PSBvYmplY3QyLmdldFRpbWUoKTtcbiAgICB9XG4gICAgY29uc3Qga2V5czEgPSBPYmplY3Qua2V5cyhvYmplY3QxKTtcbiAgICBjb25zdCBrZXlzMiA9IE9iamVjdC5rZXlzKG9iamVjdDIpO1xuICAgIGlmIChrZXlzMS5sZW5ndGggIT09IGtleXMyLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGZvciAoY29uc3Qga2V5IG9mIGtleXMxKSB7XG4gICAgICAgIGNvbnN0IHZhbDEgPSBvYmplY3QxW2tleV07XG4gICAgICAgIGlmICgha2V5czIuaW5jbHVkZXMoa2V5KSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChrZXkgIT09ICdyZWYnKSB7XG4gICAgICAgICAgICBjb25zdCB2YWwyID0gb2JqZWN0MltrZXldO1xuICAgICAgICAgICAgaWYgKChpc0RhdGVPYmplY3QodmFsMSkgJiYgaXNEYXRlT2JqZWN0KHZhbDIpKSB8fFxuICAgICAgICAgICAgICAgIChpc09iamVjdCh2YWwxKSAmJiBpc09iamVjdCh2YWwyKSkgfHxcbiAgICAgICAgICAgICAgICAoQXJyYXkuaXNBcnJheSh2YWwxKSAmJiBBcnJheS5pc0FycmF5KHZhbDIpKVxuICAgICAgICAgICAgICAgID8gIWRlZXBFcXVhbCh2YWwxLCB2YWwyKVxuICAgICAgICAgICAgICAgIDogdmFsMSAhPT0gdmFsMikge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cblxudmFyIGlzTXVsdGlwbGVTZWxlY3QgPSAoZWxlbWVudCkgPT4gZWxlbWVudC50eXBlID09PSBgc2VsZWN0LW11bHRpcGxlYDtcblxudmFyIGlzUmFkaW9PckNoZWNrYm94ID0gKHJlZikgPT4gaXNSYWRpb0lucHV0KHJlZikgfHwgaXNDaGVja0JveElucHV0KHJlZik7XG5cbnZhciBsaXZlID0gKHJlZikgPT4gaXNIVE1MRWxlbWVudChyZWYpICYmIHJlZi5pc0Nvbm5lY3RlZDtcblxudmFyIG9iamVjdEhhc0Z1bmN0aW9uID0gKGRhdGEpID0+IHtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBkYXRhKSB7XG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKGRhdGFba2V5XSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn07XG5cbmZ1bmN0aW9uIG1hcmtGaWVsZHNEaXJ0eShkYXRhLCBmaWVsZHMgPSB7fSkge1xuICAgIGNvbnN0IGlzUGFyZW50Tm9kZUFycmF5ID0gQXJyYXkuaXNBcnJheShkYXRhKTtcbiAgICBpZiAoaXNPYmplY3QoZGF0YSkgfHwgaXNQYXJlbnROb2RlQXJyYXkpIHtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gZGF0YSkge1xuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YVtrZXldKSB8fFxuICAgICAgICAgICAgICAgIChpc09iamVjdChkYXRhW2tleV0pICYmICFvYmplY3RIYXNGdW5jdGlvbihkYXRhW2tleV0pKSkge1xuICAgICAgICAgICAgICAgIGZpZWxkc1trZXldID0gQXJyYXkuaXNBcnJheShkYXRhW2tleV0pID8gW10gOiB7fTtcbiAgICAgICAgICAgICAgICBtYXJrRmllbGRzRGlydHkoZGF0YVtrZXldLCBmaWVsZHNba2V5XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICghaXNOdWxsT3JVbmRlZmluZWQoZGF0YVtrZXldKSkge1xuICAgICAgICAgICAgICAgIGZpZWxkc1trZXldID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmllbGRzO1xufVxuZnVuY3Rpb24gZ2V0RGlydHlGaWVsZHNGcm9tRGVmYXVsdFZhbHVlcyhkYXRhLCBmb3JtVmFsdWVzLCBkaXJ0eUZpZWxkc0Zyb21WYWx1ZXMpIHtcbiAgICBjb25zdCBpc1BhcmVudE5vZGVBcnJheSA9IEFycmF5LmlzQXJyYXkoZGF0YSk7XG4gICAgaWYgKGlzT2JqZWN0KGRhdGEpIHx8IGlzUGFyZW50Tm9kZUFycmF5KSB7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIGRhdGEpIHtcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGFba2V5XSkgfHxcbiAgICAgICAgICAgICAgICAoaXNPYmplY3QoZGF0YVtrZXldKSAmJiAhb2JqZWN0SGFzRnVuY3Rpb24oZGF0YVtrZXldKSkpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNVbmRlZmluZWQoZm9ybVZhbHVlcykgfHxcbiAgICAgICAgICAgICAgICAgICAgaXNQcmltaXRpdmUoZGlydHlGaWVsZHNGcm9tVmFsdWVzW2tleV0pKSB7XG4gICAgICAgICAgICAgICAgICAgIGRpcnR5RmllbGRzRnJvbVZhbHVlc1trZXldID0gQXJyYXkuaXNBcnJheShkYXRhW2tleV0pXG4gICAgICAgICAgICAgICAgICAgICAgICA/IG1hcmtGaWVsZHNEaXJ0eShkYXRhW2tleV0sIFtdKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiB7IC4uLm1hcmtGaWVsZHNEaXJ0eShkYXRhW2tleV0pIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBnZXREaXJ0eUZpZWxkc0Zyb21EZWZhdWx0VmFsdWVzKGRhdGFba2V5XSwgaXNOdWxsT3JVbmRlZmluZWQoZm9ybVZhbHVlcykgPyB7fSA6IGZvcm1WYWx1ZXNba2V5XSwgZGlydHlGaWVsZHNGcm9tVmFsdWVzW2tleV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGRpcnR5RmllbGRzRnJvbVZhbHVlc1trZXldID0gIWRlZXBFcXVhbChkYXRhW2tleV0sIGZvcm1WYWx1ZXNba2V5XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGRpcnR5RmllbGRzRnJvbVZhbHVlcztcbn1cbnZhciBnZXREaXJ0eUZpZWxkcyA9IChkZWZhdWx0VmFsdWVzLCBmb3JtVmFsdWVzKSA9PiBnZXREaXJ0eUZpZWxkc0Zyb21EZWZhdWx0VmFsdWVzKGRlZmF1bHRWYWx1ZXMsIGZvcm1WYWx1ZXMsIG1hcmtGaWVsZHNEaXJ0eShmb3JtVmFsdWVzKSk7XG5cbnZhciBnZXRGaWVsZFZhbHVlQXMgPSAodmFsdWUsIHsgdmFsdWVBc051bWJlciwgdmFsdWVBc0RhdGUsIHNldFZhbHVlQXMgfSkgPT4gaXNVbmRlZmluZWQodmFsdWUpXG4gICAgPyB2YWx1ZVxuICAgIDogdmFsdWVBc051bWJlclxuICAgICAgICA/IHZhbHVlID09PSAnJ1xuICAgICAgICAgICAgPyBOYU5cbiAgICAgICAgICAgIDogdmFsdWVcbiAgICAgICAgICAgICAgICA/ICt2YWx1ZVxuICAgICAgICAgICAgICAgIDogdmFsdWVcbiAgICAgICAgOiB2YWx1ZUFzRGF0ZSAmJiBpc1N0cmluZyh2YWx1ZSlcbiAgICAgICAgICAgID8gbmV3IERhdGUodmFsdWUpXG4gICAgICAgICAgICA6IHNldFZhbHVlQXNcbiAgICAgICAgICAgICAgICA/IHNldFZhbHVlQXModmFsdWUpXG4gICAgICAgICAgICAgICAgOiB2YWx1ZTtcblxuZnVuY3Rpb24gZ2V0RmllbGRWYWx1ZShfZikge1xuICAgIGNvbnN0IHJlZiA9IF9mLnJlZjtcbiAgICBpZiAoX2YucmVmcyA/IF9mLnJlZnMuZXZlcnkoKHJlZikgPT4gcmVmLmRpc2FibGVkKSA6IHJlZi5kaXNhYmxlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChpc0ZpbGVJbnB1dChyZWYpKSB7XG4gICAgICAgIHJldHVybiByZWYuZmlsZXM7XG4gICAgfVxuICAgIGlmIChpc1JhZGlvSW5wdXQocmVmKSkge1xuICAgICAgICByZXR1cm4gZ2V0UmFkaW9WYWx1ZShfZi5yZWZzKS52YWx1ZTtcbiAgICB9XG4gICAgaWYgKGlzTXVsdGlwbGVTZWxlY3QocmVmKSkge1xuICAgICAgICByZXR1cm4gWy4uLnJlZi5zZWxlY3RlZE9wdGlvbnNdLm1hcCgoeyB2YWx1ZSB9KSA9PiB2YWx1ZSk7XG4gICAgfVxuICAgIGlmIChpc0NoZWNrQm94SW5wdXQocmVmKSkge1xuICAgICAgICByZXR1cm4gZ2V0Q2hlY2tib3hWYWx1ZShfZi5yZWZzKS52YWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGdldEZpZWxkVmFsdWVBcyhpc1VuZGVmaW5lZChyZWYudmFsdWUpID8gX2YucmVmLnZhbHVlIDogcmVmLnZhbHVlLCBfZik7XG59XG5cbnZhciBnZXRSZXNvbHZlck9wdGlvbnMgPSAoZmllbGRzTmFtZXMsIF9maWVsZHMsIGNyaXRlcmlhTW9kZSwgc2hvdWxkVXNlTmF0aXZlVmFsaWRhdGlvbikgPT4ge1xuICAgIGNvbnN0IGZpZWxkcyA9IHt9O1xuICAgIGZvciAoY29uc3QgbmFtZSBvZiBmaWVsZHNOYW1lcykge1xuICAgICAgICBjb25zdCBmaWVsZCA9IGdldChfZmllbGRzLCBuYW1lKTtcbiAgICAgICAgZmllbGQgJiYgc2V0KGZpZWxkcywgbmFtZSwgZmllbGQuX2YpO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBjcml0ZXJpYU1vZGUsXG4gICAgICAgIG5hbWVzOiBbLi4uZmllbGRzTmFtZXNdLFxuICAgICAgICBmaWVsZHMsXG4gICAgICAgIHNob3VsZFVzZU5hdGl2ZVZhbGlkYXRpb24sXG4gICAgfTtcbn07XG5cbnZhciBnZXRSdWxlVmFsdWUgPSAocnVsZSkgPT4gaXNVbmRlZmluZWQocnVsZSlcbiAgICA/IHJ1bGVcbiAgICA6IGlzUmVnZXgocnVsZSlcbiAgICAgICAgPyBydWxlLnNvdXJjZVxuICAgICAgICA6IGlzT2JqZWN0KHJ1bGUpXG4gICAgICAgICAgICA/IGlzUmVnZXgocnVsZS52YWx1ZSlcbiAgICAgICAgICAgICAgICA/IHJ1bGUudmFsdWUuc291cmNlXG4gICAgICAgICAgICAgICAgOiBydWxlLnZhbHVlXG4gICAgICAgICAgICA6IHJ1bGU7XG5cbnZhciBoYXNWYWxpZGF0aW9uID0gKG9wdGlvbnMpID0+IG9wdGlvbnMubW91bnQgJiZcbiAgICAob3B0aW9ucy5yZXF1aXJlZCB8fFxuICAgICAgICBvcHRpb25zLm1pbiB8fFxuICAgICAgICBvcHRpb25zLm1heCB8fFxuICAgICAgICBvcHRpb25zLm1heExlbmd0aCB8fFxuICAgICAgICBvcHRpb25zLm1pbkxlbmd0aCB8fFxuICAgICAgICBvcHRpb25zLnBhdHRlcm4gfHxcbiAgICAgICAgb3B0aW9ucy52YWxpZGF0ZSk7XG5cbmZ1bmN0aW9uIHNjaGVtYUVycm9yTG9va3VwKGVycm9ycywgX2ZpZWxkcywgbmFtZSkge1xuICAgIGNvbnN0IGVycm9yID0gZ2V0KGVycm9ycywgbmFtZSk7XG4gICAgaWYgKGVycm9yIHx8IGlzS2V5KG5hbWUpKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBlcnJvcixcbiAgICAgICAgICAgIG5hbWUsXG4gICAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0IG5hbWVzID0gbmFtZS5zcGxpdCgnLicpO1xuICAgIHdoaWxlIChuYW1lcy5sZW5ndGgpIHtcbiAgICAgICAgY29uc3QgZmllbGROYW1lID0gbmFtZXMuam9pbignLicpO1xuICAgICAgICBjb25zdCBmaWVsZCA9IGdldChfZmllbGRzLCBmaWVsZE5hbWUpO1xuICAgICAgICBjb25zdCBmb3VuZEVycm9yID0gZ2V0KGVycm9ycywgZmllbGROYW1lKTtcbiAgICAgICAgaWYgKGZpZWxkICYmICFBcnJheS5pc0FycmF5KGZpZWxkKSAmJiBuYW1lICE9PSBmaWVsZE5hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiB7IG5hbWUgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZm91bmRFcnJvciAmJiBmb3VuZEVycm9yLnR5cGUpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbmFtZTogZmllbGROYW1lLFxuICAgICAgICAgICAgICAgIGVycm9yOiBmb3VuZEVycm9yLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBuYW1lcy5wb3AoKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbmFtZSxcbiAgICB9O1xufVxuXG52YXIgc2tpcFZhbGlkYXRpb24gPSAoaXNCbHVyRXZlbnQsIGlzVG91Y2hlZCwgaXNTdWJtaXR0ZWQsIHJlVmFsaWRhdGVNb2RlLCBtb2RlKSA9PiB7XG4gICAgaWYgKG1vZGUuaXNPbkFsbCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGVsc2UgaWYgKCFpc1N1Ym1pdHRlZCAmJiBtb2RlLmlzT25Ub3VjaCkge1xuICAgICAgICByZXR1cm4gIShpc1RvdWNoZWQgfHwgaXNCbHVyRXZlbnQpO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc1N1Ym1pdHRlZCA/IHJlVmFsaWRhdGVNb2RlLmlzT25CbHVyIDogbW9kZS5pc09uQmx1cikge1xuICAgICAgICByZXR1cm4gIWlzQmx1ckV2ZW50O1xuICAgIH1cbiAgICBlbHNlIGlmIChpc1N1Ym1pdHRlZCA/IHJlVmFsaWRhdGVNb2RlLmlzT25DaGFuZ2UgOiBtb2RlLmlzT25DaGFuZ2UpIHtcbiAgICAgICAgcmV0dXJuIGlzQmx1ckV2ZW50O1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn07XG5cbnZhciB1bnNldEVtcHR5QXJyYXkgPSAocmVmLCBuYW1lKSA9PiAhY29tcGFjdChnZXQocmVmLCBuYW1lKSkubGVuZ3RoICYmIHVuc2V0KHJlZiwgbmFtZSk7XG5cbmNvbnN0IGRlZmF1bHRPcHRpb25zID0ge1xuICAgIG1vZGU6IFZBTElEQVRJT05fTU9ERS5vblN1Ym1pdCxcbiAgICByZVZhbGlkYXRlTW9kZTogVkFMSURBVElPTl9NT0RFLm9uQ2hhbmdlLFxuICAgIHNob3VsZEZvY3VzRXJyb3I6IHRydWUsXG59O1xuZnVuY3Rpb24gY3JlYXRlRm9ybUNvbnRyb2wocHJvcHMgPSB7fSwgZmx1c2hSb290UmVuZGVyKSB7XG4gICAgbGV0IF9vcHRpb25zID0ge1xuICAgICAgICAuLi5kZWZhdWx0T3B0aW9ucyxcbiAgICAgICAgLi4ucHJvcHMsXG4gICAgfTtcbiAgICBsZXQgX2Zvcm1TdGF0ZSA9IHtcbiAgICAgICAgc3VibWl0Q291bnQ6IDAsXG4gICAgICAgIGlzRGlydHk6IGZhbHNlLFxuICAgICAgICBpc0xvYWRpbmc6IGlzRnVuY3Rpb24oX29wdGlvbnMuZGVmYXVsdFZhbHVlcyksXG4gICAgICAgIGlzVmFsaWRhdGluZzogZmFsc2UsXG4gICAgICAgIGlzU3VibWl0dGVkOiBmYWxzZSxcbiAgICAgICAgaXNTdWJtaXR0aW5nOiBmYWxzZSxcbiAgICAgICAgaXNTdWJtaXRTdWNjZXNzZnVsOiBmYWxzZSxcbiAgICAgICAgaXNWYWxpZDogZmFsc2UsXG4gICAgICAgIHRvdWNoZWRGaWVsZHM6IHt9LFxuICAgICAgICBkaXJ0eUZpZWxkczoge30sXG4gICAgICAgIGVycm9yczoge30sXG4gICAgfTtcbiAgICBsZXQgX2ZpZWxkcyA9IHt9O1xuICAgIGxldCBfZGVmYXVsdFZhbHVlcyA9IGlzT2JqZWN0KF9vcHRpb25zLmRlZmF1bHRWYWx1ZXMpIHx8IGlzT2JqZWN0KF9vcHRpb25zLnZhbHVlcylcbiAgICAgICAgPyBjbG9uZU9iamVjdChfb3B0aW9ucy5kZWZhdWx0VmFsdWVzIHx8IF9vcHRpb25zLnZhbHVlcykgfHwge31cbiAgICAgICAgOiB7fTtcbiAgICBsZXQgX2Zvcm1WYWx1ZXMgPSBfb3B0aW9ucy5zaG91bGRVbnJlZ2lzdGVyXG4gICAgICAgID8ge31cbiAgICAgICAgOiBjbG9uZU9iamVjdChfZGVmYXVsdFZhbHVlcyk7XG4gICAgbGV0IF9zdGF0ZSA9IHtcbiAgICAgICAgYWN0aW9uOiBmYWxzZSxcbiAgICAgICAgbW91bnQ6IGZhbHNlLFxuICAgICAgICB3YXRjaDogZmFsc2UsXG4gICAgfTtcbiAgICBsZXQgX25hbWVzID0ge1xuICAgICAgICBtb3VudDogbmV3IFNldCgpLFxuICAgICAgICB1bk1vdW50OiBuZXcgU2V0KCksXG4gICAgICAgIGFycmF5OiBuZXcgU2V0KCksXG4gICAgICAgIHdhdGNoOiBuZXcgU2V0KCksXG4gICAgfTtcbiAgICBsZXQgZGVsYXlFcnJvckNhbGxiYWNrO1xuICAgIGxldCB0aW1lciA9IDA7XG4gICAgY29uc3QgX3Byb3h5Rm9ybVN0YXRlID0ge1xuICAgICAgICBpc0RpcnR5OiBmYWxzZSxcbiAgICAgICAgZGlydHlGaWVsZHM6IGZhbHNlLFxuICAgICAgICB0b3VjaGVkRmllbGRzOiBmYWxzZSxcbiAgICAgICAgaXNWYWxpZGF0aW5nOiBmYWxzZSxcbiAgICAgICAgaXNWYWxpZDogZmFsc2UsXG4gICAgICAgIGVycm9yczogZmFsc2UsXG4gICAgfTtcbiAgICBjb25zdCBfc3ViamVjdHMgPSB7XG4gICAgICAgIHZhbHVlczogY3JlYXRlU3ViamVjdCgpLFxuICAgICAgICBhcnJheTogY3JlYXRlU3ViamVjdCgpLFxuICAgICAgICBzdGF0ZTogY3JlYXRlU3ViamVjdCgpLFxuICAgIH07XG4gICAgY29uc3Qgc2hvdWxkQ2FwdHVyZURpcnR5RmllbGRzID0gcHJvcHMucmVzZXRPcHRpb25zICYmIHByb3BzLnJlc2V0T3B0aW9ucy5rZWVwRGlydHlWYWx1ZXM7XG4gICAgY29uc3QgdmFsaWRhdGlvbk1vZGVCZWZvcmVTdWJtaXQgPSBnZXRWYWxpZGF0aW9uTW9kZXMoX29wdGlvbnMubW9kZSk7XG4gICAgY29uc3QgdmFsaWRhdGlvbk1vZGVBZnRlclN1Ym1pdCA9IGdldFZhbGlkYXRpb25Nb2Rlcyhfb3B0aW9ucy5yZVZhbGlkYXRlTW9kZSk7XG4gICAgY29uc3Qgc2hvdWxkRGlzcGxheUFsbEFzc29jaWF0ZWRFcnJvcnMgPSBfb3B0aW9ucy5jcml0ZXJpYU1vZGUgPT09IFZBTElEQVRJT05fTU9ERS5hbGw7XG4gICAgY29uc3QgZGVib3VuY2UgPSAoY2FsbGJhY2spID0+ICh3YWl0KSA9PiB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aW1lcik7XG4gICAgICAgIHRpbWVyID0gc2V0VGltZW91dChjYWxsYmFjaywgd2FpdCk7XG4gICAgfTtcbiAgICBjb25zdCBfdXBkYXRlVmFsaWQgPSBhc3luYyAoc2hvdWxkVXBkYXRlVmFsaWQpID0+IHtcbiAgICAgICAgaWYgKF9wcm94eUZvcm1TdGF0ZS5pc1ZhbGlkIHx8IHNob3VsZFVwZGF0ZVZhbGlkKSB7XG4gICAgICAgICAgICBjb25zdCBpc1ZhbGlkID0gX29wdGlvbnMucmVzb2x2ZXJcbiAgICAgICAgICAgICAgICA/IGlzRW1wdHlPYmplY3QoKGF3YWl0IF9leGVjdXRlU2NoZW1hKCkpLmVycm9ycylcbiAgICAgICAgICAgICAgICA6IGF3YWl0IGV4ZWN1dGVCdWlsdEluVmFsaWRhdGlvbihfZmllbGRzLCB0cnVlKTtcbiAgICAgICAgICAgIGlmIChpc1ZhbGlkICE9PSBfZm9ybVN0YXRlLmlzVmFsaWQpIHtcbiAgICAgICAgICAgICAgICBfc3ViamVjdHMuc3RhdGUubmV4dCh7XG4gICAgICAgICAgICAgICAgICAgIGlzVmFsaWQsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IF91cGRhdGVJc1ZhbGlkYXRpbmcgPSAodmFsdWUpID0+IF9wcm94eUZvcm1TdGF0ZS5pc1ZhbGlkYXRpbmcgJiZcbiAgICAgICAgX3N1YmplY3RzLnN0YXRlLm5leHQoe1xuICAgICAgICAgICAgaXNWYWxpZGF0aW5nOiB2YWx1ZSxcbiAgICAgICAgfSk7XG4gICAgY29uc3QgX3VwZGF0ZUZpZWxkQXJyYXkgPSAobmFtZSwgdmFsdWVzID0gW10sIG1ldGhvZCwgYXJncywgc2hvdWxkU2V0VmFsdWVzID0gdHJ1ZSwgc2hvdWxkVXBkYXRlRmllbGRzQW5kU3RhdGUgPSB0cnVlKSA9PiB7XG4gICAgICAgIGlmIChhcmdzICYmIG1ldGhvZCkge1xuICAgICAgICAgICAgX3N0YXRlLmFjdGlvbiA9IHRydWU7XG4gICAgICAgICAgICBpZiAoc2hvdWxkVXBkYXRlRmllbGRzQW5kU3RhdGUgJiYgQXJyYXkuaXNBcnJheShnZXQoX2ZpZWxkcywgbmFtZSkpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZmllbGRWYWx1ZXMgPSBtZXRob2QoZ2V0KF9maWVsZHMsIG5hbWUpLCBhcmdzLmFyZ0EsIGFyZ3MuYXJnQik7XG4gICAgICAgICAgICAgICAgc2hvdWxkU2V0VmFsdWVzICYmIHNldChfZmllbGRzLCBuYW1lLCBmaWVsZFZhbHVlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc2hvdWxkVXBkYXRlRmllbGRzQW5kU3RhdGUgJiZcbiAgICAgICAgICAgICAgICBBcnJheS5pc0FycmF5KGdldChfZm9ybVN0YXRlLmVycm9ycywgbmFtZSkpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZXJyb3JzID0gbWV0aG9kKGdldChfZm9ybVN0YXRlLmVycm9ycywgbmFtZSksIGFyZ3MuYXJnQSwgYXJncy5hcmdCKTtcbiAgICAgICAgICAgICAgICBzaG91bGRTZXRWYWx1ZXMgJiYgc2V0KF9mb3JtU3RhdGUuZXJyb3JzLCBuYW1lLCBlcnJvcnMpO1xuICAgICAgICAgICAgICAgIHVuc2V0RW1wdHlBcnJheShfZm9ybVN0YXRlLmVycm9ycywgbmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoX3Byb3h5Rm9ybVN0YXRlLnRvdWNoZWRGaWVsZHMgJiZcbiAgICAgICAgICAgICAgICBzaG91bGRVcGRhdGVGaWVsZHNBbmRTdGF0ZSAmJlxuICAgICAgICAgICAgICAgIEFycmF5LmlzQXJyYXkoZ2V0KF9mb3JtU3RhdGUudG91Y2hlZEZpZWxkcywgbmFtZSkpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdG91Y2hlZEZpZWxkcyA9IG1ldGhvZChnZXQoX2Zvcm1TdGF0ZS50b3VjaGVkRmllbGRzLCBuYW1lKSwgYXJncy5hcmdBLCBhcmdzLmFyZ0IpO1xuICAgICAgICAgICAgICAgIHNob3VsZFNldFZhbHVlcyAmJiBzZXQoX2Zvcm1TdGF0ZS50b3VjaGVkRmllbGRzLCBuYW1lLCB0b3VjaGVkRmllbGRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChfcHJveHlGb3JtU3RhdGUuZGlydHlGaWVsZHMpIHtcbiAgICAgICAgICAgICAgICBfZm9ybVN0YXRlLmRpcnR5RmllbGRzID0gZ2V0RGlydHlGaWVsZHMoX2RlZmF1bHRWYWx1ZXMsIF9mb3JtVmFsdWVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF9zdWJqZWN0cy5zdGF0ZS5uZXh0KHtcbiAgICAgICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgICAgIGlzRGlydHk6IF9nZXREaXJ0eShuYW1lLCB2YWx1ZXMpLFxuICAgICAgICAgICAgICAgIGRpcnR5RmllbGRzOiBfZm9ybVN0YXRlLmRpcnR5RmllbGRzLFxuICAgICAgICAgICAgICAgIGVycm9yczogX2Zvcm1TdGF0ZS5lcnJvcnMsXG4gICAgICAgICAgICAgICAgaXNWYWxpZDogX2Zvcm1TdGF0ZS5pc1ZhbGlkLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzZXQoX2Zvcm1WYWx1ZXMsIG5hbWUsIHZhbHVlcyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHVwZGF0ZUVycm9ycyA9IChuYW1lLCBlcnJvcikgPT4ge1xuICAgICAgICBzZXQoX2Zvcm1TdGF0ZS5lcnJvcnMsIG5hbWUsIGVycm9yKTtcbiAgICAgICAgX3N1YmplY3RzLnN0YXRlLm5leHQoe1xuICAgICAgICAgICAgZXJyb3JzOiBfZm9ybVN0YXRlLmVycm9ycyxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBjb25zdCB1cGRhdGVWYWxpZEFuZFZhbHVlID0gKG5hbWUsIHNob3VsZFNraXBTZXRWYWx1ZUFzLCB2YWx1ZSwgcmVmKSA9PiB7XG4gICAgICAgIGNvbnN0IGZpZWxkID0gZ2V0KF9maWVsZHMsIG5hbWUpO1xuICAgICAgICBpZiAoZmllbGQpIHtcbiAgICAgICAgICAgIGNvbnN0IGRlZmF1bHRWYWx1ZSA9IGdldChfZm9ybVZhbHVlcywgbmFtZSwgaXNVbmRlZmluZWQodmFsdWUpID8gZ2V0KF9kZWZhdWx0VmFsdWVzLCBuYW1lKSA6IHZhbHVlKTtcbiAgICAgICAgICAgIGlzVW5kZWZpbmVkKGRlZmF1bHRWYWx1ZSkgfHxcbiAgICAgICAgICAgICAgICAocmVmICYmIHJlZi5kZWZhdWx0Q2hlY2tlZCkgfHxcbiAgICAgICAgICAgICAgICBzaG91bGRTa2lwU2V0VmFsdWVBc1xuICAgICAgICAgICAgICAgID8gc2V0KF9mb3JtVmFsdWVzLCBuYW1lLCBzaG91bGRTa2lwU2V0VmFsdWVBcyA/IGRlZmF1bHRWYWx1ZSA6IGdldEZpZWxkVmFsdWUoZmllbGQuX2YpKVxuICAgICAgICAgICAgICAgIDogc2V0RmllbGRWYWx1ZShuYW1lLCBkZWZhdWx0VmFsdWUpO1xuICAgICAgICAgICAgX3N0YXRlLm1vdW50ICYmIF91cGRhdGVWYWxpZCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdCB1cGRhdGVUb3VjaEFuZERpcnR5ID0gKG5hbWUsIGZpZWxkVmFsdWUsIGlzQmx1ckV2ZW50LCBzaG91bGREaXJ0eSwgc2hvdWxkUmVuZGVyKSA9PiB7XG4gICAgICAgIGxldCBzaG91bGRVcGRhdGVGaWVsZCA9IGZhbHNlO1xuICAgICAgICBsZXQgaXNQcmV2aW91c0RpcnR5ID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IG91dHB1dCA9IHtcbiAgICAgICAgICAgIG5hbWUsXG4gICAgICAgIH07XG4gICAgICAgIGlmICghaXNCbHVyRXZlbnQgfHwgc2hvdWxkRGlydHkpIHtcbiAgICAgICAgICAgIGlmIChfcHJveHlGb3JtU3RhdGUuaXNEaXJ0eSkge1xuICAgICAgICAgICAgICAgIGlzUHJldmlvdXNEaXJ0eSA9IF9mb3JtU3RhdGUuaXNEaXJ0eTtcbiAgICAgICAgICAgICAgICBfZm9ybVN0YXRlLmlzRGlydHkgPSBvdXRwdXQuaXNEaXJ0eSA9IF9nZXREaXJ0eSgpO1xuICAgICAgICAgICAgICAgIHNob3VsZFVwZGF0ZUZpZWxkID0gaXNQcmV2aW91c0RpcnR5ICE9PSBvdXRwdXQuaXNEaXJ0eTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGlzQ3VycmVudEZpZWxkUHJpc3RpbmUgPSBkZWVwRXF1YWwoZ2V0KF9kZWZhdWx0VmFsdWVzLCBuYW1lKSwgZmllbGRWYWx1ZSk7XG4gICAgICAgICAgICBpc1ByZXZpb3VzRGlydHkgPSBnZXQoX2Zvcm1TdGF0ZS5kaXJ0eUZpZWxkcywgbmFtZSk7XG4gICAgICAgICAgICBpc0N1cnJlbnRGaWVsZFByaXN0aW5lXG4gICAgICAgICAgICAgICAgPyB1bnNldChfZm9ybVN0YXRlLmRpcnR5RmllbGRzLCBuYW1lKVxuICAgICAgICAgICAgICAgIDogc2V0KF9mb3JtU3RhdGUuZGlydHlGaWVsZHMsIG5hbWUsIHRydWUpO1xuICAgICAgICAgICAgb3V0cHV0LmRpcnR5RmllbGRzID0gX2Zvcm1TdGF0ZS5kaXJ0eUZpZWxkcztcbiAgICAgICAgICAgIHNob3VsZFVwZGF0ZUZpZWxkID1cbiAgICAgICAgICAgICAgICBzaG91bGRVcGRhdGVGaWVsZCB8fFxuICAgICAgICAgICAgICAgICAgICAoX3Byb3h5Rm9ybVN0YXRlLmRpcnR5RmllbGRzICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBpc1ByZXZpb3VzRGlydHkgIT09ICFpc0N1cnJlbnRGaWVsZFByaXN0aW5lKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNCbHVyRXZlbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IGlzUHJldmlvdXNGaWVsZFRvdWNoZWQgPSBnZXQoX2Zvcm1TdGF0ZS50b3VjaGVkRmllbGRzLCBuYW1lKTtcbiAgICAgICAgICAgIGlmICghaXNQcmV2aW91c0ZpZWxkVG91Y2hlZCkge1xuICAgICAgICAgICAgICAgIHNldChfZm9ybVN0YXRlLnRvdWNoZWRGaWVsZHMsIG5hbWUsIGlzQmx1ckV2ZW50KTtcbiAgICAgICAgICAgICAgICBvdXRwdXQudG91Y2hlZEZpZWxkcyA9IF9mb3JtU3RhdGUudG91Y2hlZEZpZWxkcztcbiAgICAgICAgICAgICAgICBzaG91bGRVcGRhdGVGaWVsZCA9XG4gICAgICAgICAgICAgICAgICAgIHNob3VsZFVwZGF0ZUZpZWxkIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAoX3Byb3h5Rm9ybVN0YXRlLnRvdWNoZWRGaWVsZHMgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1ByZXZpb3VzRmllbGRUb3VjaGVkICE9PSBpc0JsdXJFdmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc2hvdWxkVXBkYXRlRmllbGQgJiYgc2hvdWxkUmVuZGVyICYmIF9zdWJqZWN0cy5zdGF0ZS5uZXh0KG91dHB1dCk7XG4gICAgICAgIHJldHVybiBzaG91bGRVcGRhdGVGaWVsZCA/IG91dHB1dCA6IHt9O1xuICAgIH07XG4gICAgY29uc3Qgc2hvdWxkUmVuZGVyQnlFcnJvciA9IChuYW1lLCBpc1ZhbGlkLCBlcnJvciwgZmllbGRTdGF0ZSkgPT4ge1xuICAgICAgICBjb25zdCBwcmV2aW91c0ZpZWxkRXJyb3IgPSBnZXQoX2Zvcm1TdGF0ZS5lcnJvcnMsIG5hbWUpO1xuICAgICAgICBjb25zdCBzaG91bGRVcGRhdGVWYWxpZCA9IF9wcm94eUZvcm1TdGF0ZS5pc1ZhbGlkICYmXG4gICAgICAgICAgICBpc0Jvb2xlYW4oaXNWYWxpZCkgJiZcbiAgICAgICAgICAgIF9mb3JtU3RhdGUuaXNWYWxpZCAhPT0gaXNWYWxpZDtcbiAgICAgICAgaWYgKHByb3BzLmRlbGF5RXJyb3IgJiYgZXJyb3IpIHtcbiAgICAgICAgICAgIGRlbGF5RXJyb3JDYWxsYmFjayA9IGRlYm91bmNlKCgpID0+IHVwZGF0ZUVycm9ycyhuYW1lLCBlcnJvcikpO1xuICAgICAgICAgICAgZGVsYXlFcnJvckNhbGxiYWNrKHByb3BzLmRlbGF5RXJyb3IpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAgICAgICAgICAgIGRlbGF5RXJyb3JDYWxsYmFjayA9IG51bGw7XG4gICAgICAgICAgICBlcnJvclxuICAgICAgICAgICAgICAgID8gc2V0KF9mb3JtU3RhdGUuZXJyb3JzLCBuYW1lLCBlcnJvcilcbiAgICAgICAgICAgICAgICA6IHVuc2V0KF9mb3JtU3RhdGUuZXJyb3JzLCBuYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKGVycm9yID8gIWRlZXBFcXVhbChwcmV2aW91c0ZpZWxkRXJyb3IsIGVycm9yKSA6IHByZXZpb3VzRmllbGRFcnJvcikgfHxcbiAgICAgICAgICAgICFpc0VtcHR5T2JqZWN0KGZpZWxkU3RhdGUpIHx8XG4gICAgICAgICAgICBzaG91bGRVcGRhdGVWYWxpZCkge1xuICAgICAgICAgICAgY29uc3QgdXBkYXRlZEZvcm1TdGF0ZSA9IHtcbiAgICAgICAgICAgICAgICAuLi5maWVsZFN0YXRlLFxuICAgICAgICAgICAgICAgIC4uLihzaG91bGRVcGRhdGVWYWxpZCAmJiBpc0Jvb2xlYW4oaXNWYWxpZCkgPyB7IGlzVmFsaWQgfSA6IHt9KSxcbiAgICAgICAgICAgICAgICBlcnJvcnM6IF9mb3JtU3RhdGUuZXJyb3JzLFxuICAgICAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgX2Zvcm1TdGF0ZSA9IHtcbiAgICAgICAgICAgICAgICAuLi5fZm9ybVN0YXRlLFxuICAgICAgICAgICAgICAgIC4uLnVwZGF0ZWRGb3JtU3RhdGUsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgX3N1YmplY3RzLnN0YXRlLm5leHQodXBkYXRlZEZvcm1TdGF0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgX3VwZGF0ZUlzVmFsaWRhdGluZyhmYWxzZSk7XG4gICAgfTtcbiAgICBjb25zdCBfZXhlY3V0ZVNjaGVtYSA9IGFzeW5jIChuYW1lKSA9PiBfb3B0aW9ucy5yZXNvbHZlcihfZm9ybVZhbHVlcywgX29wdGlvbnMuY29udGV4dCwgZ2V0UmVzb2x2ZXJPcHRpb25zKG5hbWUgfHwgX25hbWVzLm1vdW50LCBfZmllbGRzLCBfb3B0aW9ucy5jcml0ZXJpYU1vZGUsIF9vcHRpb25zLnNob3VsZFVzZU5hdGl2ZVZhbGlkYXRpb24pKTtcbiAgICBjb25zdCBleGVjdXRlU2NoZW1hQW5kVXBkYXRlU3RhdGUgPSBhc3luYyAobmFtZXMpID0+IHtcbiAgICAgICAgY29uc3QgeyBlcnJvcnMgfSA9IGF3YWl0IF9leGVjdXRlU2NoZW1hKCk7XG4gICAgICAgIGlmIChuYW1lcykge1xuICAgICAgICAgICAgZm9yIChjb25zdCBuYW1lIG9mIG5hbWVzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZXJyb3IgPSBnZXQoZXJyb3JzLCBuYW1lKTtcbiAgICAgICAgICAgICAgICBlcnJvclxuICAgICAgICAgICAgICAgICAgICA/IHNldChfZm9ybVN0YXRlLmVycm9ycywgbmFtZSwgZXJyb3IpXG4gICAgICAgICAgICAgICAgICAgIDogdW5zZXQoX2Zvcm1TdGF0ZS5lcnJvcnMsIG5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgX2Zvcm1TdGF0ZS5lcnJvcnMgPSBlcnJvcnM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVycm9ycztcbiAgICB9O1xuICAgIGNvbnN0IGV4ZWN1dGVCdWlsdEluVmFsaWRhdGlvbiA9IGFzeW5jIChmaWVsZHMsIHNob3VsZE9ubHlDaGVja1ZhbGlkLCBjb250ZXh0ID0ge1xuICAgICAgICB2YWxpZDogdHJ1ZSxcbiAgICB9KSA9PiB7XG4gICAgICAgIGZvciAoY29uc3QgbmFtZSBpbiBmaWVsZHMpIHtcbiAgICAgICAgICAgIGNvbnN0IGZpZWxkID0gZmllbGRzW25hbWVdO1xuICAgICAgICAgICAgaWYgKGZpZWxkKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBfZiwgLi4uZmllbGRWYWx1ZSB9ID0gZmllbGQ7XG4gICAgICAgICAgICAgICAgaWYgKF9mKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzRmllbGRBcnJheVJvb3QgPSBfbmFtZXMuYXJyYXkuaGFzKF9mLm5hbWUpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBmaWVsZEVycm9yID0gYXdhaXQgdmFsaWRhdGVGaWVsZChmaWVsZCwgX2Zvcm1WYWx1ZXMsIHNob3VsZERpc3BsYXlBbGxBc3NvY2lhdGVkRXJyb3JzLCBfb3B0aW9ucy5zaG91bGRVc2VOYXRpdmVWYWxpZGF0aW9uICYmICFzaG91bGRPbmx5Q2hlY2tWYWxpZCwgaXNGaWVsZEFycmF5Um9vdCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmaWVsZEVycm9yW19mLm5hbWVdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2hvdWxkT25seUNoZWNrVmFsaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAhc2hvdWxkT25seUNoZWNrVmFsaWQgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIChnZXQoZmllbGRFcnJvciwgX2YubmFtZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGlzRmllbGRBcnJheVJvb3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB1cGRhdGVGaWVsZEFycmF5Um9vdEVycm9yKF9mb3JtU3RhdGUuZXJyb3JzLCBmaWVsZEVycm9yLCBfZi5uYW1lKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHNldChfZm9ybVN0YXRlLmVycm9ycywgX2YubmFtZSwgZmllbGRFcnJvcltfZi5uYW1lXSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHVuc2V0KF9mb3JtU3RhdGUuZXJyb3JzLCBfZi5uYW1lKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZpZWxkVmFsdWUgJiZcbiAgICAgICAgICAgICAgICAgICAgKGF3YWl0IGV4ZWN1dGVCdWlsdEluVmFsaWRhdGlvbihmaWVsZFZhbHVlLCBzaG91bGRPbmx5Q2hlY2tWYWxpZCwgY29udGV4dCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb250ZXh0LnZhbGlkO1xuICAgIH07XG4gICAgY29uc3QgX3JlbW92ZVVubW91bnRlZCA9ICgpID0+IHtcbiAgICAgICAgZm9yIChjb25zdCBuYW1lIG9mIF9uYW1lcy51bk1vdW50KSB7XG4gICAgICAgICAgICBjb25zdCBmaWVsZCA9IGdldChfZmllbGRzLCBuYW1lKTtcbiAgICAgICAgICAgIGZpZWxkICYmXG4gICAgICAgICAgICAgICAgKGZpZWxkLl9mLnJlZnNcbiAgICAgICAgICAgICAgICAgICAgPyBmaWVsZC5fZi5yZWZzLmV2ZXJ5KChyZWYpID0+ICFsaXZlKHJlZikpXG4gICAgICAgICAgICAgICAgICAgIDogIWxpdmUoZmllbGQuX2YucmVmKSkgJiZcbiAgICAgICAgICAgICAgICB1bnJlZ2lzdGVyKG5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIF9uYW1lcy51bk1vdW50ID0gbmV3IFNldCgpO1xuICAgIH07XG4gICAgY29uc3QgX2dldERpcnR5ID0gKG5hbWUsIGRhdGEpID0+IChuYW1lICYmIGRhdGEgJiYgc2V0KF9mb3JtVmFsdWVzLCBuYW1lLCBkYXRhKSxcbiAgICAgICAgIWRlZXBFcXVhbChnZXRWYWx1ZXMoKSwgX2RlZmF1bHRWYWx1ZXMpKTtcbiAgICBjb25zdCBfZ2V0V2F0Y2ggPSAobmFtZXMsIGRlZmF1bHRWYWx1ZSwgaXNHbG9iYWwpID0+IGdlbmVyYXRlV2F0Y2hPdXRwdXQobmFtZXMsIF9uYW1lcywge1xuICAgICAgICAuLi4oX3N0YXRlLm1vdW50XG4gICAgICAgICAgICA/IF9mb3JtVmFsdWVzXG4gICAgICAgICAgICA6IGlzVW5kZWZpbmVkKGRlZmF1bHRWYWx1ZSlcbiAgICAgICAgICAgICAgICA/IF9kZWZhdWx0VmFsdWVzXG4gICAgICAgICAgICAgICAgOiBpc1N0cmluZyhuYW1lcylcbiAgICAgICAgICAgICAgICAgICAgPyB7IFtuYW1lc106IGRlZmF1bHRWYWx1ZSB9XG4gICAgICAgICAgICAgICAgICAgIDogZGVmYXVsdFZhbHVlKSxcbiAgICB9LCBpc0dsb2JhbCwgZGVmYXVsdFZhbHVlKTtcbiAgICBjb25zdCBfZ2V0RmllbGRBcnJheSA9IChuYW1lKSA9PiBjb21wYWN0KGdldChfc3RhdGUubW91bnQgPyBfZm9ybVZhbHVlcyA6IF9kZWZhdWx0VmFsdWVzLCBuYW1lLCBwcm9wcy5zaG91bGRVbnJlZ2lzdGVyID8gZ2V0KF9kZWZhdWx0VmFsdWVzLCBuYW1lLCBbXSkgOiBbXSkpO1xuICAgIGNvbnN0IHNldEZpZWxkVmFsdWUgPSAobmFtZSwgdmFsdWUsIG9wdGlvbnMgPSB7fSkgPT4ge1xuICAgICAgICBjb25zdCBmaWVsZCA9IGdldChfZmllbGRzLCBuYW1lKTtcbiAgICAgICAgbGV0IGZpZWxkVmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgaWYgKGZpZWxkKSB7XG4gICAgICAgICAgICBjb25zdCBmaWVsZFJlZmVyZW5jZSA9IGZpZWxkLl9mO1xuICAgICAgICAgICAgaWYgKGZpZWxkUmVmZXJlbmNlKSB7XG4gICAgICAgICAgICAgICAgIWZpZWxkUmVmZXJlbmNlLmRpc2FibGVkICYmXG4gICAgICAgICAgICAgICAgICAgIHNldChfZm9ybVZhbHVlcywgbmFtZSwgZ2V0RmllbGRWYWx1ZUFzKHZhbHVlLCBmaWVsZFJlZmVyZW5jZSkpO1xuICAgICAgICAgICAgICAgIGZpZWxkVmFsdWUgPVxuICAgICAgICAgICAgICAgICAgICBpc0hUTUxFbGVtZW50KGZpZWxkUmVmZXJlbmNlLnJlZikgJiYgaXNOdWxsT3JVbmRlZmluZWQodmFsdWUpXG4gICAgICAgICAgICAgICAgICAgICAgICA/ICcnXG4gICAgICAgICAgICAgICAgICAgICAgICA6IHZhbHVlO1xuICAgICAgICAgICAgICAgIGlmIChpc011bHRpcGxlU2VsZWN0KGZpZWxkUmVmZXJlbmNlLnJlZikpIHtcbiAgICAgICAgICAgICAgICAgICAgWy4uLmZpZWxkUmVmZXJlbmNlLnJlZi5vcHRpb25zXS5mb3JFYWNoKChvcHRpb25SZWYpID0+IChvcHRpb25SZWYuc2VsZWN0ZWQgPSBmaWVsZFZhbHVlLmluY2x1ZGVzKG9wdGlvblJlZi52YWx1ZSkpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZmllbGRSZWZlcmVuY2UucmVmcykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNDaGVja0JveElucHV0KGZpZWxkUmVmZXJlbmNlLnJlZikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkUmVmZXJlbmNlLnJlZnMubGVuZ3RoID4gMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gZmllbGRSZWZlcmVuY2UucmVmcy5mb3JFYWNoKChjaGVja2JveFJlZikgPT4gKCFjaGVja2JveFJlZi5kZWZhdWx0Q2hlY2tlZCB8fCAhY2hlY2tib3hSZWYuZGlzYWJsZWQpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChjaGVja2JveFJlZi5jaGVja2VkID0gQXJyYXkuaXNBcnJheShmaWVsZFZhbHVlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAhIWZpZWxkVmFsdWUuZmluZCgoZGF0YSkgPT4gZGF0YSA9PT0gY2hlY2tib3hSZWYudmFsdWUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGZpZWxkVmFsdWUgPT09IGNoZWNrYm94UmVmLnZhbHVlKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGZpZWxkUmVmZXJlbmNlLnJlZnNbMF0gJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGZpZWxkUmVmZXJlbmNlLnJlZnNbMF0uY2hlY2tlZCA9ICEhZmllbGRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFJlZmVyZW5jZS5yZWZzLmZvckVhY2goKHJhZGlvUmVmKSA9PiAocmFkaW9SZWYuY2hlY2tlZCA9IHJhZGlvUmVmLnZhbHVlID09PSBmaWVsZFZhbHVlKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaXNGaWxlSW5wdXQoZmllbGRSZWZlcmVuY2UucmVmKSkge1xuICAgICAgICAgICAgICAgICAgICBmaWVsZFJlZmVyZW5jZS5yZWYudmFsdWUgPSAnJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGZpZWxkUmVmZXJlbmNlLnJlZi52YWx1ZSA9IGZpZWxkVmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGlmICghZmllbGRSZWZlcmVuY2UucmVmLnR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9zdWJqZWN0cy52YWx1ZXMubmV4dCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZXM6IHsgLi4uX2Zvcm1WYWx1ZXMgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIChvcHRpb25zLnNob3VsZERpcnR5IHx8IG9wdGlvbnMuc2hvdWxkVG91Y2gpICYmXG4gICAgICAgICAgICB1cGRhdGVUb3VjaEFuZERpcnR5KG5hbWUsIGZpZWxkVmFsdWUsIG9wdGlvbnMuc2hvdWxkVG91Y2gsIG9wdGlvbnMuc2hvdWxkRGlydHksIHRydWUpO1xuICAgICAgICBvcHRpb25zLnNob3VsZFZhbGlkYXRlICYmIHRyaWdnZXIobmFtZSk7XG4gICAgfTtcbiAgICBjb25zdCBzZXRWYWx1ZXMgPSAobmFtZSwgdmFsdWUsIG9wdGlvbnMpID0+IHtcbiAgICAgICAgZm9yIChjb25zdCBmaWVsZEtleSBpbiB2YWx1ZSkge1xuICAgICAgICAgICAgY29uc3QgZmllbGRWYWx1ZSA9IHZhbHVlW2ZpZWxkS2V5XTtcbiAgICAgICAgICAgIGNvbnN0IGZpZWxkTmFtZSA9IGAke25hbWV9LiR7ZmllbGRLZXl9YDtcbiAgICAgICAgICAgIGNvbnN0IGZpZWxkID0gZ2V0KF9maWVsZHMsIGZpZWxkTmFtZSk7XG4gICAgICAgICAgICAoX25hbWVzLmFycmF5LmhhcyhuYW1lKSB8fFxuICAgICAgICAgICAgICAgICFpc1ByaW1pdGl2ZShmaWVsZFZhbHVlKSB8fFxuICAgICAgICAgICAgICAgIChmaWVsZCAmJiAhZmllbGQuX2YpKSAmJlxuICAgICAgICAgICAgICAgICFpc0RhdGVPYmplY3QoZmllbGRWYWx1ZSlcbiAgICAgICAgICAgICAgICA/IHNldFZhbHVlcyhmaWVsZE5hbWUsIGZpZWxkVmFsdWUsIG9wdGlvbnMpXG4gICAgICAgICAgICAgICAgOiBzZXRGaWVsZFZhbHVlKGZpZWxkTmFtZSwgZmllbGRWYWx1ZSwgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHNldFZhbHVlID0gKG5hbWUsIHZhbHVlLCBvcHRpb25zID0ge30pID0+IHtcbiAgICAgICAgY29uc3QgZmllbGQgPSBnZXQoX2ZpZWxkcywgbmFtZSk7XG4gICAgICAgIGNvbnN0IGlzRmllbGRBcnJheSA9IF9uYW1lcy5hcnJheS5oYXMobmFtZSk7XG4gICAgICAgIGNvbnN0IGNsb25lVmFsdWUgPSBjbG9uZU9iamVjdCh2YWx1ZSk7XG4gICAgICAgIHNldChfZm9ybVZhbHVlcywgbmFtZSwgY2xvbmVWYWx1ZSk7XG4gICAgICAgIGlmIChpc0ZpZWxkQXJyYXkpIHtcbiAgICAgICAgICAgIF9zdWJqZWN0cy5hcnJheS5uZXh0KHtcbiAgICAgICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgICAgIHZhbHVlczogeyAuLi5fZm9ybVZhbHVlcyB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoKF9wcm94eUZvcm1TdGF0ZS5pc0RpcnR5IHx8IF9wcm94eUZvcm1TdGF0ZS5kaXJ0eUZpZWxkcykgJiZcbiAgICAgICAgICAgICAgICBvcHRpb25zLnNob3VsZERpcnR5KSB7XG4gICAgICAgICAgICAgICAgX3N1YmplY3RzLnN0YXRlLm5leHQoe1xuICAgICAgICAgICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgICAgICAgICBkaXJ0eUZpZWxkczogZ2V0RGlydHlGaWVsZHMoX2RlZmF1bHRWYWx1ZXMsIF9mb3JtVmFsdWVzKSxcbiAgICAgICAgICAgICAgICAgICAgaXNEaXJ0eTogX2dldERpcnR5KG5hbWUsIGNsb25lVmFsdWUpLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZmllbGQgJiYgIWZpZWxkLl9mICYmICFpc051bGxPclVuZGVmaW5lZChjbG9uZVZhbHVlKVxuICAgICAgICAgICAgICAgID8gc2V0VmFsdWVzKG5hbWUsIGNsb25lVmFsdWUsIG9wdGlvbnMpXG4gICAgICAgICAgICAgICAgOiBzZXRGaWVsZFZhbHVlKG5hbWUsIGNsb25lVmFsdWUsIG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIGlzV2F0Y2hlZChuYW1lLCBfbmFtZXMpICYmIF9zdWJqZWN0cy5zdGF0ZS5uZXh0KHsgLi4uX2Zvcm1TdGF0ZSB9KTtcbiAgICAgICAgX3N1YmplY3RzLnZhbHVlcy5uZXh0KHtcbiAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICB2YWx1ZXM6IHsgLi4uX2Zvcm1WYWx1ZXMgfSxcbiAgICAgICAgfSk7XG4gICAgICAgICFfc3RhdGUubW91bnQgJiYgZmx1c2hSb290UmVuZGVyKCk7XG4gICAgfTtcbiAgICBjb25zdCBvbkNoYW5nZSA9IGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQ7XG4gICAgICAgIGxldCBuYW1lID0gdGFyZ2V0Lm5hbWU7XG4gICAgICAgIGxldCBpc0ZpZWxkVmFsdWVVcGRhdGVkID0gdHJ1ZTtcbiAgICAgICAgY29uc3QgZmllbGQgPSBnZXQoX2ZpZWxkcywgbmFtZSk7XG4gICAgICAgIGNvbnN0IGdldEN1cnJlbnRGaWVsZFZhbHVlID0gKCkgPT4gdGFyZ2V0LnR5cGUgPyBnZXRGaWVsZFZhbHVlKGZpZWxkLl9mKSA6IGdldEV2ZW50VmFsdWUoZXZlbnQpO1xuICAgICAgICBpZiAoZmllbGQpIHtcbiAgICAgICAgICAgIGxldCBlcnJvcjtcbiAgICAgICAgICAgIGxldCBpc1ZhbGlkO1xuICAgICAgICAgICAgY29uc3QgZmllbGRWYWx1ZSA9IGdldEN1cnJlbnRGaWVsZFZhbHVlKCk7XG4gICAgICAgICAgICBjb25zdCBpc0JsdXJFdmVudCA9IGV2ZW50LnR5cGUgPT09IEVWRU5UUy5CTFVSIHx8IGV2ZW50LnR5cGUgPT09IEVWRU5UUy5GT0NVU19PVVQ7XG4gICAgICAgICAgICBjb25zdCBzaG91bGRTa2lwVmFsaWRhdGlvbiA9ICghaGFzVmFsaWRhdGlvbihmaWVsZC5fZikgJiZcbiAgICAgICAgICAgICAgICAhX29wdGlvbnMucmVzb2x2ZXIgJiZcbiAgICAgICAgICAgICAgICAhZ2V0KF9mb3JtU3RhdGUuZXJyb3JzLCBuYW1lKSAmJlxuICAgICAgICAgICAgICAgICFmaWVsZC5fZi5kZXBzKSB8fFxuICAgICAgICAgICAgICAgIHNraXBWYWxpZGF0aW9uKGlzQmx1ckV2ZW50LCBnZXQoX2Zvcm1TdGF0ZS50b3VjaGVkRmllbGRzLCBuYW1lKSwgX2Zvcm1TdGF0ZS5pc1N1Ym1pdHRlZCwgdmFsaWRhdGlvbk1vZGVBZnRlclN1Ym1pdCwgdmFsaWRhdGlvbk1vZGVCZWZvcmVTdWJtaXQpO1xuICAgICAgICAgICAgY29uc3Qgd2F0Y2hlZCA9IGlzV2F0Y2hlZChuYW1lLCBfbmFtZXMsIGlzQmx1ckV2ZW50KTtcbiAgICAgICAgICAgIHNldChfZm9ybVZhbHVlcywgbmFtZSwgZmllbGRWYWx1ZSk7XG4gICAgICAgICAgICBpZiAoaXNCbHVyRXZlbnQpIHtcbiAgICAgICAgICAgICAgICBmaWVsZC5fZi5vbkJsdXIgJiYgZmllbGQuX2Yub25CbHVyKGV2ZW50KTtcbiAgICAgICAgICAgICAgICBkZWxheUVycm9yQ2FsbGJhY2sgJiYgZGVsYXlFcnJvckNhbGxiYWNrKDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZmllbGQuX2Yub25DaGFuZ2UpIHtcbiAgICAgICAgICAgICAgICBmaWVsZC5fZi5vbkNoYW5nZShldmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBmaWVsZFN0YXRlID0gdXBkYXRlVG91Y2hBbmREaXJ0eShuYW1lLCBmaWVsZFZhbHVlLCBpc0JsdXJFdmVudCwgZmFsc2UpO1xuICAgICAgICAgICAgY29uc3Qgc2hvdWxkUmVuZGVyID0gIWlzRW1wdHlPYmplY3QoZmllbGRTdGF0ZSkgfHwgd2F0Y2hlZDtcbiAgICAgICAgICAgICFpc0JsdXJFdmVudCAmJlxuICAgICAgICAgICAgICAgIF9zdWJqZWN0cy52YWx1ZXMubmV4dCh7XG4gICAgICAgICAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IGV2ZW50LnR5cGUsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlczogeyAuLi5fZm9ybVZhbHVlcyB9LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKHNob3VsZFNraXBWYWxpZGF0aW9uKSB7XG4gICAgICAgICAgICAgICAgX3Byb3h5Rm9ybVN0YXRlLmlzVmFsaWQgJiYgX3VwZGF0ZVZhbGlkKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChzaG91bGRSZW5kZXIgJiZcbiAgICAgICAgICAgICAgICAgICAgX3N1YmplY3RzLnN0YXRlLm5leHQoeyBuYW1lLCAuLi4od2F0Y2hlZCA/IHt9IDogZmllbGRTdGF0ZSkgfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgIWlzQmx1ckV2ZW50ICYmIHdhdGNoZWQgJiYgX3N1YmplY3RzLnN0YXRlLm5leHQoeyAuLi5fZm9ybVN0YXRlIH0pO1xuICAgICAgICAgICAgX3VwZGF0ZUlzVmFsaWRhdGluZyh0cnVlKTtcbiAgICAgICAgICAgIGlmIChfb3B0aW9ucy5yZXNvbHZlcikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgZXJyb3JzIH0gPSBhd2FpdCBfZXhlY3V0ZVNjaGVtYShbbmFtZV0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHByZXZpb3VzRXJyb3JMb29rdXBSZXN1bHQgPSBzY2hlbWFFcnJvckxvb2t1cChfZm9ybVN0YXRlLmVycm9ycywgX2ZpZWxkcywgbmFtZSk7XG4gICAgICAgICAgICAgICAgY29uc3QgZXJyb3JMb29rdXBSZXN1bHQgPSBzY2hlbWFFcnJvckxvb2t1cChlcnJvcnMsIF9maWVsZHMsIHByZXZpb3VzRXJyb3JMb29rdXBSZXN1bHQubmFtZSB8fCBuYW1lKTtcbiAgICAgICAgICAgICAgICBlcnJvciA9IGVycm9yTG9va3VwUmVzdWx0LmVycm9yO1xuICAgICAgICAgICAgICAgIG5hbWUgPSBlcnJvckxvb2t1cFJlc3VsdC5uYW1lO1xuICAgICAgICAgICAgICAgIGlzVmFsaWQgPSBpc0VtcHR5T2JqZWN0KGVycm9ycyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBlcnJvciA9IChhd2FpdCB2YWxpZGF0ZUZpZWxkKGZpZWxkLCBfZm9ybVZhbHVlcywgc2hvdWxkRGlzcGxheUFsbEFzc29jaWF0ZWRFcnJvcnMsIF9vcHRpb25zLnNob3VsZFVzZU5hdGl2ZVZhbGlkYXRpb24pKVtuYW1lXTtcbiAgICAgICAgICAgICAgICBpc0ZpZWxkVmFsdWVVcGRhdGVkID1cbiAgICAgICAgICAgICAgICAgICAgaXNOYU4oZmllbGRWYWx1ZSkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkVmFsdWUgPT09IGdldChfZm9ybVZhbHVlcywgbmFtZSwgZmllbGRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgaWYgKGlzRmllbGRWYWx1ZVVwZGF0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpc1ZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoX3Byb3h5Rm9ybVN0YXRlLmlzVmFsaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzVmFsaWQgPSBhd2FpdCBleGVjdXRlQnVpbHRJblZhbGlkYXRpb24oX2ZpZWxkcywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXNGaWVsZFZhbHVlVXBkYXRlZCkge1xuICAgICAgICAgICAgICAgIGZpZWxkLl9mLmRlcHMgJiZcbiAgICAgICAgICAgICAgICAgICAgdHJpZ2dlcihmaWVsZC5fZi5kZXBzKTtcbiAgICAgICAgICAgICAgICBzaG91bGRSZW5kZXJCeUVycm9yKG5hbWUsIGlzVmFsaWQsIGVycm9yLCBmaWVsZFN0YXRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgdHJpZ2dlciA9IGFzeW5jIChuYW1lLCBvcHRpb25zID0ge30pID0+IHtcbiAgICAgICAgbGV0IGlzVmFsaWQ7XG4gICAgICAgIGxldCB2YWxpZGF0aW9uUmVzdWx0O1xuICAgICAgICBjb25zdCBmaWVsZE5hbWVzID0gY29udmVydFRvQXJyYXlQYXlsb2FkKG5hbWUpO1xuICAgICAgICBfdXBkYXRlSXNWYWxpZGF0aW5nKHRydWUpO1xuICAgICAgICBpZiAoX29wdGlvbnMucmVzb2x2ZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9ycyA9IGF3YWl0IGV4ZWN1dGVTY2hlbWFBbmRVcGRhdGVTdGF0ZShpc1VuZGVmaW5lZChuYW1lKSA/IG5hbWUgOiBmaWVsZE5hbWVzKTtcbiAgICAgICAgICAgIGlzVmFsaWQgPSBpc0VtcHR5T2JqZWN0KGVycm9ycyk7XG4gICAgICAgICAgICB2YWxpZGF0aW9uUmVzdWx0ID0gbmFtZVxuICAgICAgICAgICAgICAgID8gIWZpZWxkTmFtZXMuc29tZSgobmFtZSkgPT4gZ2V0KGVycm9ycywgbmFtZSkpXG4gICAgICAgICAgICAgICAgOiBpc1ZhbGlkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG5hbWUpIHtcbiAgICAgICAgICAgIHZhbGlkYXRpb25SZXN1bHQgPSAoYXdhaXQgUHJvbWlzZS5hbGwoZmllbGROYW1lcy5tYXAoYXN5bmMgKGZpZWxkTmFtZSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZpZWxkID0gZ2V0KF9maWVsZHMsIGZpZWxkTmFtZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IGV4ZWN1dGVCdWlsdEluVmFsaWRhdGlvbihmaWVsZCAmJiBmaWVsZC5fZiA/IHsgW2ZpZWxkTmFtZV06IGZpZWxkIH0gOiBmaWVsZCk7XG4gICAgICAgICAgICB9KSkpLmV2ZXJ5KEJvb2xlYW4pO1xuICAgICAgICAgICAgISghdmFsaWRhdGlvblJlc3VsdCAmJiAhX2Zvcm1TdGF0ZS5pc1ZhbGlkKSAmJiBfdXBkYXRlVmFsaWQoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhbGlkYXRpb25SZXN1bHQgPSBpc1ZhbGlkID0gYXdhaXQgZXhlY3V0ZUJ1aWx0SW5WYWxpZGF0aW9uKF9maWVsZHMpO1xuICAgICAgICB9XG4gICAgICAgIF9zdWJqZWN0cy5zdGF0ZS5uZXh0KHtcbiAgICAgICAgICAgIC4uLighaXNTdHJpbmcobmFtZSkgfHxcbiAgICAgICAgICAgICAgICAoX3Byb3h5Rm9ybVN0YXRlLmlzVmFsaWQgJiYgaXNWYWxpZCAhPT0gX2Zvcm1TdGF0ZS5pc1ZhbGlkKVxuICAgICAgICAgICAgICAgID8ge31cbiAgICAgICAgICAgICAgICA6IHsgbmFtZSB9KSxcbiAgICAgICAgICAgIC4uLihfb3B0aW9ucy5yZXNvbHZlciB8fCAhbmFtZSA/IHsgaXNWYWxpZCB9IDoge30pLFxuICAgICAgICAgICAgZXJyb3JzOiBfZm9ybVN0YXRlLmVycm9ycyxcbiAgICAgICAgICAgIGlzVmFsaWRhdGluZzogZmFsc2UsXG4gICAgICAgIH0pO1xuICAgICAgICBvcHRpb25zLnNob3VsZEZvY3VzICYmXG4gICAgICAgICAgICAhdmFsaWRhdGlvblJlc3VsdCAmJlxuICAgICAgICAgICAgZm9jdXNGaWVsZEJ5KF9maWVsZHMsIChrZXkpID0+IGtleSAmJiBnZXQoX2Zvcm1TdGF0ZS5lcnJvcnMsIGtleSksIG5hbWUgPyBmaWVsZE5hbWVzIDogX25hbWVzLm1vdW50KTtcbiAgICAgICAgcmV0dXJuIHZhbGlkYXRpb25SZXN1bHQ7XG4gICAgfTtcbiAgICBjb25zdCBnZXRWYWx1ZXMgPSAoZmllbGROYW1lcykgPT4ge1xuICAgICAgICBjb25zdCB2YWx1ZXMgPSB7XG4gICAgICAgICAgICAuLi5fZGVmYXVsdFZhbHVlcyxcbiAgICAgICAgICAgIC4uLihfc3RhdGUubW91bnQgPyBfZm9ybVZhbHVlcyA6IHt9KSxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGlzVW5kZWZpbmVkKGZpZWxkTmFtZXMpXG4gICAgICAgICAgICA/IHZhbHVlc1xuICAgICAgICAgICAgOiBpc1N0cmluZyhmaWVsZE5hbWVzKVxuICAgICAgICAgICAgICAgID8gZ2V0KHZhbHVlcywgZmllbGROYW1lcylcbiAgICAgICAgICAgICAgICA6IGZpZWxkTmFtZXMubWFwKChuYW1lKSA9PiBnZXQodmFsdWVzLCBuYW1lKSk7XG4gICAgfTtcbiAgICBjb25zdCBnZXRGaWVsZFN0YXRlID0gKG5hbWUsIGZvcm1TdGF0ZSkgPT4gKHtcbiAgICAgICAgaW52YWxpZDogISFnZXQoKGZvcm1TdGF0ZSB8fCBfZm9ybVN0YXRlKS5lcnJvcnMsIG5hbWUpLFxuICAgICAgICBpc0RpcnR5OiAhIWdldCgoZm9ybVN0YXRlIHx8IF9mb3JtU3RhdGUpLmRpcnR5RmllbGRzLCBuYW1lKSxcbiAgICAgICAgaXNUb3VjaGVkOiAhIWdldCgoZm9ybVN0YXRlIHx8IF9mb3JtU3RhdGUpLnRvdWNoZWRGaWVsZHMsIG5hbWUpLFxuICAgICAgICBlcnJvcjogZ2V0KChmb3JtU3RhdGUgfHwgX2Zvcm1TdGF0ZSkuZXJyb3JzLCBuYW1lKSxcbiAgICB9KTtcbiAgICBjb25zdCBjbGVhckVycm9ycyA9IChuYW1lKSA9PiB7XG4gICAgICAgIG5hbWUgJiZcbiAgICAgICAgICAgIGNvbnZlcnRUb0FycmF5UGF5bG9hZChuYW1lKS5mb3JFYWNoKChpbnB1dE5hbWUpID0+IHVuc2V0KF9mb3JtU3RhdGUuZXJyb3JzLCBpbnB1dE5hbWUpKTtcbiAgICAgICAgX3N1YmplY3RzLnN0YXRlLm5leHQoe1xuICAgICAgICAgICAgZXJyb3JzOiBuYW1lID8gX2Zvcm1TdGF0ZS5lcnJvcnMgOiB7fSxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBjb25zdCBzZXRFcnJvciA9IChuYW1lLCBlcnJvciwgb3B0aW9ucykgPT4ge1xuICAgICAgICBjb25zdCByZWYgPSAoZ2V0KF9maWVsZHMsIG5hbWUsIHsgX2Y6IHt9IH0pLl9mIHx8IHt9KS5yZWY7XG4gICAgICAgIHNldChfZm9ybVN0YXRlLmVycm9ycywgbmFtZSwge1xuICAgICAgICAgICAgLi4uZXJyb3IsXG4gICAgICAgICAgICByZWYsXG4gICAgICAgIH0pO1xuICAgICAgICBfc3ViamVjdHMuc3RhdGUubmV4dCh7XG4gICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgZXJyb3JzOiBfZm9ybVN0YXRlLmVycm9ycyxcbiAgICAgICAgICAgIGlzVmFsaWQ6IGZhbHNlLFxuICAgICAgICB9KTtcbiAgICAgICAgb3B0aW9ucyAmJiBvcHRpb25zLnNob3VsZEZvY3VzICYmIHJlZiAmJiByZWYuZm9jdXMgJiYgcmVmLmZvY3VzKCk7XG4gICAgfTtcbiAgICBjb25zdCB3YXRjaCA9IChuYW1lLCBkZWZhdWx0VmFsdWUpID0+IGlzRnVuY3Rpb24obmFtZSlcbiAgICAgICAgPyBfc3ViamVjdHMudmFsdWVzLnN1YnNjcmliZSh7XG4gICAgICAgICAgICBuZXh0OiAocGF5bG9hZCkgPT4gbmFtZShfZ2V0V2F0Y2godW5kZWZpbmVkLCBkZWZhdWx0VmFsdWUpLCBwYXlsb2FkKSxcbiAgICAgICAgfSlcbiAgICAgICAgOiBfZ2V0V2F0Y2gobmFtZSwgZGVmYXVsdFZhbHVlLCB0cnVlKTtcbiAgICBjb25zdCB1bnJlZ2lzdGVyID0gKG5hbWUsIG9wdGlvbnMgPSB7fSkgPT4ge1xuICAgICAgICBmb3IgKGNvbnN0IGZpZWxkTmFtZSBvZiBuYW1lID8gY29udmVydFRvQXJyYXlQYXlsb2FkKG5hbWUpIDogX25hbWVzLm1vdW50KSB7XG4gICAgICAgICAgICBfbmFtZXMubW91bnQuZGVsZXRlKGZpZWxkTmFtZSk7XG4gICAgICAgICAgICBfbmFtZXMuYXJyYXkuZGVsZXRlKGZpZWxkTmFtZSk7XG4gICAgICAgICAgICBpZiAoIW9wdGlvbnMua2VlcFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdW5zZXQoX2ZpZWxkcywgZmllbGROYW1lKTtcbiAgICAgICAgICAgICAgICB1bnNldChfZm9ybVZhbHVlcywgZmllbGROYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICFvcHRpb25zLmtlZXBFcnJvciAmJiB1bnNldChfZm9ybVN0YXRlLmVycm9ycywgZmllbGROYW1lKTtcbiAgICAgICAgICAgICFvcHRpb25zLmtlZXBEaXJ0eSAmJiB1bnNldChfZm9ybVN0YXRlLmRpcnR5RmllbGRzLCBmaWVsZE5hbWUpO1xuICAgICAgICAgICAgIW9wdGlvbnMua2VlcFRvdWNoZWQgJiYgdW5zZXQoX2Zvcm1TdGF0ZS50b3VjaGVkRmllbGRzLCBmaWVsZE5hbWUpO1xuICAgICAgICAgICAgIV9vcHRpb25zLnNob3VsZFVucmVnaXN0ZXIgJiZcbiAgICAgICAgICAgICAgICAhb3B0aW9ucy5rZWVwRGVmYXVsdFZhbHVlICYmXG4gICAgICAgICAgICAgICAgdW5zZXQoX2RlZmF1bHRWYWx1ZXMsIGZpZWxkTmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgX3N1YmplY3RzLnZhbHVlcy5uZXh0KHtcbiAgICAgICAgICAgIHZhbHVlczogeyAuLi5fZm9ybVZhbHVlcyB9LFxuICAgICAgICB9KTtcbiAgICAgICAgX3N1YmplY3RzLnN0YXRlLm5leHQoe1xuICAgICAgICAgICAgLi4uX2Zvcm1TdGF0ZSxcbiAgICAgICAgICAgIC4uLighb3B0aW9ucy5rZWVwRGlydHkgPyB7fSA6IHsgaXNEaXJ0eTogX2dldERpcnR5KCkgfSksXG4gICAgICAgIH0pO1xuICAgICAgICAhb3B0aW9ucy5rZWVwSXNWYWxpZCAmJiBfdXBkYXRlVmFsaWQoKTtcbiAgICB9O1xuICAgIGNvbnN0IHJlZ2lzdGVyID0gKG5hbWUsIG9wdGlvbnMgPSB7fSkgPT4ge1xuICAgICAgICBsZXQgZmllbGQgPSBnZXQoX2ZpZWxkcywgbmFtZSk7XG4gICAgICAgIGNvbnN0IGRpc2FibGVkSXNEZWZpbmVkID0gaXNCb29sZWFuKG9wdGlvbnMuZGlzYWJsZWQpO1xuICAgICAgICBzZXQoX2ZpZWxkcywgbmFtZSwge1xuICAgICAgICAgICAgLi4uKGZpZWxkIHx8IHt9KSxcbiAgICAgICAgICAgIF9mOiB7XG4gICAgICAgICAgICAgICAgLi4uKGZpZWxkICYmIGZpZWxkLl9mID8gZmllbGQuX2YgOiB7IHJlZjogeyBuYW1lIH0gfSksXG4gICAgICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgICAgICBtb3VudDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIF9uYW1lcy5tb3VudC5hZGQobmFtZSk7XG4gICAgICAgIGZpZWxkXG4gICAgICAgICAgICA/IGRpc2FibGVkSXNEZWZpbmVkICYmXG4gICAgICAgICAgICAgICAgc2V0KF9mb3JtVmFsdWVzLCBuYW1lLCBvcHRpb25zLmRpc2FibGVkXG4gICAgICAgICAgICAgICAgICAgID8gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgIDogZ2V0KF9mb3JtVmFsdWVzLCBuYW1lLCBnZXRGaWVsZFZhbHVlKGZpZWxkLl9mKSkpXG4gICAgICAgICAgICA6IHVwZGF0ZVZhbGlkQW5kVmFsdWUobmFtZSwgdHJ1ZSwgb3B0aW9ucy52YWx1ZSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi4oZGlzYWJsZWRJc0RlZmluZWQgPyB7IGRpc2FibGVkOiBvcHRpb25zLmRpc2FibGVkIH0gOiB7fSksXG4gICAgICAgICAgICAuLi4oX29wdGlvbnMuc2hvdWxkVXNlTmF0aXZlVmFsaWRhdGlvblxuICAgICAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogISFvcHRpb25zLnJlcXVpcmVkLFxuICAgICAgICAgICAgICAgICAgICBtaW46IGdldFJ1bGVWYWx1ZShvcHRpb25zLm1pbiksXG4gICAgICAgICAgICAgICAgICAgIG1heDogZ2V0UnVsZVZhbHVlKG9wdGlvbnMubWF4KSxcbiAgICAgICAgICAgICAgICAgICAgbWluTGVuZ3RoOiBnZXRSdWxlVmFsdWUob3B0aW9ucy5taW5MZW5ndGgpLFxuICAgICAgICAgICAgICAgICAgICBtYXhMZW5ndGg6IGdldFJ1bGVWYWx1ZShvcHRpb25zLm1heExlbmd0aCksXG4gICAgICAgICAgICAgICAgICAgIHBhdHRlcm46IGdldFJ1bGVWYWx1ZShvcHRpb25zLnBhdHRlcm4pLFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICA6IHt9KSxcbiAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICBvbkNoYW5nZSxcbiAgICAgICAgICAgIG9uQmx1cjogb25DaGFuZ2UsXG4gICAgICAgICAgICByZWY6IChyZWYpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVmKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlZ2lzdGVyKG5hbWUsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICBmaWVsZCA9IGdldChfZmllbGRzLCBuYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZmllbGRSZWYgPSBpc1VuZGVmaW5lZChyZWYudmFsdWUpXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHJlZi5xdWVyeVNlbGVjdG9yQWxsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyByZWYucXVlcnlTZWxlY3RvckFsbCgnaW5wdXQsc2VsZWN0LHRleHRhcmVhJylbMF0gfHwgcmVmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiByZWZcbiAgICAgICAgICAgICAgICAgICAgICAgIDogcmVmO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByYWRpb09yQ2hlY2tib3ggPSBpc1JhZGlvT3JDaGVja2JveChmaWVsZFJlZik7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlZnMgPSBmaWVsZC5fZi5yZWZzIHx8IFtdO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmFkaW9PckNoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICA/IHJlZnMuZmluZCgob3B0aW9uKSA9PiBvcHRpb24gPT09IGZpZWxkUmVmKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBmaWVsZFJlZiA9PT0gZmllbGQuX2YucmVmKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgc2V0KF9maWVsZHMsIG5hbWUsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9mOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uZmllbGQuX2YsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uKHJhZGlvT3JDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZnM6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5yZWZzLmZpbHRlcihsaXZlKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFJlZixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi4oQXJyYXkuaXNBcnJheShnZXQoX2RlZmF1bHRWYWx1ZXMsIG5hbWUpKSA/IFt7fV0gOiBbXSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmOiB7IHR5cGU6IGZpZWxkUmVmLnR5cGUsIG5hbWUgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHsgcmVmOiBmaWVsZFJlZiB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB1cGRhdGVWYWxpZEFuZFZhbHVlKG5hbWUsIGZhbHNlLCB1bmRlZmluZWQsIGZpZWxkUmVmKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGZpZWxkID0gZ2V0KF9maWVsZHMsIG5hbWUsIHt9KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpZWxkLl9mKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZC5fZi5tb3VudCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIChfb3B0aW9ucy5zaG91bGRVbnJlZ2lzdGVyIHx8IG9wdGlvbnMuc2hvdWxkVW5yZWdpc3RlcikgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICEoaXNOYW1lSW5GaWVsZEFycmF5KF9uYW1lcy5hcnJheSwgbmFtZSkgJiYgX3N0YXRlLmFjdGlvbikgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIF9uYW1lcy51bk1vdW50LmFkZChuYW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH07XG4gICAgY29uc3QgX2ZvY3VzRXJyb3IgPSAoKSA9PiBfb3B0aW9ucy5zaG91bGRGb2N1c0Vycm9yICYmXG4gICAgICAgIGZvY3VzRmllbGRCeShfZmllbGRzLCAoa2V5KSA9PiBrZXkgJiYgZ2V0KF9mb3JtU3RhdGUuZXJyb3JzLCBrZXkpLCBfbmFtZXMubW91bnQpO1xuICAgIGNvbnN0IGhhbmRsZVN1Ym1pdCA9IChvblZhbGlkLCBvbkludmFsaWQpID0+IGFzeW5jIChlKSA9PiB7XG4gICAgICAgIGlmIChlKSB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0ICYmIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIGUucGVyc2lzdCAmJiBlLnBlcnNpc3QoKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgZmllbGRWYWx1ZXMgPSBjbG9uZU9iamVjdChfZm9ybVZhbHVlcyk7XG4gICAgICAgIF9zdWJqZWN0cy5zdGF0ZS5uZXh0KHtcbiAgICAgICAgICAgIGlzU3VibWl0dGluZzogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChfb3B0aW9ucy5yZXNvbHZlcikge1xuICAgICAgICAgICAgY29uc3QgeyBlcnJvcnMsIHZhbHVlcyB9ID0gYXdhaXQgX2V4ZWN1dGVTY2hlbWEoKTtcbiAgICAgICAgICAgIF9mb3JtU3RhdGUuZXJyb3JzID0gZXJyb3JzO1xuICAgICAgICAgICAgZmllbGRWYWx1ZXMgPSB2YWx1ZXM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBhd2FpdCBleGVjdXRlQnVpbHRJblZhbGlkYXRpb24oX2ZpZWxkcyk7XG4gICAgICAgIH1cbiAgICAgICAgdW5zZXQoX2Zvcm1TdGF0ZS5lcnJvcnMsICdyb290Jyk7XG4gICAgICAgIGlmIChpc0VtcHR5T2JqZWN0KF9mb3JtU3RhdGUuZXJyb3JzKSkge1xuICAgICAgICAgICAgX3N1YmplY3RzLnN0YXRlLm5leHQoe1xuICAgICAgICAgICAgICAgIGVycm9yczoge30sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGF3YWl0IG9uVmFsaWQoZmllbGRWYWx1ZXMsIGUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKG9uSW52YWxpZCkge1xuICAgICAgICAgICAgICAgIGF3YWl0IG9uSW52YWxpZCh7IC4uLl9mb3JtU3RhdGUuZXJyb3JzIH0sIGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX2ZvY3VzRXJyb3IoKTtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoX2ZvY3VzRXJyb3IpO1xuICAgICAgICB9XG4gICAgICAgIF9zdWJqZWN0cy5zdGF0ZS5uZXh0KHtcbiAgICAgICAgICAgIGlzU3VibWl0dGVkOiB0cnVlLFxuICAgICAgICAgICAgaXNTdWJtaXR0aW5nOiBmYWxzZSxcbiAgICAgICAgICAgIGlzU3VibWl0U3VjY2Vzc2Z1bDogaXNFbXB0eU9iamVjdChfZm9ybVN0YXRlLmVycm9ycyksXG4gICAgICAgICAgICBzdWJtaXRDb3VudDogX2Zvcm1TdGF0ZS5zdWJtaXRDb3VudCArIDEsXG4gICAgICAgICAgICBlcnJvcnM6IF9mb3JtU3RhdGUuZXJyb3JzLFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIGNvbnN0IHJlc2V0RmllbGQgPSAobmFtZSwgb3B0aW9ucyA9IHt9KSA9PiB7XG4gICAgICAgIGlmIChnZXQoX2ZpZWxkcywgbmFtZSkpIHtcbiAgICAgICAgICAgIGlmIChpc1VuZGVmaW5lZChvcHRpb25zLmRlZmF1bHRWYWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBzZXRWYWx1ZShuYW1lLCBnZXQoX2RlZmF1bHRWYWx1ZXMsIG5hbWUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHNldFZhbHVlKG5hbWUsIG9wdGlvbnMuZGVmYXVsdFZhbHVlKTtcbiAgICAgICAgICAgICAgICBzZXQoX2RlZmF1bHRWYWx1ZXMsIG5hbWUsIG9wdGlvbnMuZGVmYXVsdFZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghb3B0aW9ucy5rZWVwVG91Y2hlZCkge1xuICAgICAgICAgICAgICAgIHVuc2V0KF9mb3JtU3RhdGUudG91Y2hlZEZpZWxkcywgbmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIW9wdGlvbnMua2VlcERpcnR5KSB7XG4gICAgICAgICAgICAgICAgdW5zZXQoX2Zvcm1TdGF0ZS5kaXJ0eUZpZWxkcywgbmFtZSk7XG4gICAgICAgICAgICAgICAgX2Zvcm1TdGF0ZS5pc0RpcnR5ID0gb3B0aW9ucy5kZWZhdWx0VmFsdWVcbiAgICAgICAgICAgICAgICAgICAgPyBfZ2V0RGlydHkobmFtZSwgZ2V0KF9kZWZhdWx0VmFsdWVzLCBuYW1lKSlcbiAgICAgICAgICAgICAgICAgICAgOiBfZ2V0RGlydHkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghb3B0aW9ucy5rZWVwRXJyb3IpIHtcbiAgICAgICAgICAgICAgICB1bnNldChfZm9ybVN0YXRlLmVycm9ycywgbmFtZSk7XG4gICAgICAgICAgICAgICAgX3Byb3h5Rm9ybVN0YXRlLmlzVmFsaWQgJiYgX3VwZGF0ZVZhbGlkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfc3ViamVjdHMuc3RhdGUubmV4dCh7IC4uLl9mb3JtU3RhdGUgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IF9yZXNldCA9IChmb3JtVmFsdWVzLCBrZWVwU3RhdGVPcHRpb25zID0ge30pID0+IHtcbiAgICAgICAgY29uc3QgdXBkYXRlZFZhbHVlcyA9IGZvcm1WYWx1ZXMgfHwgX2RlZmF1bHRWYWx1ZXM7XG4gICAgICAgIGNvbnN0IGNsb25lVXBkYXRlZFZhbHVlcyA9IGNsb25lT2JqZWN0KHVwZGF0ZWRWYWx1ZXMpO1xuICAgICAgICBjb25zdCB2YWx1ZXMgPSBmb3JtVmFsdWVzICYmICFpc0VtcHR5T2JqZWN0KGZvcm1WYWx1ZXMpXG4gICAgICAgICAgICA/IGNsb25lVXBkYXRlZFZhbHVlc1xuICAgICAgICAgICAgOiBfZGVmYXVsdFZhbHVlcztcbiAgICAgICAgaWYgKCFrZWVwU3RhdGVPcHRpb25zLmtlZXBEZWZhdWx0VmFsdWVzKSB7XG4gICAgICAgICAgICBfZGVmYXVsdFZhbHVlcyA9IHVwZGF0ZWRWYWx1ZXM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFrZWVwU3RhdGVPcHRpb25zLmtlZXBWYWx1ZXMpIHtcbiAgICAgICAgICAgIGlmIChrZWVwU3RhdGVPcHRpb25zLmtlZXBEaXJ0eVZhbHVlcyB8fCBzaG91bGRDYXB0dXJlRGlydHlGaWVsZHMpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGZpZWxkTmFtZSBvZiBfbmFtZXMubW91bnQpIHtcbiAgICAgICAgICAgICAgICAgICAgZ2V0KF9mb3JtU3RhdGUuZGlydHlGaWVsZHMsIGZpZWxkTmFtZSlcbiAgICAgICAgICAgICAgICAgICAgICAgID8gc2V0KHZhbHVlcywgZmllbGROYW1lLCBnZXQoX2Zvcm1WYWx1ZXMsIGZpZWxkTmFtZSkpXG4gICAgICAgICAgICAgICAgICAgICAgICA6IHNldFZhbHVlKGZpZWxkTmFtZSwgZ2V0KHZhbHVlcywgZmllbGROYW1lKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzV2ViICYmIGlzVW5kZWZpbmVkKGZvcm1WYWx1ZXMpKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgbmFtZSBvZiBfbmFtZXMubW91bnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpZWxkID0gZ2V0KF9maWVsZHMsIG5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZpZWxkICYmIGZpZWxkLl9mKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZmllbGRSZWZlcmVuY2UgPSBBcnJheS5pc0FycmF5KGZpZWxkLl9mLnJlZnMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gZmllbGQuX2YucmVmc1swXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGZpZWxkLl9mLnJlZjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNIVE1MRWxlbWVudChmaWVsZFJlZmVyZW5jZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZm9ybSA9IGZpZWxkUmVmZXJlbmNlLmNsb3Nlc3QoJ2Zvcm0nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZvcm0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm0ucmVzZXQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF9maWVsZHMgPSB7fTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF9mb3JtVmFsdWVzID0gcHJvcHMuc2hvdWxkVW5yZWdpc3RlclxuICAgICAgICAgICAgICAgID8ga2VlcFN0YXRlT3B0aW9ucy5rZWVwRGVmYXVsdFZhbHVlc1xuICAgICAgICAgICAgICAgICAgICA/IGNsb25lT2JqZWN0KF9kZWZhdWx0VmFsdWVzKVxuICAgICAgICAgICAgICAgICAgICA6IHt9XG4gICAgICAgICAgICAgICAgOiBjbG9uZVVwZGF0ZWRWYWx1ZXM7XG4gICAgICAgICAgICBfc3ViamVjdHMuYXJyYXkubmV4dCh7XG4gICAgICAgICAgICAgICAgdmFsdWVzOiB7IC4uLnZhbHVlcyB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBfc3ViamVjdHMudmFsdWVzLm5leHQoe1xuICAgICAgICAgICAgICAgIHZhbHVlczogeyAuLi52YWx1ZXMgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIF9uYW1lcyA9IHtcbiAgICAgICAgICAgIG1vdW50OiBuZXcgU2V0KCksXG4gICAgICAgICAgICB1bk1vdW50OiBuZXcgU2V0KCksXG4gICAgICAgICAgICBhcnJheTogbmV3IFNldCgpLFxuICAgICAgICAgICAgd2F0Y2g6IG5ldyBTZXQoKSxcbiAgICAgICAgICAgIHdhdGNoQWxsOiBmYWxzZSxcbiAgICAgICAgICAgIGZvY3VzOiAnJyxcbiAgICAgICAgfTtcbiAgICAgICAgIV9zdGF0ZS5tb3VudCAmJiBmbHVzaFJvb3RSZW5kZXIoKTtcbiAgICAgICAgX3N0YXRlLm1vdW50ID0gIV9wcm94eUZvcm1TdGF0ZS5pc1ZhbGlkIHx8ICEha2VlcFN0YXRlT3B0aW9ucy5rZWVwSXNWYWxpZDtcbiAgICAgICAgX3N0YXRlLndhdGNoID0gISFwcm9wcy5zaG91bGRVbnJlZ2lzdGVyO1xuICAgICAgICBfc3ViamVjdHMuc3RhdGUubmV4dCh7XG4gICAgICAgICAgICBzdWJtaXRDb3VudDoga2VlcFN0YXRlT3B0aW9ucy5rZWVwU3VibWl0Q291bnRcbiAgICAgICAgICAgICAgICA/IF9mb3JtU3RhdGUuc3VibWl0Q291bnRcbiAgICAgICAgICAgICAgICA6IDAsXG4gICAgICAgICAgICBpc0RpcnR5OiBrZWVwU3RhdGVPcHRpb25zLmtlZXBEaXJ0eVxuICAgICAgICAgICAgICAgID8gX2Zvcm1TdGF0ZS5pc0RpcnR5XG4gICAgICAgICAgICAgICAgOiAhIShrZWVwU3RhdGVPcHRpb25zLmtlZXBEZWZhdWx0VmFsdWVzICYmXG4gICAgICAgICAgICAgICAgICAgICFkZWVwRXF1YWwoZm9ybVZhbHVlcywgX2RlZmF1bHRWYWx1ZXMpKSxcbiAgICAgICAgICAgIGlzU3VibWl0dGVkOiBrZWVwU3RhdGVPcHRpb25zLmtlZXBJc1N1Ym1pdHRlZFxuICAgICAgICAgICAgICAgID8gX2Zvcm1TdGF0ZS5pc1N1Ym1pdHRlZFxuICAgICAgICAgICAgICAgIDogZmFsc2UsXG4gICAgICAgICAgICBkaXJ0eUZpZWxkczoga2VlcFN0YXRlT3B0aW9ucy5rZWVwRGlydHlWYWx1ZXNcbiAgICAgICAgICAgICAgICA/IF9mb3JtU3RhdGUuZGlydHlGaWVsZHNcbiAgICAgICAgICAgICAgICA6IGtlZXBTdGF0ZU9wdGlvbnMua2VlcERlZmF1bHRWYWx1ZXMgJiYgZm9ybVZhbHVlc1xuICAgICAgICAgICAgICAgICAgICA/IGdldERpcnR5RmllbGRzKF9kZWZhdWx0VmFsdWVzLCBmb3JtVmFsdWVzKVxuICAgICAgICAgICAgICAgICAgICA6IHt9LFxuICAgICAgICAgICAgdG91Y2hlZEZpZWxkczoga2VlcFN0YXRlT3B0aW9ucy5rZWVwVG91Y2hlZFxuICAgICAgICAgICAgICAgID8gX2Zvcm1TdGF0ZS50b3VjaGVkRmllbGRzXG4gICAgICAgICAgICAgICAgOiB7fSxcbiAgICAgICAgICAgIGVycm9yczoga2VlcFN0YXRlT3B0aW9ucy5rZWVwRXJyb3JzID8gX2Zvcm1TdGF0ZS5lcnJvcnMgOiB7fSxcbiAgICAgICAgICAgIGlzU3VibWl0dGluZzogZmFsc2UsXG4gICAgICAgICAgICBpc1N1Ym1pdFN1Y2Nlc3NmdWw6IGZhbHNlLFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIGNvbnN0IHJlc2V0ID0gKGZvcm1WYWx1ZXMsIGtlZXBTdGF0ZU9wdGlvbnMpID0+IF9yZXNldChpc0Z1bmN0aW9uKGZvcm1WYWx1ZXMpXG4gICAgICAgID8gZm9ybVZhbHVlcyhfZm9ybVZhbHVlcylcbiAgICAgICAgOiBmb3JtVmFsdWVzLCBrZWVwU3RhdGVPcHRpb25zKTtcbiAgICBjb25zdCBzZXRGb2N1cyA9IChuYW1lLCBvcHRpb25zID0ge30pID0+IHtcbiAgICAgICAgY29uc3QgZmllbGQgPSBnZXQoX2ZpZWxkcywgbmFtZSk7XG4gICAgICAgIGNvbnN0IGZpZWxkUmVmZXJlbmNlID0gZmllbGQgJiYgZmllbGQuX2Y7XG4gICAgICAgIGlmIChmaWVsZFJlZmVyZW5jZSkge1xuICAgICAgICAgICAgY29uc3QgZmllbGRSZWYgPSBmaWVsZFJlZmVyZW5jZS5yZWZzXG4gICAgICAgICAgICAgICAgPyBmaWVsZFJlZmVyZW5jZS5yZWZzWzBdXG4gICAgICAgICAgICAgICAgOiBmaWVsZFJlZmVyZW5jZS5yZWY7XG4gICAgICAgICAgICBpZiAoZmllbGRSZWYuZm9jdXMpIHtcbiAgICAgICAgICAgICAgICBmaWVsZFJlZi5mb2N1cygpO1xuICAgICAgICAgICAgICAgIG9wdGlvbnMuc2hvdWxkU2VsZWN0ICYmIGZpZWxkUmVmLnNlbGVjdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBfdXBkYXRlRm9ybVN0YXRlID0gKHVwZGF0ZWRGb3JtU3RhdGUpID0+IHtcbiAgICAgICAgX2Zvcm1TdGF0ZSA9IHtcbiAgICAgICAgICAgIC4uLl9mb3JtU3RhdGUsXG4gICAgICAgICAgICAuLi51cGRhdGVkRm9ybVN0YXRlLFxuICAgICAgICB9O1xuICAgIH07XG4gICAgY29uc3QgX3Jlc2V0RGVmYXVsdFZhbHVlcyA9ICgpID0+IGlzRnVuY3Rpb24oX29wdGlvbnMuZGVmYXVsdFZhbHVlcykgJiZcbiAgICAgICAgX29wdGlvbnMuZGVmYXVsdFZhbHVlcygpLnRoZW4oKHZhbHVlcykgPT4ge1xuICAgICAgICAgICAgcmVzZXQodmFsdWVzLCBfb3B0aW9ucy5yZXNldE9wdGlvbnMpO1xuICAgICAgICAgICAgX3N1YmplY3RzLnN0YXRlLm5leHQoe1xuICAgICAgICAgICAgICAgIGlzTG9hZGluZzogZmFsc2UsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgY29udHJvbDoge1xuICAgICAgICAgICAgcmVnaXN0ZXIsXG4gICAgICAgICAgICB1bnJlZ2lzdGVyLFxuICAgICAgICAgICAgZ2V0RmllbGRTdGF0ZSxcbiAgICAgICAgICAgIF9leGVjdXRlU2NoZW1hLFxuICAgICAgICAgICAgX2dldFdhdGNoLFxuICAgICAgICAgICAgX2dldERpcnR5LFxuICAgICAgICAgICAgX3VwZGF0ZVZhbGlkLFxuICAgICAgICAgICAgX3JlbW92ZVVubW91bnRlZCxcbiAgICAgICAgICAgIF91cGRhdGVGaWVsZEFycmF5LFxuICAgICAgICAgICAgX2dldEZpZWxkQXJyYXksXG4gICAgICAgICAgICBfcmVzZXQsXG4gICAgICAgICAgICBfcmVzZXREZWZhdWx0VmFsdWVzLFxuICAgICAgICAgICAgX3VwZGF0ZUZvcm1TdGF0ZSxcbiAgICAgICAgICAgIF9zdWJqZWN0cyxcbiAgICAgICAgICAgIF9wcm94eUZvcm1TdGF0ZSxcbiAgICAgICAgICAgIGdldCBfZmllbGRzKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfZmllbGRzO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldCBfZm9ybVZhbHVlcygpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX2Zvcm1WYWx1ZXM7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0IF9zdGF0ZSgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3N0YXRlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldCBfc3RhdGUodmFsdWUpIHtcbiAgICAgICAgICAgICAgICBfc3RhdGUgPSB2YWx1ZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQgX2RlZmF1bHRWYWx1ZXMoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9kZWZhdWx0VmFsdWVzO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldCBfbmFtZXMoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9uYW1lcztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQgX25hbWVzKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgX25hbWVzID0gdmFsdWU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0IF9mb3JtU3RhdGUoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9mb3JtU3RhdGU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0IF9mb3JtU3RhdGUodmFsdWUpIHtcbiAgICAgICAgICAgICAgICBfZm9ybVN0YXRlID0gdmFsdWU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0IF9vcHRpb25zKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfb3B0aW9ucztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQgX29wdGlvbnModmFsdWUpIHtcbiAgICAgICAgICAgICAgICBfb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAgICAgLi4uX29wdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgIC4uLnZhbHVlLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICB0cmlnZ2VyLFxuICAgICAgICByZWdpc3RlcixcbiAgICAgICAgaGFuZGxlU3VibWl0LFxuICAgICAgICB3YXRjaCxcbiAgICAgICAgc2V0VmFsdWUsXG4gICAgICAgIGdldFZhbHVlcyxcbiAgICAgICAgcmVzZXQsXG4gICAgICAgIHJlc2V0RmllbGQsXG4gICAgICAgIGNsZWFyRXJyb3JzLFxuICAgICAgICB1bnJlZ2lzdGVyLFxuICAgICAgICBzZXRFcnJvcixcbiAgICAgICAgc2V0Rm9jdXMsXG4gICAgICAgIGdldEZpZWxkU3RhdGUsXG4gICAgfTtcbn1cblxuLyoqXG4gKiBDdXN0b20gaG9vayB0byBtYW5hZ2UgdGhlIGVudGlyZSBmb3JtLlxuICpcbiAqIEByZW1hcmtzXG4gKiBbQVBJXShodHRwczovL3JlYWN0LWhvb2stZm9ybS5jb20vYXBpL3VzZWZvcm0pIOKAoiBbRGVtb10oaHR0cHM6Ly9jb2Rlc2FuZGJveC5pby9zL3JlYWN0LWhvb2stZm9ybS1nZXQtc3RhcnRlZC10cy01a3NtbSkg4oCiIFtWaWRlb10oaHR0cHM6Ly93d3cueW91dHViZS5jb20vd2F0Y2g/dj1Sa1h2NEFYWENfNClcbiAqXG4gKiBAcGFyYW0gcHJvcHMgLSBmb3JtIGNvbmZpZ3VyYXRpb24gYW5kIHZhbGlkYXRpb24gcGFyYW1ldGVycy5cbiAqXG4gKiBAcmV0dXJucyBtZXRob2RzIC0gaW5kaXZpZHVhbCBmdW5jdGlvbnMgdG8gbWFuYWdlIHRoZSBmb3JtIHN0YXRlLiB7QGxpbmsgVXNlRm9ybVJldHVybn1cbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgdHN4XG4gKiBmdW5jdGlvbiBBcHAoKSB7XG4gKiAgIGNvbnN0IHsgcmVnaXN0ZXIsIGhhbmRsZVN1Ym1pdCwgd2F0Y2gsIGZvcm1TdGF0ZTogeyBlcnJvcnMgfSB9ID0gdXNlRm9ybSgpO1xuICogICBjb25zdCBvblN1Ym1pdCA9IGRhdGEgPT4gY29uc29sZS5sb2coZGF0YSk7XG4gKlxuICogICBjb25zb2xlLmxvZyh3YXRjaChcImV4YW1wbGVcIikpO1xuICpcbiAqICAgcmV0dXJuIChcbiAqICAgICA8Zm9ybSBvblN1Ym1pdD17aGFuZGxlU3VibWl0KG9uU3VibWl0KX0+XG4gKiAgICAgICA8aW5wdXQgZGVmYXVsdFZhbHVlPVwidGVzdFwiIHsuLi5yZWdpc3RlcihcImV4YW1wbGVcIil9IC8+XG4gKiAgICAgICA8aW5wdXQgey4uLnJlZ2lzdGVyKFwiZXhhbXBsZVJlcXVpcmVkXCIsIHsgcmVxdWlyZWQ6IHRydWUgfSl9IC8+XG4gKiAgICAgICB7ZXJyb3JzLmV4YW1wbGVSZXF1aXJlZCAmJiA8c3Bhbj5UaGlzIGZpZWxkIGlzIHJlcXVpcmVkPC9zcGFuPn1cbiAqICAgICAgIDxpbnB1dCB0eXBlPVwic3VibWl0XCIgLz5cbiAqICAgICA8L2Zvcm0+XG4gKiAgICk7XG4gKiB9XG4gKiBgYGBcbiAqL1xuZnVuY3Rpb24gdXNlRm9ybShwcm9wcyA9IHt9KSB7XG4gICAgY29uc3QgX2Zvcm1Db250cm9sID0gUmVhY3QudXNlUmVmKCk7XG4gICAgY29uc3QgW2Zvcm1TdGF0ZSwgdXBkYXRlRm9ybVN0YXRlXSA9IFJlYWN0LnVzZVN0YXRlKHtcbiAgICAgICAgaXNEaXJ0eTogZmFsc2UsXG4gICAgICAgIGlzVmFsaWRhdGluZzogZmFsc2UsXG4gICAgICAgIGlzTG9hZGluZzogaXNGdW5jdGlvbihwcm9wcy5kZWZhdWx0VmFsdWVzKSxcbiAgICAgICAgaXNTdWJtaXR0ZWQ6IGZhbHNlLFxuICAgICAgICBpc1N1Ym1pdHRpbmc6IGZhbHNlLFxuICAgICAgICBpc1N1Ym1pdFN1Y2Nlc3NmdWw6IGZhbHNlLFxuICAgICAgICBpc1ZhbGlkOiBmYWxzZSxcbiAgICAgICAgc3VibWl0Q291bnQ6IDAsXG4gICAgICAgIGRpcnR5RmllbGRzOiB7fSxcbiAgICAgICAgdG91Y2hlZEZpZWxkczoge30sXG4gICAgICAgIGVycm9yczoge30sXG4gICAgICAgIGRlZmF1bHRWYWx1ZXM6IGlzRnVuY3Rpb24ocHJvcHMuZGVmYXVsdFZhbHVlcylcbiAgICAgICAgICAgID8gdW5kZWZpbmVkXG4gICAgICAgICAgICA6IHByb3BzLmRlZmF1bHRWYWx1ZXMsXG4gICAgfSk7XG4gICAgaWYgKCFfZm9ybUNvbnRyb2wuY3VycmVudCkge1xuICAgICAgICBfZm9ybUNvbnRyb2wuY3VycmVudCA9IHtcbiAgICAgICAgICAgIC4uLmNyZWF0ZUZvcm1Db250cm9sKHByb3BzLCAoKSA9PiB1cGRhdGVGb3JtU3RhdGUoKGZvcm1TdGF0ZSkgPT4gKHsgLi4uZm9ybVN0YXRlIH0pKSksXG4gICAgICAgICAgICBmb3JtU3RhdGUsXG4gICAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0IGNvbnRyb2wgPSBfZm9ybUNvbnRyb2wuY3VycmVudC5jb250cm9sO1xuICAgIGNvbnRyb2wuX29wdGlvbnMgPSBwcm9wcztcbiAgICB1c2VTdWJzY3JpYmUoe1xuICAgICAgICBzdWJqZWN0OiBjb250cm9sLl9zdWJqZWN0cy5zdGF0ZSxcbiAgICAgICAgbmV4dDogKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICBpZiAoc2hvdWxkUmVuZGVyRm9ybVN0YXRlKHZhbHVlLCBjb250cm9sLl9wcm94eUZvcm1TdGF0ZSwgY29udHJvbC5fdXBkYXRlRm9ybVN0YXRlLCB0cnVlKSkge1xuICAgICAgICAgICAgICAgIHVwZGF0ZUZvcm1TdGF0ZSh7IC4uLmNvbnRyb2wuX2Zvcm1TdGF0ZSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICB9KTtcbiAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAocHJvcHMudmFsdWVzICYmICFkZWVwRXF1YWwocHJvcHMudmFsdWVzLCBjb250cm9sLl9kZWZhdWx0VmFsdWVzKSkge1xuICAgICAgICAgICAgY29udHJvbC5fcmVzZXQocHJvcHMudmFsdWVzLCBjb250cm9sLl9vcHRpb25zLnJlc2V0T3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb250cm9sLl9yZXNldERlZmF1bHRWYWx1ZXMoKTtcbiAgICAgICAgfVxuICAgIH0sIFtwcm9wcy52YWx1ZXMsIGNvbnRyb2xdKTtcbiAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIWNvbnRyb2wuX3N0YXRlLm1vdW50KSB7XG4gICAgICAgICAgICBjb250cm9sLl91cGRhdGVWYWxpZCgpO1xuICAgICAgICAgICAgY29udHJvbC5fc3RhdGUubW91bnQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb250cm9sLl9zdGF0ZS53YXRjaCkge1xuICAgICAgICAgICAgY29udHJvbC5fc3RhdGUud2F0Y2ggPSBmYWxzZTtcbiAgICAgICAgICAgIGNvbnRyb2wuX3N1YmplY3RzLnN0YXRlLm5leHQoeyAuLi5jb250cm9sLl9mb3JtU3RhdGUgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29udHJvbC5fcmVtb3ZlVW5tb3VudGVkKCk7XG4gICAgfSk7XG4gICAgX2Zvcm1Db250cm9sLmN1cnJlbnQuZm9ybVN0YXRlID0gZ2V0UHJveHlGb3JtU3RhdGUoZm9ybVN0YXRlLCBjb250cm9sKTtcbiAgICByZXR1cm4gX2Zvcm1Db250cm9sLmN1cnJlbnQ7XG59XG5cbmV4cG9ydCB7IENvbnRyb2xsZXIsIEZvcm1Qcm92aWRlciwgYXBwZW5kRXJyb3JzLCBnZXQsIHNldCwgdXNlQ29udHJvbGxlciwgdXNlRmllbGRBcnJheSwgdXNlRm9ybSwgdXNlRm9ybUNvbnRleHQsIHVzZUZvcm1TdGF0ZSwgdXNlV2F0Y2ggfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmVzbS5tanMubWFwXG4iXSwibmFtZXMiOlsiaXNDaGVja0JveElucHV0IiwiZWxlbWVudCIsInR5cGUiLCJpc0RhdGVPYmplY3QiLCJ2YWx1ZSIsIkRhdGUiLCJpc051bGxPclVuZGVmaW5lZCIsImlzT2JqZWN0VHlwZSIsImlzT2JqZWN0IiwiQXJyYXkiLCJpc0FycmF5IiwiaXNXZWIiLCJ3aW5kb3ciLCJIVE1MRWxlbWVudCIsImRvY3VtZW50IiwiY2xvbmVPYmplY3QiLCJkYXRhIiwiY29weSIsIlNldCIsIkJsb2IiLCJGaWxlTGlzdCIsInRlbXBPYmplY3QiLCJwcm90b3R5cGVDb3B5IiwiY29uc3RydWN0b3IiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImlzUGxhaW5PYmplY3QiLCJrZXkiLCJjb21wYWN0IiwiZmlsdGVyIiwiQm9vbGVhbiIsImlzVW5kZWZpbmVkIiwidmFsIiwidW5kZWZpbmVkIiwiZ2V0Iiwib2JqIiwicGF0aCIsImRlZmF1bHRWYWx1ZSIsInJlc3VsdCIsInNwbGl0IiwicmVkdWNlIiwiVkFMSURBVElPTl9NT0RFIiwiSU5QVVRfVkFMSURBVElPTl9SVUxFUyIsImlzRW1wdHlPYmplY3QiLCJPYmplY3QiLCJrZXlzIiwibGVuZ3RoIiwiY29udmVydFRvQXJyYXlQYXlsb2FkIiwiaXNTdHJpbmciLCJpc0tleSIsInRlc3QiLCJzdHJpbmdUb1BhdGgiLCJpbnB1dCIsInJlcGxhY2UiLCJzZXQiLCJvYmplY3QiLCJpbmRleCIsInRlbXBQYXRoIiwibGFzdEluZGV4IiwibmV3VmFsdWUiLCJvYmpWYWx1ZSIsImlzTmFOIiwiYXBwZW5kRXJyb3JzIiwibmFtZSIsInZhbGlkYXRlQWxsRmllbGRDcml0ZXJpYSIsImVycm9ycyIsIm1lc3NhZ2UiLCJ0eXBlcyIsImZvY3VzRmllbGRCeSIsImZpZWxkcyIsImNhbGxiYWNrIiwiZmllbGRzTmFtZXMiLCJmaWVsZCIsIl9mIiwiY3VycmVudEZpZWxkIiwicmVmIiwiZm9jdXMiLCJyZWZzIiwiZ2V0VmFsaWRhdGlvbk1vZGVzIiwibW9kZSIsImlzT25TdWJtaXQiLCJpc09uQmx1ciIsImlzT25DaGFuZ2UiLCJpc09uQWxsIiwiaXNPblRvdWNoIiwiaXNXYXRjaGVkIiwiX25hbWVzIiwiaXNCbHVyRXZlbnQiLCJ3YXRjaEFsbCIsIndhdGNoIiwiaGFzIiwic29tZSIsIndhdGNoTmFtZSIsInN0YXJ0c1dpdGgiLCJzbGljZSIsInVwZGF0ZUZpZWxkQXJyYXlSb290RXJyb3IiLCJlcnJvciIsImZpZWxkQXJyYXlFcnJvcnMiLCJpc0Jvb2xlYW4iLCJpc0ZpbGVJbnB1dCIsImlzRnVuY3Rpb24iLCJpc0hUTUxFbGVtZW50Iiwib3duZXIiLCJvd25lckRvY3VtZW50IiwiZGVmYXVsdFZpZXciLCJpc01lc3NhZ2UiLCJpc1JhZGlvSW5wdXQiLCJpc1JlZ2V4IiwiUmVnRXhwIiwiZGVmYXVsdFJlc3VsdCIsImlzVmFsaWQiLCJ2YWxpZFJlc3VsdCIsImdldENoZWNrYm94VmFsdWUiLCJvcHRpb25zIiwidmFsdWVzIiwib3B0aW9uIiwiY2hlY2tlZCIsImRpc2FibGVkIiwibWFwIiwiYXR0cmlidXRlcyIsImRlZmF1bHRSZXR1cm4iLCJnZXRSYWRpb1ZhbHVlIiwicHJldmlvdXMiLCJnZXRWYWxpZGF0ZUVycm9yIiwiZXZlcnkiLCJnZXRWYWx1ZUFuZE1lc3NhZ2UiLCJ2YWxpZGF0aW9uRGF0YSIsInZhbGlkYXRlRmllbGQiLCJhc3luYyIsImZvcm1WYWx1ZXMiLCJzaG91bGRVc2VOYXRpdmVWYWxpZGF0aW9uIiwiaXNGaWVsZEFycmF5IiwicmVxdWlyZWQiLCJtYXhMZW5ndGgiLCJtaW5MZW5ndGgiLCJtaW4iLCJtYXgiLCJwYXR0ZXJuIiwidmFsaWRhdGUiLCJ2YWx1ZUFzTnVtYmVyIiwibW91bnQiLCJpbnB1dFZhbHVlIiwiaW5wdXRSZWYiLCJzZXRDdXN0b21WYWxpZGl0eSIsInJlcG9ydFZhbGlkaXR5IiwiaXNSYWRpbyIsImlzQ2hlY2tCb3giLCJpc1JhZGlvT3JDaGVja2JveCIsImlzRW1wdHkiLCJhcHBlbmRFcnJvcnNDdXJyeSIsImJpbmQiLCJnZXRNaW5NYXhNZXNzYWdlIiwiZXhjZWVkTWF4IiwibWF4TGVuZ3RoTWVzc2FnZSIsIm1pbkxlbmd0aE1lc3NhZ2UiLCJtYXhUeXBlIiwibWluVHlwZSIsImV4Y2VlZE1pbiIsIm1heE91dHB1dCIsIm1pbk91dHB1dCIsInZhbHVlRGF0ZSIsInZhbHVlQXNEYXRlIiwiY29udmVydFRpbWVUb0RhdGUiLCJ0aW1lIiwidG9EYXRlU3RyaW5nIiwiaXNUaW1lIiwiaXNXZWVrIiwidmFsdWVOdW1iZXIiLCJtYXhMZW5ndGhPdXRwdXQiLCJtaW5MZW5ndGhPdXRwdXQiLCJwYXR0ZXJuVmFsdWUiLCJtYXRjaCIsInZhbGlkYXRlRXJyb3IiLCJ2YWxpZGF0aW9uUmVzdWx0IiwidW5zZXQiLCJwYXRocyIsImNoaWxkT2JqZWN0IiwidXBkYXRlUGF0aCIsImJhc2VHZXQiLCJpc0VtcHR5QXJyYXkiLCJjcmVhdGVTdWJqZWN0IiwiX29ic2VydmVycyIsIm9ic2VydmVycyIsIm5leHQiLCJvYnNlcnZlciIsInN1YnNjcmliZSIsInB1c2giLCJ1bnN1YnNjcmliZSIsIm8iLCJpc1ByaW1pdGl2ZSIsImRlZXBFcXVhbCIsIm9iamVjdDEiLCJvYmplY3QyIiwiZ2V0VGltZSIsImtleXMxIiwia2V5czIiLCJ2YWwxIiwiaW5jbHVkZXMiLCJ2YWwyIiwiaXNNdWx0aXBsZVNlbGVjdCIsImxpdmUiLCJpc0Nvbm5lY3RlZCIsIm9iamVjdEhhc0Z1bmN0aW9uIiwibWFya0ZpZWxkc0RpcnR5IiwiaXNQYXJlbnROb2RlQXJyYXkiLCJnZXREaXJ0eUZpZWxkc0Zyb21EZWZhdWx0VmFsdWVzIiwiZGlydHlGaWVsZHNGcm9tVmFsdWVzIiwiZ2V0RGlydHlGaWVsZHMiLCJkZWZhdWx0VmFsdWVzIiwiZ2V0RmllbGRWYWx1ZUFzIiwic2V0VmFsdWVBcyIsIk5hTiIsImdldEZpZWxkVmFsdWUiLCJmaWxlcyIsInNlbGVjdGVkT3B0aW9ucyIsImdldFJ1bGVWYWx1ZSIsInJ1bGUiLCJzb3VyY2UiLCJzY2hlbWFFcnJvckxvb2t1cCIsIl9maWVsZHMiLCJuYW1lcyIsImZpZWxkTmFtZSIsImpvaW4iLCJmb3VuZEVycm9yIiwicG9wIiwiZGVmYXVsdE9wdGlvbnMiLCJyZVZhbGlkYXRlTW9kZSIsInNob3VsZEZvY3VzRXJyb3IiLCJjcmVhdGVGb3JtQ29udHJvbCIsInByb3BzIiwiZmx1c2hSb290UmVuZGVyIiwiZGVsYXlFcnJvckNhbGxiYWNrIiwiX29wdGlvbnMiLCJfZm9ybVN0YXRlIiwic3VibWl0Q291bnQiLCJpc0RpcnR5IiwiaXNMb2FkaW5nIiwiaXNWYWxpZGF0aW5nIiwiaXNTdWJtaXR0ZWQiLCJpc1N1Ym1pdHRpbmciLCJpc1N1Ym1pdFN1Y2Nlc3NmdWwiLCJ0b3VjaGVkRmllbGRzIiwiZGlydHlGaWVsZHMiLCJfZGVmYXVsdFZhbHVlcyIsIl9mb3JtVmFsdWVzIiwic2hvdWxkVW5yZWdpc3RlciIsIl9zdGF0ZSIsImFjdGlvbiIsInVuTW91bnQiLCJhcnJheSIsInRpbWVyIiwiX3Byb3h5Rm9ybVN0YXRlIiwiX3N1YmplY3RzIiwic3RhdGUiLCJzaG91bGRDYXB0dXJlRGlydHlGaWVsZHMiLCJyZXNldE9wdGlvbnMiLCJrZWVwRGlydHlWYWx1ZXMiLCJ2YWxpZGF0aW9uTW9kZUJlZm9yZVN1Ym1pdCIsInZhbGlkYXRpb25Nb2RlQWZ0ZXJTdWJtaXQiLCJzaG91bGREaXNwbGF5QWxsQXNzb2NpYXRlZEVycm9ycyIsImNyaXRlcmlhTW9kZSIsIl91cGRhdGVWYWxpZCIsInNob3VsZFVwZGF0ZVZhbGlkIiwicmVzb2x2ZXIiLCJfZXhlY3V0ZVNjaGVtYSIsImV4ZWN1dGVCdWlsdEluVmFsaWRhdGlvbiIsIl91cGRhdGVJc1ZhbGlkYXRpbmciLCJ1cGRhdGVWYWxpZEFuZFZhbHVlIiwic2hvdWxkU2tpcFNldFZhbHVlQXMiLCJkZWZhdWx0Q2hlY2tlZCIsInNldEZpZWxkVmFsdWUiLCJ1cGRhdGVUb3VjaEFuZERpcnR5IiwiZmllbGRWYWx1ZSIsInNob3VsZERpcnR5Iiwic2hvdWxkUmVuZGVyIiwic2hvdWxkVXBkYXRlRmllbGQiLCJpc1ByZXZpb3VzRGlydHkiLCJvdXRwdXQiLCJfZ2V0RGlydHkiLCJpc0N1cnJlbnRGaWVsZFByaXN0aW5lIiwiaXNQcmV2aW91c0ZpZWxkVG91Y2hlZCIsImNvbnRleHQiLCJnZXRSZXNvbHZlck9wdGlvbnMiLCJzaG91bGRPbmx5Q2hlY2tWYWxpZCIsInZhbGlkIiwiaXNGaWVsZEFycmF5Um9vdCIsImZpZWxkRXJyb3IiLCJnZXRWYWx1ZXMiLCJfZ2V0V2F0Y2giLCJpc0dsb2JhbCIsImFkZCIsImdlbmVyYXRlV2F0Y2hPdXRwdXQiLCJmaWVsZFJlZmVyZW5jZSIsImZvckVhY2giLCJvcHRpb25SZWYiLCJzZWxlY3RlZCIsImNoZWNrYm94UmVmIiwiZmluZCIsInJhZGlvUmVmIiwic2hvdWxkVG91Y2giLCJzaG91bGRWYWxpZGF0ZSIsInRyaWdnZXIiLCJzZXRWYWx1ZXMiLCJmaWVsZEtleSIsInNldFZhbHVlIiwiY2xvbmVWYWx1ZSIsIm9uQ2hhbmdlIiwiZXZlbnQiLCJ0YXJnZXQiLCJpc0ZpZWxkVmFsdWVVcGRhdGVkIiwiZ2V0RXZlbnRWYWx1ZSIsInNob3VsZFNraXBWYWxpZGF0aW9uIiwiZGVwcyIsImlzVG91Y2hlZCIsInNraXBWYWxpZGF0aW9uIiwid2F0Y2hlZCIsIm9uQmx1ciIsImZpZWxkU3RhdGUiLCJwcmV2aW91c0Vycm9yTG9va3VwUmVzdWx0IiwiZXJyb3JMb29rdXBSZXN1bHQiLCJwcmV2aW91c0ZpZWxkRXJyb3IiLCJkZWxheUVycm9yIiwidXBkYXRlRXJyb3JzIiwid2FpdCIsImNsZWFyVGltZW91dCIsInNldFRpbWVvdXQiLCJ1cGRhdGVkRm9ybVN0YXRlIiwic2hvdWxkUmVuZGVyQnlFcnJvciIsImZpZWxkTmFtZXMiLCJleGVjdXRlU2NoZW1hQW5kVXBkYXRlU3RhdGUiLCJQcm9taXNlIiwiYWxsIiwic2hvdWxkRm9jdXMiLCJnZXRGaWVsZFN0YXRlIiwiZm9ybVN0YXRlIiwiaW52YWxpZCIsInVucmVnaXN0ZXIiLCJkZWxldGUiLCJrZWVwVmFsdWUiLCJrZWVwRXJyb3IiLCJrZWVwRGlydHkiLCJrZWVwVG91Y2hlZCIsImtlZXBEZWZhdWx0VmFsdWUiLCJrZWVwSXNWYWxpZCIsInJlZ2lzdGVyIiwiZGlzYWJsZWRJc0RlZmluZWQiLCJmaWVsZFJlZiIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJyYWRpb09yQ2hlY2tib3giLCJzdWJzdHJpbmciLCJzZWFyY2giLCJnZXROb2RlUGFyZW50TmFtZSIsImlzTmFtZUluRmllbGRBcnJheSIsIl9mb2N1c0Vycm9yIiwiX3Jlc2V0Iiwia2VlcFN0YXRlT3B0aW9ucyIsInVwZGF0ZWRWYWx1ZXMiLCJjbG9uZVVwZGF0ZWRWYWx1ZXMiLCJrZWVwRGVmYXVsdFZhbHVlcyIsImtlZXBWYWx1ZXMiLCJmb3JtIiwiY2xvc2VzdCIsInJlc2V0Iiwia2VlcFN1Ym1pdENvdW50Iiwia2VlcElzU3VibWl0dGVkIiwia2VlcEVycm9ycyIsImNvbnRyb2wiLCJfcmVtb3ZlVW5tb3VudGVkIiwiX3VwZGF0ZUZpZWxkQXJyYXkiLCJtZXRob2QiLCJhcmdzIiwic2hvdWxkU2V0VmFsdWVzIiwic2hvdWxkVXBkYXRlRmllbGRzQW5kU3RhdGUiLCJmaWVsZFZhbHVlcyIsImFyZ0EiLCJhcmdCIiwidW5zZXRFbXB0eUFycmF5IiwiX2dldEZpZWxkQXJyYXkiLCJfcmVzZXREZWZhdWx0VmFsdWVzIiwidGhlbiIsIl91cGRhdGVGb3JtU3RhdGUiLCJoYW5kbGVTdWJtaXQiLCJvblZhbGlkIiwib25JbnZhbGlkIiwiZSIsInByZXZlbnREZWZhdWx0IiwicGVyc2lzdCIsInBheWxvYWQiLCJyZXNldEZpZWxkIiwiY2xlYXJFcnJvcnMiLCJpbnB1dE5hbWUiLCJzZXRFcnJvciIsInNldEZvY3VzIiwic2hvdWxkU2VsZWN0Iiwic2VsZWN0IiwidXNlRm9ybSIsIl9mb3JtQ29udHJvbCIsInVwZGF0ZUZvcm1TdGF0ZSIsImN1cnJlbnQiLCJfcHJvcHMiLCJzdWJzY3JpcHRpb24iLCJzdWJqZWN0IiwidXNlU3Vic2NyaWJlIiwiZm9ybVN0YXRlRGF0YSIsImlzUm9vdCIsInNob3VsZFJlbmRlckZvcm1TdGF0ZSIsImxvY2FsUHJveHlGb3JtU3RhdGUiLCJkZWZpbmVQcm9wZXJ0eSIsIl9rZXkiLCJnZXRQcm94eUZvcm1TdGF0ZSJdLCJzb3VyY2VSb290IjoiIn0=